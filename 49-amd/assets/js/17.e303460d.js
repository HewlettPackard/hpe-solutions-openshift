(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{417:function(e,t,n){e.exports=n.p+"assets/img/figure118.a967e308.png"},418:function(e,t,n){e.exports=n.p+"assets/img/figure119.e3be7b1f.png"},522:function(e,t,n){"use strict";n.r(t);var a=n(54),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"openshift-container-platform-at-the-edge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openshift-container-platform-at-the-edge"}},[e._v("#")]),e._v(" OpenShift Container Platform at the edge")]),e._v(" "),a("p",[e._v("Edge computing enables businesses become more proactive and dynamic by deploying applications and IT processing power closer to the devices and sensors that create or consume data, enabling them to gather, analyze and turn large data flows into actionable insights, faster. To make edge computing successful, consistency of application development and IT resource management is essential, especially when operating potentially hundreds to thousands of locations and/or clusters.")]),e._v(" "),a("ul",[a("li",[e._v("Many edge sites are smaller in physical size when compared to their larger core or regional data center counterparts, and trying to install hardware in a space that was not designed for it needs to be carefully planned out.")]),e._v(" "),a("li",[e._v("Heat, weather, radio-electrical emissions, lack of peripheral security, and the potential of having a limited supply of reliable power and cooling for equipment must also be addressed.")]),e._v(" "),a("li",[e._v("Network connectivity at remote locations that can vary greatly and often be slow or unreliable.")]),e._v(" "),a("li",[e._v("Minimal to no IT staff on-site to managed the IT solution.")])]),e._v(" "),a("p",[e._v("Red Hat OpenShift lets IT function operate consistently and innovate continuously regardless of where the applications reside today or where to place them tomorrow. It extends the capabilities of Kubernetes in smaller footprint options including 3-node cluster, remote worker node topology or a combination of both.")]),e._v(" "),a("h1",{attrs:{id:"remote-worker-nodes-at-the-network-edge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remote-worker-nodes-at-the-network-edge"}},[e._v("#")]),e._v(" Remote worker nodes at the network edge")]),e._v(" "),a("p",[e._v("A typical cluster with remote worker nodes combines on premise master and worker nodes with worker nodes in other locations that connect to the cluster. There are multiple use cases across different industries, such as telecommunications, retail, manufacturing, and government, for using a deployment pattern with remote worker nodes.")]),e._v(" "),a("p",[a("img",{attrs:{src:n(417),alt:""}})]),e._v(" "),a("h1",{attrs:{id:"limitation-remote-worker-nodes-at-the-network-edge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#limitation-remote-worker-nodes-at-the-network-edge"}},[e._v("#")]),e._v(" Limitation Remote worker nodes at the network edge")]),e._v(" "),a("p",[e._v("Remote worker nodes can introduce higher latency, intermittent loss of network connectivity, and other issues. Among the challenges in a cluster with remote worker node are:")]),e._v(" "),a("ul",[a("li",[e._v("Network separation: The OpenShift Container Platform control plane and the remote worker nodes must be able communicate with each other. Because of the distance between the control plane and the remote worker nodes, network issues could prevent this communication.")]),e._v(" "),a("li",[e._v("Power outage: Because the control plane and remote worker nodes are in separate locations, a power outage at the remote location or at any point between the two can negatively impact your cluster.")]),e._v(" "),a("li",[e._v("Latency spikes or temporary reduction in throughput: As with any network, any changes in network conditions between your cluster and the remote worker nodes can negatively impact your cluster")])]),e._v(" "),a("p",[a("a",{attrs:{href:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.9/html/nodes/remote-worker-nodes-on-the-network-edge",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://access.redhat.com/documentation/en-us/openshift_container_platform/4.9/html/nodes/remote-worker-nodes-on-the-network-edge"),a("OutboundLink")],1)]),e._v(" "),a("h1",{attrs:{id:"three-node-edge-cluster-at-the-network-edge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#three-node-edge-cluster-at-the-network-edge"}},[e._v("#")]),e._v(" Three Node Edge Cluster at the Network Edge")]),e._v(" "),a("p",[e._v("This solution involves building the smallest possible cluster delivering a local control plane, local storage, and compute to meet the requirements of demanding edge workloads while ensuring continuity & deliver true high availability.")]),e._v(" "),a("ul",[a("li",[e._v("Continue to fully operate, regardless of WAN connection state.")]),e._v(" "),a("li",[e._v("Pack this into the smallest footprint possible.")]),e._v(" "),a("li",[e._v("Be cost effective at scale.")])]),e._v(" "),a("p",[a("img",{attrs:{src:n(418),alt:""}})]),e._v(" "),a("p",[a("strong",[e._v("Deploying 3 Node OCP Cluster")])]),e._v(" "),a("ol",[a("li",[e._v("Create install-config.yaml file by setting worker nodes to “0” as mentioned below.")])]),e._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" v1\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("baseDomain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" name of the base domain"),a("span",{pre:!0,attrs:{class:"token important"}},[e._v("&gt;")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("hyperthreading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Enabled\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" worker\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("controlPlane")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("hyperthreading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Enabled\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" master\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token important"}},[e._v("&lt;name")]),e._v(" of the cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" same as the new domain under the base domain created"),a("span",{pre:!0,attrs:{class:"token important"}},[e._v("&gt;")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networking")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("clusterNetworks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cidr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 12.128.0.0/14\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("hostPrefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("23")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("networkType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" OpenShiftSDN\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("serviceNetwork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 172.30.0.0/16\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("platform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("none")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("pullSecret")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" ‘pull secret provided as per the Red Hat account’\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("sshKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" ‘ ssh key of the installer VM ’\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Refer to the “"),a("RouterLink",{attrs:{to:"/Solution-Deployment/Preparing-execution-environment.html#installer-machine"}},[e._v("Setting up installer vm")]),e._v("” section to setup a installer vm.")],1)]),e._v(" "),a("ol",[a("li",[e._v("Execute the following command on the installer VM to create the manifest files and the ignition files required to install Red Hat OpenShift")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BASE_DIR")]),e._v("/installer\n\n$ ansible-playbook playbooks/create_manifest_ignitions.yml\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +r installer/igninitions/*.ign\n")])])]),a("p",[e._v("The ignition files are generated on the installer VM within the folder /opt/hpe/solutions/ocp/hpe-solutions-openshift/DL/scalable/installer/ignitions.")]),e._v(" "),a("ol",[a("li",[e._v("Follow the ipxe approach to deploy 3 node cluster by setting worker node ip addres and mac address empty in “secret.yaml” file")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Please refer to the “"),a("RouterLink",{attrs:{to:"/Solution-Deployment/Operating-system-deployment.html#Red-Hat-CoreOS-deployment-using-iPXE-server"}},[e._v("Deploying OCP using ipxe method")]),e._v("” section to deploy ocp cluster. Make sure workers mac addresses and ip addresses are set to empty before proceeding with installation.")],1)]),e._v(" "),a("ol",[a("li",[e._v("Once the cluster is up and running, user can go ahead deploy the sample application as mentioned in section “"),a("a",{attrs:{href:"#_Validating_OpenShift_Container"}},[e._v("deploying wordpress")]),e._v("”.")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Additional worker node can be added by setting master schdulable to “false” in scheduler file. Scheduler file can be edited using following command. “oc edit scheduler”")])])])}),[],!1,null,null,null);t.default=s.exports}}]);