(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{169:function(e,t,s){e.exports=s.p+"assets/img/f23.e9d41058.png"},200:function(e,t,s){"use strict";s.r(t);var n=[function(){var e=this._self._c;return e("h1",{attrs:{id:"install-and-configure-velero"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-and-configure-velero"}},[this._v("#")]),this._v(" INSTALL AND CONFIGURE VELERO")])},function(){var e=this._self._c;return e("h2",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[this._v("#")]),this._v(" Introduction")])},function(){var e=this._self._c;return e("ul",[e("li",[e("p",[this._v("Backups can capture subsets of the cluster's resources, filtering by\nnamespace, resource type, and/or label selector, providing a high\ndegree of flexibility around what's backed up and restored")])]),this._v(" "),e("li",[e("p",[this._v("Users of managed Kubernetes offerings often do not have access to\nthe underlying etcd database, so direct backups/restores of it are\nnot possible")])]),this._v(" "),e("li",[e("p",[this._v("Resources exposed through aggregated API servers can easily be\nbacked up and restored even if they're stored in a separate etcd\ndatabase")])])])},function(){var e=this._self._c;return e("ul",[e("li",[e("p",[e("strong",[this._v("Disaster Recovery")]),this._v(" -- Recover Kubernetes cluster components and\napplications")])]),this._v(" "),e("li",[e("p",[e("strong",[this._v("Migration")]),this._v(" -- Migrate your Kubernetes applications to another\nKubernetes cluster")])]),this._v(" "),e("li",[e("p",[e("strong",[this._v("Data Protection")]),this._v(" - Offers key data protection features such as\nscheduled backups, retention schedules, and pre or post-backup\nhooks for custom actions")])])])},function(){var e=this._self._c;return e("p",[e("img",{attrs:{src:s(169),alt:""}})])},function(){var e=this._self._c;return e("p",[e("strong",[this._v("FIGURE 23")]),this._v("  Installing and Configure Velero High Level View")])},function(){var e=this._self._c;return e("ul",[e("li",[e("p",[this._v("Take backups of your cluster and restore in case of loss")])]),this._v(" "),e("li",[e("p",[this._v("Migrate cluster resources to other clusters")])]),this._v(" "),e("li",[e("p",[this._v("Replicate your production cluster to development and testing\nclusters")])])])},function(){var e=this._self._c;return e("ul",[e("li",[e("p",[this._v("A server that runs on your cluster")])]),this._v(" "),e("li",[e("p",[this._v("A command-line client that runs locally")])])])},function(){var e=this._self._c;return e("p",[e("strong",[this._v("Prerequisites")])])},function(){var e=this._self._c;return e("p",[e("strong",[this._v("Installation Process")])])},function(){var e=this._self._c;return e("p",[e("strong",[this._v("Installing the Velero Client")])])},function(){var e=this._self._c;return e("ol",[e("li",[this._v("From the installer node navigate to the temporary /tmp directory")])])},function(){var e=this._self._c;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@installer "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("\\")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" /tmp \n")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("link_copy_from_release_page "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" \n")])])])},function(){var e=this._self._c;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Once the download completes, extract the tarball using tar")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("tar")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-xvzf")]),e._v(" velero-v1.9.1-linux-amd64.tar.gz \n")])])])},function(){var e=this._self._c;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("The /tmp directory should now contain the extracted\nvelero-v1.9.1-linux-amd64.")])])},function(){var e=this._self._c;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@installer tmp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" $ "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" velero-v1.9.1-linux-amd64velero /usr/local/bin/velero \n")])])])},function(){var e=this._self._c;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Now you can get the secret key from AWS and create the file in the\nformat shown below using the key you retrieved.")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("default"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("aws_access_key_id")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Access Key ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("aws_secret_access_key")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Secret Access Key"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])},function(){var e=this._self._c;return e("p",[e("strong",[this._v("Installing the Velero Server")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ velero "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("  \n\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--provider")]),e._v(" aws "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--plugins")]),e._v(" velero/velero-plugin-for-aws:v1.5.0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--bucket")]),e._v(" velerobucket10 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n\n--secret-file ./cloud-credentials "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" \n\n--backup-location-config "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("region")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ap-south-1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v(" \n\n--snapshot-location-config "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("region")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ap-south-1 \n")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("CustomResourceDefinition/backups.velero.io: attempting to create\nresource \n\nCustomResourceDefinition/backups.velero.io: attempting to create\nresource client \n\nCustomResourceDefinition/backups.velero.io: created \n\nCustomResourceDefinition/backupstoragelocations.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/backupstoragelocations.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/backupstoragelocations.velero.io: created \n\nCustomResourceDefinition/deletebackuprequests.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/deletebackuprequests.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/deletebackuprequests.velero.io: created \n\nCustomResourceDefinition/downloadrequests.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/downloadrequests.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/downloadrequests.velero.io: created \n\nCustomResourceDefinition/podvolumebackups.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/podvolumebackups.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/podvolumebackups.velero.io: created \n\nCustomResourceDefinition/podvolumerestores.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/podvolumerestores.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/podvolumerestores.velero.io: created \n\nCustomResourceDefinition/resticrepositories.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/resticrepositories.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/resticrepositories.velero.io: created \n\nCustomResourceDefinition/restores.velero.io: attempting to create\nresource \n\nCustomResourceDefinition/restores.velero.io: attempting to create\nresource client \n\nCustomResourceDefinition/restores.velero.io: created \n\nCustomResourceDefinition/schedules.velero.io: attempting to create\nresource \n\nCustomResourceDefinition/schedules.velero.io: attempting to create\nresource client \n\nCustomResourceDefinition/schedules.velero.io: created \n\nCustomResourceDefinition/serverstatusrequests.velero.io: attempting to\ncreate resource \n\nCustomResourceDefinition/serverstatusrequests.velero.io: attempting to\ncreate resource client \n\nCustomResourceDefinition/serverstatusrequests.velero.io: created \n\nCustomResourceDefinition/volumesnapshotlocations.velero.io: attempting\nto create resource \n\nCustomResourceDefinition/volumesnapshotlocations.velero.io: attempting\nto create resource client \n\nCustomResourceDefinition/volumesnapshotlocations.velero.io: created \n\nWaiting "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" resources to be ready "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" cluster"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". \n\nNamespace/velero: attempting to create resource \n\nNamespace/velero: attempting to create resource client \n\nNamespace/velero: created \n\nClusterRoleBinding/velero: attempting to create resource \n\nClusterRoleBinding/velero: attempting to create resource client \n\nClusterRoleBinding/velero: created \n\nServiceAccount/velero: attempting to create resource \n\nServiceAccount/velero: attempting to create resource client \n\nServiceAccount/velero: created \n\nSecret/cloud-credentials: attempting to create resource \n\nSecret/cloud-credentials: attempting to create resource client \n\nSecret/cloud-credentials: created \n\nBackupStorageLocation/default: attempting to create resource \n\nBackupStorageLocation/default: attempting to create resource client \n\nBackupStorageLocation/default: created \n\nVolumeSnapshotLocation/default: attempting to create resource \n\nVolumeSnapshotLocation/default: attempting to create resource client \n\nVolumeSnapshotLocation/default: created \n\nDeployment/velero: attempting to create resource \n\nDeployment/velero: attempting to create resource client \n\nDeployment/velero: created \n\n\nVelero is installed"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v(" â›µ Use "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'kubectl logs deployment/velero -n velero'")]),e._v(" to\nview the status. \n")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ oc get po "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" velero \n\nNAME                      READY   STATUS    RESTARTS   AGE \n\nvelero-798b86bf47-2s68n   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          36s \n\n")])])])},function(){var e=this._self._c;return e("ol",[e("li",[this._v("Below figure shows WordPress app resources under project WordPress.")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("$ oc get pods,pvc,routes "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" test-word \n\nNAME                                  READY   STATUS             \nRESTARTS   AGE \n\npod/wordpress-687f77b58d-7p66j        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1       Running  "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          40m \n\npod/wordpress-mysql-db6648954-rsvn8   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          40m \n\n \n\nNAME                                   STATUS   VOLUME             \nCAPACITY   ACCESS MODES   STORAGECLASS        AGE \n\npersistentvolumeclaim/mysql-pv-claim   Bound    local-pv-c0254aba  \n279Gi      RWO            localstorageclass   40m \n\npersistentvolumeclaim/wp-pv-claim      Bound    local-pv-4e4a3889  \n931Gi      RWO            localstorageclass   40m \n\n \n\nNAME                                     \nHOST/PORT                                       "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PATH")]),e._v("   SERVICES        \nPORT     TERMINATION   WILDCARD \n\nroute.route.openshift.io/wordpress-http  \nwordpress-http-default.apps.rhocp.tamil.local          wordpress-http  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("-tcp                 None \n")])])])},function(){var e=this._self._c;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Run the following command to create a backup.")])])},function(){var e=this._self._c;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@installer tmp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" $ velero backup create wordbackup\n--include-namespaces  test-word \n\nBackup request "),e("span",{pre:!0,attrs:{class:"token string"}},[this._v('"wordbackup"')]),this._v(" submitted successfully. \n")])])])},function(){var e=this._self._c;return e("p",[this._v("Run "),e("code",[this._v("velero backup describe wordbackup")]),this._v(" or "),e("code",[this._v("velero backup logs wordbackup")]),this._v(" for more details.")])},function(){var e=this._self._c;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Run below command to get available backups in Velero.")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ velero backup get \n\nNAME         STATUS      ERRORS   WARNINGS  \nCREATED                         EXPIRES   STORAGE LOCATION   SELECTOR \n\nwordbackup   Completed   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2022")]),e._v("-08-23 02:46:51 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-0500")]),e._v("\nCDT   29d       default            "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("lt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("gt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" \n")])])])},function(){var e=this._self._c;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Now you can Delete the wordpress application and you can restore\nfrom aws. Run the below command to restore the backup in Velero.")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ velero restore create --from-backup\nwordbackup \n\nRestore request "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"wordbackup-20220823040033"')]),e._v(" submitted successfully. \n\nRun "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),e._v("velero restore describe wordbackup-20220823040033"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" or "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),e._v("velero\nrestore logs wordbackup-20220823040033"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("more")]),e._v(" details. \n``"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),e._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(".  Run the below "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("command")]),e._v(" to list the restore. \n\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v("`` "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ velero restore get \n\nNAME                        BACKUP       STATUS     \nSTARTED                         COMPLETED                       ERRORS  \nWARNINGS   CREATED                         SELECTOR \n\nwordbackup-20220823035926   wordbackup   Completed   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2022")]),e._v("-08-23 03:54:52\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-0500")]),e._v(" CDT   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2022")]),e._v("-08-23 03:54:58 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-0500")]),e._v(" CDT   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("         \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2022")]),e._v("-08-23 03:59:28 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-0500")]),e._v(" CDT   "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("lt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("gt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" \n")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("root@installer tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" $ oc get pods,pvc,routes "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" test-word \n\nNAME                                  READY   STATUS             \nRESTARTS   AGE \n\npod/wordpress-85fcfb7db6-8gbmg        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1       Running  "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          35m \n\npod/wordpress-mysql-568dc68776-jtgs5   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          35m \n\n \n\nNAME                                   STATUS   VOLUME             \nCAPACITY   ACCESS MODES   STORAGECLASS        AGE \n\npersistentvolumeclaim/mysql-pv-claim   Bound    local-pv-c0254aba  \n279Gi      RWO            localstorageclass   35m \n\npersistentvolumeclaim/wp-pv-claim      Bound    local-pv-4e4a3889  \n931Gi      RWO            localstorageclass   35m \n\n \n\nNAME                                     \nHOST/PORT                                       "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PATH")]),e._v("   SERVICES        \nPORT     TERMINATION   WILDCARD \n\nroute.route.openshift.io/wordpress-http  \nwordpress-http-default.apps.rhocp.tamil.local          wordpress-http  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("-tcp                 None\n")])])])}],r=s(0),a=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),t("p",[e._v("Velero is an open source tool to safely backup and restore, perform\ndisaster recovery, and migrate Kubernetes cluster resources and\npersistent volumes. It works both on premises and in a public cloud.\nVelero consists of a server process running as a deployment in your\nKubernetes cluster and a command-line interface (CLI) with which DevOps\nteams and platform operators configure scheduled backups, trigger ad-hoc\nbackups, perform restores, and more.")]),e._v(" "),t("p",[e._v("Unlike other tools which directly access the Kubernetes etcd database to\nperform backups and restores, Velero uses the Kubernetes API to capture\nthe state of cluster resources and to restore them when necessary. This\nAPI-driven approach has a number of key benefits:")]),e._v(" "),e._m(2),e._v(" "),t("p",[e._v("Velero provides a suite of tools to backup Kubernetes resources and\napplications for two main purposes:")]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),t("p",[e._v("Velero lets you:")]),e._v(" "),e._m(6),e._v(" "),t("p",[e._v("Velero consists of:")]),e._v(" "),e._m(7),e._v(" "),t("p",[e._v("This section covers how to install and configure Velero and how to use\nVelero to take backup/restore on an Openshift Container Platform by\nusing noobaa object storage")]),e._v(" "),e._m(8),e._v(" "),t("p",[e._v("OpenShift Container Platform cluster should be available with the\nadministrator credentials OCP cluster should have NooBaa object storage\nas part of Openshift Storage cluster")]),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),t("p"),e._v(" "),e._m(12),t("p"),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Use wget and the link you can copy from\n("),t("a",{attrs:{href:"https://github.com/vmware-tanzu/velero/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/vmware-tanzu/velero/releases"),t("OutboundLink")],1),e._v(" ) to download\nthe release tarball:")])]),e._v(" "),e._m(13),e._m(14),e._v(" "),t("p"),e._v(" "),e._m(15),e._m(16),e._v(" "),t("p",[e._v("Move the Velero executable out of the temporary /tmp directory and add\nit to your PATH.")]),e._v(" "),t("p"),e._v(" "),e._m(17),t("p"),e._v(" "),e._m(18),e._v(" "),e._m(19),e._m(20),e._v(" "),t("p",[e._v("Once you are ready with the appropriate bucket and backup location\nsettings, it is time to install Velero. Run the following command,\nsubstituting your values where required:")]),e._v(" "),e._m(21),t("p"),e._v(" "),t("p",[e._v("You should see the following output:")]),e._v(" "),e._m(22),t("p",[e._v("Once the deployment is ready you will be able to see the status using\nthe following command:")]),e._v(" "),t("p"),e._v(" "),e._m(23),t("p",[e._v("Follow below steps for backup and restore.")]),e._v(" "),e._m(24),e._v(" "),t("p"),e._v(" "),e._m(25),e._m(26),e._v(" "),t("p"),e._v(" "),e._m(27),e._m(28),e._v(" "),t("p"),e._v(" "),e._m(29),e._v(" "),e._m(30),e._m(31),e._v(" "),e._m(32),t("p"),e._v(" "),t("p",[e._v("Verification")]),e._v(" "),t("p",[e._v("Verify WordPress resources were restored.")]),e._v(" "),e._m(33)])}),n,!1,null,null,null);t.default=a.exports}}]);