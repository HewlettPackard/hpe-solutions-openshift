(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{313:function(e,t,a){e.exports=a.p+"assets/img/figure5.9edec646.png"},464:function(e,t,a){e.exports=a.p+"assets/img/figure97.2984ea73.png"},465:function(e,t,a){e.exports=a.p+"assets/img/figure37.d218e0f3.png"},466:function(e,t,a){e.exports=a.p+"assets/img/figure38.7849a3a0.png"},467:function(e,t,a){e.exports=a.p+"assets/img/figure39.2369ed69.png"},468:function(e,t,a){e.exports=a.p+"assets/img/figure40.6e274580.png"},469:function(e,t,a){e.exports=a.p+"assets/img/figure41.60eb1eba.png"},470:function(e,t,a){e.exports=a.p+"assets/img/figure42.a71045fc.png"},471:function(e,t,a){e.exports=a.p+"assets/img/figure43.2dc663a0.png"},472:function(e,t,a){e.exports=a.p+"assets/img/figure44.1094252c.png"},473:function(e,t,a){e.exports=a.p+"assets/img/figure45.4f7a0b71.png"},474:function(e,t,a){e.exports=a.p+"assets/img/figure46.6482a79b.png"},475:function(e,t,a){e.exports=a.p+"assets/img/figure47.d5f01aa8.png"},496:function(e,t,a){"use strict";a.r(t);var s=a(42),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"solution-components"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solution-components"}},[e._v("#")]),e._v(" Solution components")]),e._v(" "),s("h2",{attrs:{id:"hardware"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hardware"}},[e._v("#")]),e._v(" Hardware")]),e._v(" "),s("p",[e._v("Figure 4 shows the physical configuration of the racks along with storage devices used in this solution. It also depicts the hardware layout in the test environment. However, this is subject to change based on the customer's requirements.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(313),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 4.")]),e._v(" Hardware layout within the rack along with HPE Storage systems")]),e._v(" "),s("p",[e._v("The configuration outlined in this document is based on the design guidance of an HPE Converged Architecture 750 Foundation model which offers an improved time to deployment and tested firmware recipe. The recipe can be retrieved at "),s("a",{attrs:{href:"https://support.hpe.com/hpesc/public/docDisplay?docId=a00098137en_us",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://support.hpe.com/hpesc/public/docDisplay?docId=a00098137en_us"),s("OutboundLink")],1),e._v(". It is strongly recommended that the installation user utilizes the latest available matrix. Hewlett Packard Enterprise has tested this solution with the latest firmware recipe available as of March 2020, including HPE OneView for Synergy 5.0. The installation user has the flexibility to customize the HPE components throughout this stack in accordance with the unique IT and workload requirements or to build the solution with individual components rather than using HPE CS750.")]),e._v(" "),s("p",[e._v("Table 1 highlights the individual components and their quantities as deployed within the solution.")]),e._v(" "),s("p",[s("strong",[e._v("Table 1.")]),e._v(" Components utilized in the creation of this solution.")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Component")]),e._v(" "),s("th",[e._v("Quantity")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("HPE Synergy 12000 Frame")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("Three (3) HPE Synergy 12000 Frames house the infrastructure used for the solution")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Synergy Composer")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("Two (2) HPE Synergy Composers for core configuration and lifecycle management of Synergy components")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Virtual Connect 40Gb SE F8 Module")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("A total of two (2) HPE Virtual Connect 40Gb SE F8 Modules provide network connectivity into and out of the frames")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Synergy 12G SAS Connection Module")]),e._v(" "),s("td",[e._v("6")]),e._v(" "),s("td",[e._v("Six (6) HPE 12G SAS Connection Modules (two (2) per frame)")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Synergy 480 Gen10 Compute Module")]),e._v(" "),s("td",[e._v("6")]),e._v(" "),s("td",[e._v("Three (3) bare metal master nodes and three (3) bare metal for worker nodes")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Synergy D3940 Storage")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("Three (3) HPE Synergy D3940 12Gb SAS CTO Drive Enclosure with 40 SFF (2.5in) Drive Bays")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Nimble Storage")]),e._v(" "),s("td",[e._v("1")]),e._v(" "),s("td",[e._v("One (1) array for persistent volume")])]),e._v(" "),s("tr",[s("td",[e._v("HPE 3PAR StoreServ")]),e._v(" "),s("td",[e._v("1")]),e._v(" "),s("td",[e._v("One (1) HPE 3PAR array")])]),e._v(" "),s("tr",[s("td",[e._v("HPE FlexFabric 2-Slot Switch")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("Each switch contains one (1) each of the HPE 5945 modules listed as follows")])]),e._v(" "),s("tr",[s("td",[e._v("HPE 5945 24p SFP+ and 2p QSFP+ Module")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("One module per HPE FlexFabric 2-Slot Switch")])]),e._v(" "),s("tr",[s("td",[e._v("HPE 5945 8p QSFP+ Module")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("One module per HPE FlexFabric 2-Slot Switch")])])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("The HPE Storage systems mentioned in Table 1 is for representational purpose. Use the required amount of storage system based on the deployment requirements.")])]),e._v(" "),s("h2",{attrs:{id:"software"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#software"}},[e._v("#")]),e._v(" Software")]),e._v(" "),s("p",[e._v("Table 2 describes the versions of important software utilized in the creation of this solution. The installation user should ensure that they download or have access to this software. Ensure that the appropriate subscription and licensing are in place to use within the planned time frame.")]),e._v(" "),s("p",[s("strong",[e._v("Table 2.")]),e._v(" Major software versions used in the creation of this solution")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Component")]),e._v(" "),s("th",[e._v("Version")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Red Hat Enterprise Linux CoreOS (RHCOS)")]),e._v(" "),s("td",[e._v("4.4")])]),e._v(" "),s("tr",[s("td",[e._v("Red Hat OpenShift Container Platform")]),e._v(" "),s("td",[e._v("4")])]),e._v(" "),s("tr",[s("td",[e._v("HPE Nimble OS")]),e._v(" "),s("td",[e._v("5.0.8")])]),e._v(" "),s("tr",[s("td",[e._v("HPE 3PAR OS")]),e._v(" "),s("td",[e._v("3.3.1")])])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("The latest sub-version of each component listed in Table 2 should be installed.")])]),e._v(" "),s("p",[e._v("When utilizing virtualized nodes, the software version used in the creation of this solution are shown in Table 3.")]),e._v(" "),s("p",[s("strong",[e._v("Table 3.")]),e._v(" Software versions used with virtualized implementations")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Component")]),e._v(" "),s("th",[e._v("Version")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("VMware vSphere")]),e._v(" "),s("td",[e._v("ESXi 6.7 U2 (Build: 13981272)")])]),e._v(" "),s("tr",[s("td",[e._v("VMware vCenter Server Appliance")]),e._v(" "),s("td",[e._v("6.7 Update 2c (Build: 14070457)")])])])]),e._v(" "),s("p",[e._v("Table 4 shows the software installed on the installer machine.")]),e._v(" "),s("p",[s("strong",[e._v("Table 4.")]),e._v(" Software installed on the installer machine")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Component")]),e._v(" "),s("th",[e._v("Version")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Ansible")]),e._v(" "),s("td",[e._v("2.9")])]),e._v(" "),s("tr",[s("td",[e._v("Python")]),e._v(" "),s("td",[e._v("3.6")])]),e._v(" "),s("tr",[s("td",[e._v("Java")]),e._v(" "),s("td",[e._v("1.8")])]),e._v(" "),s("tr",[s("td",[e._v("Openshift Container Platform packages")]),e._v(" "),s("td",[e._v("4.4")])])])]),e._v(" "),s("h2",{attrs:{id:"services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#services"}},[e._v("#")]),e._v(" Services")]),e._v(" "),s("p",[e._v("This document is built with assumptions about services and network ports available within the implementation environment. This section discusses those assumptions.")]),e._v(" "),s("p",[e._v("Table 5 disseminates the services required in this solution and provides a high-level explanation of their function.")]),e._v(" "),s("p",[s("strong",[e._v("Table 5.")]),e._v(" Services used in the creation of this solution.")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Service")]),e._v(" "),s("th",[e._v("Description/Notes")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("DNS")]),e._v(" "),s("td",[e._v("Provides name resolution on management and data center networks")])]),e._v(" "),s("tr",[s("td",[e._v("DHCP")]),e._v(" "),s("td",[e._v("Provides IP address leases on PXE, management and usually for data center networks")])]),e._v(" "),s("tr",[s("td",[e._v("NTP")]),e._v(" "),s("td",[e._v("Ensures consistent time across the solution stack")])]),e._v(" "),s("tr",[s("td",[e._v("PXE")]),e._v(" "),s("td",[e._v("Enables booting of operating systems")])])])]),e._v(" "),s("h3",{attrs:{id:"dns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dns"}},[e._v("#")]),e._v(" DNS")]),e._v(" "),s("p",[e._v("Domain Name Services must be in place for the management and data center networks. Ensure that both forward and reverse lookups are working for all hosts.")]),e._v(" "),s("h3",{attrs:{id:"dhcp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dhcp"}},[e._v("#")]),e._v(" DHCP")]),e._v(" "),s("p",[e._v("DHCP should be present and able to provide IP address leases on the PXE, management, and data center networks.")]),e._v(" "),s("h3",{attrs:{id:"ntp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ntp"}},[e._v("#")]),e._v(" NTP")]),e._v(" "),s("p",[e._v("A Network Time Protocol (NTP) server should be available to hosts within the solution environment.")]),e._v(" "),s("h3",{attrs:{id:"pxe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pxe"}},[e._v("#")]),e._v(" PXE")]),e._v(" "),s("p",[e._v("Because all nodes in this solution are booted using PXE, a properly configured PXE server is essential.")]),e._v(" "),s("h3",{attrs:{id:"network-port"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#network-port"}},[e._v("#")]),e._v(" Network port")]),e._v(" "),s("p",[e._v("The port information listed in Table 6 allows cluster components to communicate with each other. This information can be retrieved from bootstrap, master, and worker nodes by running the following command.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("netstat")]),e._v(" –tupln\n")])])]),s("p",[e._v("Table 6 shows list of network ports used by the services under OpenShift Container Platform 4.")]),e._v(" "),s("p",[s("strong",[e._v("Table 6.")]),e._v(" List of network ports")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Protocol")]),e._v(" "),s("th",{staticStyle:{"text-align":"center"}},[e._v("Port Number/Range")]),e._v(" "),s("th",[e._v("Service Type")]),e._v(" "),s("th",[e._v("Other details")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("TCP")]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("80")]),e._v(" "),s("td",[e._v("HTTP Traffic")]),e._v(" "),s("td",[e._v("The machines that run the Ingress router pods, compute, or worker by default.")])]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("443")]),e._v(" "),s("td",[e._v("HTTPs traffic")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("2379-2380")]),e._v(" "),s("td",[e._v("etcd server, peer and metrics ports")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("6443")]),e._v(" "),s("td",[e._v("Kubernetes API")]),e._v(" "),s("td",[e._v("The Bootstrap machine and masters.")])]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("9000-9999")]),e._v(" "),s("td",[e._v("Host level services, including the node exporter on ports 9100-9101 and the Cluster Version Operator on port 9099")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("10249-10259")]),e._v(" "),s("td",[e._v("The default ports that Kubernetes reserves")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("10256")]),e._v(" "),s("td",[e._v("openshift-sdn")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("22623")]),e._v(" "),s("td",[e._v("Machine Config Server")]),e._v(" "),s("td",[e._v("The Bootstrap machine and masters")])]),e._v(" "),s("tr",[s("td",[e._v("UDP")]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("4789")]),e._v(" "),s("td",[e._v("VXLAN and GENEVE")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("6081")]),e._v(" "),s("td",[e._v("VXLAN and GENEVE")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("9000-9999")]),e._v(" "),s("td",[e._v("Host level services, including the node exporter on ports 9100-9101")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td"),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[e._v("30000-32767")]),e._v(" "),s("td",[e._v("Kubernetes NodePort")]),e._v(" "),s("td")])])]),e._v(" "),s("p",[e._v("For more information on the network port requirements for Red Hat OpenShift 4, see the documentation from Red Hat at "),s("a",{attrs:{href:"https://docs.openshift.com/container-platform/4.4/installing/installing_bare_metal/installing-bare-metal.html#installation-network-user-infra_installing-bare-metal",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.openshift.com/container-platform/4.4/installing/installing_bare_metal/installing-bare-metal.html#installation-network-user-infra_installing-bare-metal"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"storage-system"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#storage-system"}},[e._v("#")]),e._v(" Storage system")]),e._v(" "),s("p",[e._v("Use the following steps to configure the storage system.")]),e._v(" "),s("ol",[s("li",[e._v("From the SP, select "),s("strong",[e._v("Launch")]),e._v(" adjacent to the "),s("strong",[e._v("Storage System Setup Wizard")]),e._v(" and accept the EULA. Click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Confirm the serial number of your array and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("At the "),s("em",[e._v("Configure Networking")]),e._v(" screen you will need to enter a name and network information for the array. Click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Select "),s("strong",[e._v("Copy time options from the Service Processor")]),e._v(" and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Create a password for the 3paradm user and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Verify the configuration information and click "),s("strong",[e._v("Next")]),e._v(". This will initialize and test the array and then add it to the SP. This process can take an extended amount of time. After all tests have passed, click "),s("strong",[e._v("Finish")]),e._v(".")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("Ensure that information such as user credentials, network access details, and serial numbers referenced are securely recorded for current and future reference.")])]),e._v(" "),s("h3",{attrs:{id:"initializing-the-hpe-3par-storeserv-8440-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initializing-the-hpe-3par-storeserv-8440-storage"}},[e._v("#")]),e._v(" Initializing the HPE 3PAR StoreServ 8440 Storage")]),e._v(" "),s("p",[e._v("This section assumes that the HPE 3PAR StoreServ 8440 Storage was ordered with a physical service processor or with a Virtual Service Processor. VM is installed and functioning within the environment and is available on the same network as HPE Synergy Composer. It also assumes that a DHCP server is present on the network. The user should have the serial number of the storage that is being installed.")]),e._v(" "),s("h3",{attrs:{id:"service-processor-networking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-processor-networking"}},[e._v("#")]),e._v(" Service Processor networking")]),e._v(" "),s("p",[e._v("To configure the Service Processor networking, use the following steps:")]),e._v(" "),s("ol",[s("li",[e._v("Login to a physical Service Processor (SP) or access the console of a Virtual Service Processor via the virtual console.")]),e._v(" "),s("li",[e._v("Log on as "),s("strong",[e._v("setupusr")]),e._v(" without a password.")]),e._v(" "),s("li",[e._v("When you configure the network, type "),s("strong",[e._v("Y")]),e._v(" and press "),s("strong",[e._v("Enter")]),e._v(".")]),e._v(" "),s("li",[e._v("Confirm the network parameters that were handed to the Service Processor by your DHCP server and if correct, type Y and then press "),s("strong",[e._v("Enter")]),e._v(". Ensure you note the IP address.")]),e._v(" "),s("li",[e._v("When prompted, press "),s("strong",[e._v("Enter")]),e._v(" to exit. You will now configure the Service Processor. Connect to the SP using the address "),s("strong",[e._v("https://<ip_address>/sp/SpSetupWizard.html")]),e._v(", and log on with the user setupusr and no password.")]),e._v(" "),s("li",[e._v("At the Welcome screen click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Enter the serial number of your HPE 3PAR StoreServ storage and select "),s("strong",[e._v("Generate SP ID")]),e._v(". Click "),s("strong",[e._v("Next")]),e._v(" when done.")]),e._v(" "),s("li",[e._v("On the Configure Service Processor Networking screen give the SP a hostname, check "),s("strong",[e._v("Enable DNS Support")]),e._v(" and enter the domain name and DNS server IP. Click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Enter any proxy information for "),s("em",[e._v("Remote Support")]),e._v(" and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Enter the appropriate information in the "),s("em",[e._v("System Support Information")]),e._v(" screen and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("At the "),s("em",[e._v("Time and Region")]),e._v(" screen, select "),s("strong",[e._v("Automatic")]),e._v(" and enter the "),s("strong",[e._v("IP address")]),e._v(" of your NTP server. Choose the appropriate Time Zone and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("When prompted, change the password and click "),s("strong",[e._v("Next")]),e._v(".")]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("Next")]),e._v(" at the summary screen after validating all information.")]),e._v(" "),s("li",[e._v("Remote connectivity will be tested. In the event of a failed test, ensure that the SP can speak outbound via HTTPS and that the proxy information entered is correct.")])]),e._v(" "),s("p",[e._v("After completion, configure the Web services API and Common Information Module (CIM).")]),e._v(" "),s("ol",[s("li",[e._v("Log onto the array via SSH as the 3paradm user.")]),e._v(" "),s("li",[e._v("Run the following command to generate a self-signed certificate.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# createcert unified-server -selfsigned -keysize 2048 -days 1095 -CN")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("fqdn of 3PAR"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -SAN "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"DNS:<fqdn of 3PAR>, IP:<management IP of\n3PAR>"')]),e._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Answer "),s("strong",[e._v("Yes")]),e._v(" when prompted to continue creating the certificate.")]),e._v(" "),s("li",[e._v("Issue the following commands to start the WSAPI and CIM services.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# setcim -https enable")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# startcim")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# startwsapi")]),e._v("\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[e._v("You can verify that the services are enabled and running by typing the following commands.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# showcim")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# showwsapi")]),e._v("\n")])])]),s("h3",{attrs:{id:"san-switch-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#san-switch-configuration"}},[e._v("#")]),e._v(" SAN Switch configuration")]),e._v(" "),s("p",[e._v("The following steps should be repeated on each SAN switch:")]),e._v(" "),s("ol",[s("li",[e._v("Connect via the serial port to the first SAN switch and open a terminal session using "),s("strong",[e._v("9600")]),e._v(", "),s("strong",[e._v("8")]),e._v(", "),s("strong",[e._v("N")]),e._v(" and "),s("strong",[e._v("1")]),e._v(" with "),s("strong",[e._v("no flow control")]),e._v(".")]),e._v(" "),s("li",[e._v("Logon as "),s("strong",[e._v("admin")]),e._v(" with the default password of ' "),s("strong",[e._v("password")]),e._v("'. Change the passwords for admin and user as prompted.")]),e._v(" "),s("li",[e._v("At the command line, run the following commands to configure IP addressing for the switch.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# switchname <hostname of switch>")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ipaddrset")]),e._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("When prompted, turn off DHCP and configure date and time information for the switch.")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# tstimezone ##\n# date MMddhhmmyy\n")])])]),s("p",[e._v("where ## is the difference in the local time zone from GMT and  MM is the 2-digit month, day is the 2-digit date, hh is the 2-digit hour (24-hour format), mm is the 2-digit minute and yy is the year.\n5.\tConfigure the NTP Server with the following command.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# tsclockserver <ip address>")]),e._v("\n")])])]),s("h3",{attrs:{id:"configure-the-fabric-and-licensing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-fabric-and-licensing"}},[e._v("#")]),e._v(" Configure the fabric and licensing")]),e._v(" "),s("p",[e._v("The user will need to configure fabric and licensing in the environment.")]),e._v(" "),s("ol",[s("li",[e._v("Run the following command to configure the fabric name.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# fabricname --set <san_a_fabricname>")]),e._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("Add any licenses by running the following command.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# licenseadd")]),e._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Verify all ports that will be used have been enabled. If you have not enabled, then run the following command.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# licenseport -reserve")]),e._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("Configure the Domain ID by typing the following.")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# switchdisable\n\n# configure\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[e._v("When prompted, enter "),s("strong",[e._v("yes")]),e._v(" for Fabric parameters and assign a Domain ID. After entering, press "),s("strong",[e._v("Control-D")]),e._v(" to exit.")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# switchenable\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[e._v("Reboot the switch to apply changes and repeat these steps on the second switch.")])]),e._v(" "),s("h3",{attrs:{id:"isl-trunk-the-fibre-channel-switches"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isl-trunk-the-fibre-channel-switches"}},[e._v("#")]),e._v(" ISL Trunk the Fibre Channel switches")]),e._v(" "),s("ol",[s("li",[e._v("Login to each switch via SSH and use the "),s("strong",[e._v("licenseshow")]),e._v(" command to verify that the trunk license has been applied.")]),e._v(" "),s("li",[e._v("On switch 1 and switch 2, run the "),s("strong",[e._v("portcfgpersistentdisable")]),e._v(" to disable the ports that will be used for ISL trunks.")]),e._v(" "),s("li",[e._v("Run the "),s("strong",[e._v("portcfgislmode")]),e._v(" command and set the ports to mode 1 to make them ready for ISL traffic.")]),e._v(" "),s("li",[e._v("Enable the ISL trunk ports on the switches by running the "),s("strong",[e._v("portcfgpersistentenable")]),e._v(" command.")]),e._v(" "),s("li",[e._v("Run the "),s("strong",[e._v("trunkshow")]),e._v(" and "),s("strong",[e._v("fabricshow")]),e._v(" commands to verify that the trunk ports are configured and that both switches display the correct partner switch.")])]),e._v(" "),s("h4",{attrs:{id:"configure-an-active-zone-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-an-active-zone-set"}},[e._v("#")]),e._v(" Configure an active zone set")]),e._v(" "),s("p",[e._v("To allow HPE OneView for Synergy to manage the SAN fabric, the user must create an active zone set.")]),e._v(" "),s("ol",[s("li",[e._v("To create a zone using the WWPN of node 0, slot 0, port 1 on the HPE 3PAR StoreServ 8440, obtain the WWPN by typing "),s("strong",[e._v("switchshow")]),e._v(" and check the information on the switch port that 3PAR port N0:S0:P1 is connected.")]),e._v(" "),s("li",[e._v("Run the following commands to create the zone for this port.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# zonecreate <3PAR_1>_N0S0P1, "wwpn"')]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# cfgcreate solution_cfg, "<3PAR_1>_N0S0P1"')]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# cfgenable solution_cfg")]),e._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Follow the prompts to enable the solution configuration.")]),e._v(" "),s("li",[e._v("Repeat these steps for the remaining SAN fabrics using the WWPN of each 3PAR node, slot, and port.")])]),e._v(" "),s("h4",{attrs:{id:"install-and-configure-the-hpe-3par-ssmc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-and-configure-the-hpe-3par-ssmc"}},[e._v("#")]),e._v(" Install and configure the HPE 3PAR SSMC")]),e._v(" "),s("ol",[s("li",[e._v("From within the Windows management station, install the HPE 3PAR StoreServ Management Console by copying the media to the station and running the "),s("em",[e._v("HPESSMC-")]),e._v("-win64.exe* user. Follow the onscreen prompts.")]),e._v(" "),s("li",[e._v("Use a web browser to connect to "),s("strong",[e._v("https://<mgmt_vm_ip>:8443")]),e._v(".")]),e._v(" "),s("li",[e._v("Select "),s("strong",[e._v("Set credential")]),e._v(" and enter the "),s("strong",[e._v("username")]),e._v(" and "),s("strong",[e._v("password")]),e._v(". Select "),s("strong",[e._v("Set")]),e._v(".")]),e._v(" "),s("li",[e._v("Install the HPE 3PAR Admin Tools by copying the media to the management server, mounting it and executing "),s("em",[e._v("cli\\windows\\setup.exe")]),e._v(". Follow the prompts to install. The user will need to add each array in the solution to the SSMC Administrator Console.")]),e._v(" "),s("li",[e._v("Logon to the console and select "),s("strong",[e._v("Actions")]),e._v(" and then "),s("strong",[e._v("Add")]),e._v(".")]),e._v(" "),s("li",[e._v("Under System DNS names or IP addresses, "),s("strong",[e._v("enter the IP or name")]),e._v(" of the 3PAR array. The username will be "),s("strong",[e._v("3paradm")]),e._v(" and the password is the one the user created earlier. Select "),s("strong",[e._v("Add")]),e._v(".")]),e._v(" "),s("li",[e._v("After the array appears in the "),s("strong",[e._v("NotConnected")]),e._v(" state, select it and select "),s("strong",[e._v("Actions")]),e._v(" and then "),s("strong",[e._v("AcceptCertificate")]),e._v(". Select "),s("strong",[e._v("Accept and cache")]),e._v(". After a moment, the array will appear in the "),s("strong",[e._v("Connected")]),e._v(" state.")]),e._v(" "),s("li",[e._v("Repeat these steps for any additional arrays within the solution.")])]),e._v(" "),s("h4",{attrs:{id:"create-common-provisioning-groups-cpgs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-common-provisioning-groups-cpgs"}},[e._v("#")]),e._v(" Create Common Provisioning Groups (CPGs)")]),e._v(" "),s("p",[e._v("CPGs are required within this solution. By default, HPE 3PAR StoreServ arrays create a default set of CPGs.")]),e._v(" "),s("ol",[s("li",[e._v("Logon to the array as the 3PAR admin user using the SSMC.")]),e._v(" "),s("li",[e._v("Select "),s("strong",[e._v("3PAR StoreServ -> Show all -> Common Provisioning Groups")]),e._v(". Select "),s("strong",[e._v("Create CPG")]),e._v(". Provide a descriptive name and use RAID6. The remaining default parameters are acceptable for this solution.")]),e._v(" "),s("li",[e._v("Create a second CPG for snapshots.")])]),e._v(" "),s("h4",{attrs:{id:"configure-hpe-oneview-for-synergy-to-manage-hpe-3par-storeserv-resources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-hpe-oneview-for-synergy-to-manage-hpe-3par-storeserv-resources"}},[e._v("#")]),e._v(" Configure HPE OneView for Synergy to manage HPE 3PAR StoreServ resources")]),e._v(" "),s("h5",{attrs:{id:"add-a-san-manager-to-hpe-oneview-for-synergy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-a-san-manager-to-hpe-oneview-for-synergy"}},[e._v("#")]),e._v(" Add a SAN Manager to HPE OneView for Synergy")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("From the HPE OneView for Synergy interface, select "),s("strong",[e._v("OneView")]),e._v(" and then "),s("strong",[e._v("SAN manager")]),e._v(".")])]),e._v(" "),s("li",[s("p",[e._v("Select "),s("strong",[e._v("Add SAN manager")]),e._v(" and use the following values when prompted. Select "),s("strong",[e._v("Add")]),e._v(" when the values have been filled in.")]),e._v(" "),s("p",[e._v("a. SAN manager type: "),s("strong",[e._v("Brocade Network Advisor")])]),e._v(" "),s("p",[e._v("b. IP address of hostname: "),s("strong",[e._v("<mgmt._vm_fqdn>")])]),e._v(" "),s("p",[e._v("c. Port: 5989")]),e._v(" "),s("p",[e._v("d. User name: Administrator")]),e._v(" "),s("p",[e._v("e. Password: <bna_administrator_password>>")])]),e._v(" "),s("li",[s("p",[e._v("Select "),s("strong",[e._v("OneView")]),e._v(" and then select "),s("strong",[e._v("SANs")]),e._v(".")])]),e._v(" "),s("li",[s("p",[e._v("Select the "),s("strong",[e._v("SAN switch hostname")]),e._v(", hover over "),s("strong",[e._v("Zoning Policy")]),e._v(" and select Edit. Click OK when done. For zoning parameters, use the following values.")]),e._v(" "),s("p",[e._v("a. Automatic zoning: "),s("strong",[e._v("Yes")])]),e._v(" "),s("p",[e._v("b. Zone layout: "),s("strong",[e._v("Single initiator / single storage system")])]),e._v(" "),s("p",[e._v("c. Zone name format: "),s("strong",[e._v("server profiles _ server profile connection _ storage system _ storage system port group")])]),e._v(" "),s("p",[e._v("d. Check "),s("strong",[e._v("Update zone names as referenced resources are renamed")])]),e._v(" "),s("p",[e._v("e. Create aliases: "),s("strong",[e._v("Yes")])]),e._v(" "),s("p",[e._v("f. Manage pre-existing aliases: "),s("strong",[e._v("No")])]),e._v(" "),s("p",[e._v("g. Initiator alias format: "),s("strong",[e._v("Initiator _ server profile _ server profile connection")])]),e._v(" "),s("p",[e._v("h. Check "),s("strong",[e._v("Update initiator")]),e._v(" aliases as referenced resources are renamed")]),e._v(" "),s("p",[e._v("i. Target alias format: "),s("strong",[e._v("Target _ storage system _ storage")]),e._v(" system port")]),e._v(" "),s("p",[e._v("j. Check "),s("strong",[e._v("Update target aliases and target group aliases as referenced resources are renamed")])]),e._v(" "),s("p",[e._v("k. Create target group aliases: "),s("strong",[e._v("Yes")])]),e._v(" "),s("p",[e._v("l. Target group alias format: "),s("strong",[e._v("TargetGroup _ storage system _ storage system port group")])])]),e._v(" "),s("li",[s("p",[e._v("Repeat the steps for each SAN in OneView.")])])]),e._v(" "),s("h5",{attrs:{id:"associate-san-networks-with-fabrics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#associate-san-networks-with-fabrics"}},[e._v("#")]),e._v(" Associate SAN networks with fabrics")]),e._v(" "),s("ol",[s("li",[e._v("Select "),s("strong",[e._v("OneView")]),e._v(" and then "),s("strong",[e._v("Networks")]),e._v(".")]),e._v(" "),s("li",[e._v("Select "),s("strong",[e._v("SAN_A")]),e._v(" and then choose "),s("strong",[e._v("Actions -> Edit")]),e._v(".")]),e._v(" "),s("li",[e._v("In the Associated SAN field select the hostname of "),s("strong",[e._v("SAN switch 1")]),e._v(" and click "),s("strong",[e._v("OK")]),e._v(".")]),e._v(" "),s("li",[e._v("Repeat these steps for SAN_B and associate it with the "),s("strong",[e._v("hostname")]),e._v(" of the second switch.")]),e._v(" "),s("li",[e._v("Verify that the Expected Network is set to the correct SAN network for each port on the HPE 3PAR StoreServ storage. In the event of an error, check the wiring and previously entered settings and correct them.")]),e._v(" "),s("li",[e._v("Enter the Port Group name and assign every pair of peer persistence ports to the same Port Group.")])]),e._v(" "),s("h5",{attrs:{id:"import-and-configure-the-hpe-3par-storeserv-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-and-configure-the-hpe-3par-storeserv-storage"}},[e._v("#")]),e._v(" Import and configure the HPE 3PAR StoreServ Storage")]),e._v(" "),s("ol",[s("li",[e._v("Select "),s("strong",[e._v("OneView")]),e._v(" and then choose "),s("strong",[e._v("Storage Systems")]),e._v(".")]),e._v(" "),s("li",[e._v("Choose "),s("strong",[e._v("Add Storage Systems")]),e._v(" and enter the information for your array. Select "),s("strong",[e._v("Connect")]),e._v(" and ensure the storage shows up correctly.")]),e._v(" "),s("li",[e._v("If needed, select a domain under the Storage domain dropdown.")]),e._v(" "),s("li",[e._v("For Storage Pools, select the "),s("strong",[e._v("Manage")]),e._v(" checkbox for all of your previously created CPGs. Select "),s("strong",[e._v("Add")]),e._v(".")])]),e._v(" "),s("h2",{attrs:{id:"hpe-3par-iscsi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hpe-3par-iscsi"}},[e._v("#")]),e._v(" HPE 3PAR iSCSI")]),e._v(" "),s("h3",{attrs:{id:"configure-the-management-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-management-server"}},[e._v("#")]),e._v(" Configure the management server")]),e._v(" "),s("p",[e._v("This section assumes that a physical or virtual management server running Microsoft Windows Server 2012 R2 is available and able to communicate on the same network as the HPE 3PAR StoreServ storage. If it is not, the user should create this management VM with the following:")]),e._v(" "),s("ul",[s("li",[e._v("Microsoft Windows Server 2012 R2")]),e._v(" "),s("li",[e._v("2 vCPU")]),e._v(" "),s("li",[e._v("8GB RAM")]),e._v(" "),s("li",[e._v("1x 100GB HDD for OS and applications")]),e._v(" "),s("li",[e._v("1x 200GB HDD for Media")]),e._v(" "),s("li",[e._v("One (1) Network Interface connected to the management network where the storage resides")])]),e._v(" "),s("p",[e._v("The management VM should have Microsoft IIS configured with the web server role and WebDAV publishing with basic authentication enabled. After the role is installed, perform the following steps.")]),e._v(" "),s("ol",[s("li",[e._v("In Server Manager select Tools and then Internet Information Services (IIS) Manager.")]),e._v(" "),s("li",[e._v("Select the server name and double-select MIME Types.")]),e._v(" "),s("li",[e._v("Select Add and enter the filename extension .vib as type application/octet stream.")]),e._v(" "),s("li",[e._v("Click OK.")]),e._v(" "),s("li",[e._v("Repeat this process but substitute the filename extension .iso for .vib.")]),e._v(" "),s("li",[e._v("Close the IIS Manager window.")])]),e._v(" "),s("p",[e._v("Next, the user will need to create a repository to house the Service Pack for ProLiant (SPP) and HPE Synergy Release Set hotfix update files associated with the HPE CA750 recipe.")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("From File Explorer navigate to the second HDD and create a folder named Media")])]),e._v(" "),s("li",[s("p",[e._v("Within the media folder, create a folder named SPP.")])]),e._v(" "),s("li",[s("p",[e._v("Copy the SPP and HPE Synergy release set files to this folder.")])]),e._v(" "),s("li",[s("p",[e._v("Create a folder under SPP and name the folder Hotfixes. Copy the SPP and/or HPE Synergy release set hotfix update files to this folder.")])]),e._v(" "),s("li",[s("p",[e._v("In Server Manager, relaunch Internet Information Services manager as in Step 1.")])]),e._v(" "),s("li",[s("p",[e._v("Expand the hostname and then expand Sites.")])]),e._v(" "),s("li",[s("p",[e._v("Right-click the default web site and select add virtual directory. Enter Media in the Alias field and select the media folder on the second drive for the physical path. Click OK twice when done.")])]),e._v(" "),s("li",[s("p",[e._v("From within IIS Manager ensure that the folders exist under default web site.")])]),e._v(" "),s("li",[s("p",[e._v("Select the Media folder and then double-select directory browsing and ensure it is Enabled.")])]),e._v(" "),s("li",[s("p",[e._v("Select default web site and double-click theWebDAV Authoring Rules icon. Select Enable WebDAV in the Actions Pane and then select Add Authoring Rule.")])]),e._v(" "),s("li",[s("p",[e._v("Select All content and All users radio button and then check the Read box under permissions. Click OK to commit.")])]),e._v(" "),s("li",[s("p",[e._v("WebDAV setting in the Actions pane and in the Property Behavior section, ensure that the Allow Anonymous Property Queries and Allow Property Queries of Infinite Depth are both set to True. Select Apply.")])]),e._v(" "),s("li",[s("p",[e._v("Select the Media directory in the left pane and in the right pane, double-click the HTTP Response Headers icon.")])]),e._v(" "),s("li",[s("p",[e._v("Select Add in the Actions pane and in the 'name' field enter MaxRepoSize. In the value field, enter the size of the drive that the Media folder was created on. In the case of this document you would enter 200G. Click OK when done.")])]),e._v(" "),s("li",[s("p",[e._v("Select the server name in the left pane and then in the Actions pane select Restart to restart the web server.")])]),e._v(" "),s("li",[s("p",[e._v("The next step is to create an external HPE OneView for Synergy repository. Follow the steps as listed.")]),e._v(" "),s("p",[e._v("a. Using Google Chrome, log on to the HPE Synergy Composer and navigate to OneView -> Settings")]),e._v(" "),s("p",[e._v("b. Select Repository and then select '+' to add repository")]),e._v(" "),s("p",[e._v("c. Name the repo OneView Repo and in the web server address field enter http://<ip_of_webserver>/media/SPP")]),e._v(" "),s("p",[e._v("d. Uncheck the Requires Authentication checkbox and select Add")])])]),e._v(" "),s("h4",{attrs:{id:"install-and-configure-the-hpe-3par-ssmc-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-and-configure-the-hpe-3par-ssmc-2"}},[e._v("#")]),e._v(" Install and configure the HPE 3PAR SSMC")]),e._v(" "),s("ol",[s("li",[e._v("From within the Windows management station, install the HPE 3PAR StoreServ Management Console by copying the media to the station and running the HPESSMC-*-win64.exe installer. Follow the onscreen prompts.")]),e._v(" "),s("li",[e._v("Use a web browser to connect to https://<mgmt_vm_ip>:8443.")]),e._v(" "),s("li",[e._v("Select Set credential and enter theusername and password. Select Set when done.")]),e._v(" "),s("li",[e._v("Install the HPE 3PAR admin tools by copying the media to the management server, mounting it and executing cli\\windows\\setup.exe. Follow the prompts to install. The user will need to add each array in the solution to the SSMC Administrator Console.")]),e._v(" "),s("li",[e._v("Log on to the console and select Actions and then Add.")]),e._v(" "),s("li",[e._v("Under System DNS names or IP addresses enter the IP or name of the 3PAR array. The username will be 3paradm and the password is the one the user created earlier. Select Add.")]),e._v(" "),s("li",[e._v("After the array appears in the Not Connected state, select it and select Actions and then Accept Certificate. Select Accept and cache. After a moment the array will show in the Connected state.")]),e._v(" "),s("li",[e._v("Repeat these steps for any additional arrays within the solution.")])]),e._v(" "),s("h4",{attrs:{id:"create-common-provisioning-groups-cpgs-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-common-provisioning-groups-cpgs-2"}},[e._v("#")]),e._v(" Create Common Provisioning Groups (CPGs)")]),e._v(" "),s("p",[e._v("CPGs are required within this solution. By default, HPE 3PAR StoreServ Storage Arrays create a default set of CPGs.")]),e._v(" "),s("ol",[s("li",[e._v("Log on to the array as the 3PAR admin user using the SSMC.")]),e._v(" "),s("li",[e._v("Select 3PAR StoreServ -> Show all -> Common Provisioning Groups.")]),e._v(" "),s("li",[e._v("Select Create CPG. Provide a descriptive name and use RAID6. The remaining default parameters are acceptable for this solution.")]),e._v(" "),s("li",[e._v("Create a second CPG for snapshots.")])]),e._v(" "),s("h4",{attrs:{id:"integrate-hpe-3par-storeserv-storage-to-vsphere-hosts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#integrate-hpe-3par-storeserv-storage-to-vsphere-hosts"}},[e._v("#")]),e._v(" Integrate HPE 3PAR StoreServ Storage to vSphere hosts")]),e._v(" "),s("p",[e._v("This section describes the process of creating hosts and storage volumes for the virtualization hosts. The steps below describes overview of the tasks.")]),e._v(" "),s("ol",[s("li",[e._v("Create hosts HPE 3PAR StoreServ Storage Management Console.")]),e._v(" "),s("li",[e._v("Create virtual volume for the vSphere hosts.")])]),e._v(" "),s("h5",{attrs:{id:"creating-hosts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-hosts"}},[e._v("#")]),e._v(" Creating hosts")]),e._v(" "),s("ol",[s("li",[e._v("Login to the 3PAR StoreServ Management Console. Select Hosts from the dropdown menu as shown. "),s("strong",[e._v("Figure 5")]),e._v(" shows the selection of hosts in HPE 3PAR StoreServ dashboard.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(464),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 5.")]),e._v(" Selection of hosts in HPE 3PAR StoreServ dashboard")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[e._v("On the Hosts page, click "),s("strong",[e._v("Create Hosts")]),e._v(".")])]),e._v(" "),s("li",[s("p",[e._v("In the Create Host page, provide appropriate values for the variables.\na. Name: <>\nb. System: <<3PAR storage system name>>\nc. Domain: None\nd. Host Set: NA\ne. Host OS: VMware (ESXi)")])]),e._v(" "),s("li",[s("p",[e._v("In the Paths section, click Add iSCSI. On the Add iSCSI page, provide the vSphere hostnames and IQN and then click Add. Repeat this step for all the vSphere hosts to permit all the vSphere hosts with access to the volume. "),s("strong",[e._v("Figure 6")]),e._v(" shows the addition of iSCSI name to the hosts.")])])]),e._v(" "),s("p",[s("img",{attrs:{src:a(465),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 6.")]),e._v(" Addition of iSCSI name to the host")]),e._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[e._v("After all values have been filled in, click "),s("strong",[e._v("Create")]),e._v(".")])]),e._v(" "),s("h5",{attrs:{id:"creating-virtual-volume"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-virtual-volume"}},[e._v("#")]),e._v(" Creating virtual volume")]),e._v(" "),s("ol",[s("li",[e._v("Login to the 3PAR StoreServ Management Console. From the dropdown menu, navigate to Virtual Volumes as shown. "),s("strong",[e._v("Figure 7")]),e._v(" shows the selection of hosts on 3PAR StoreServ dashboard.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(466),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 7.")]),e._v(" Selection of hosts on 3PAR StoreServ dashboard")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("Click "),s("strong",[e._v("Create virtual volumes")]),e._v(". "),s("strong",[e._v("Figure 8")]),e._v(" shows how to create virtual volume.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(467),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 8.")]),e._v(" Creation of virtual volume")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[e._v("From the Create Virtual Volume page, provide values for the following fields and click "),s("strong",[e._v("Create")]),e._v(".")]),e._v(" "),s("p",[e._v("a. Name:")]),e._v(" "),s("p",[e._v("b. System: <3PAR storage system name>")]),e._v(" "),s("p",[e._v("c. Domain: None")]),e._v(" "),s("p",[e._v("d. Provisioning: Thin Provisioned")]),e._v(" "),s("p",[e._v("e. Dedup: No")]),e._v(" "),s("p",[e._v("f. Compression: No")]),e._v(" "),s("p",[e._v("g. CPG: <disk/raid type>")]),e._v(" "),s("p",[e._v("h. Size: 3 TB")]),e._v(" "),s("p",[e._v("i. Volume Set: NA")])])]),e._v(" "),s("p",[s("strong",[e._v("Figure 9")]),e._v(" displays the parameters to create new virtual volume.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(468),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 9.")]),e._v(" Parameters to create new virtual volume")]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[e._v("After the Virtual volume has been created, select the Export option in the Actions drop down menu. "),s("strong",[e._v("Figure 10")]),e._v(" shows how to export new create virtual volume to the hosts.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(469),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 10.")]),e._v(" Export newly created virtual volume to the host")]),e._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[e._v("From the Export Virtual Volumes page, click "),s("strong",[e._v("Add")]),e._v(". "),s("strong",[e._v("Figure 11")]),e._v(" shows how to add hosts to export the volume.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(470),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 11.")]),e._v(" Add hosts to export the volume")]),e._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[e._v("From the Add page, select the host to which the virtual volume needs to be exported and click Add.")]),e._v(" "),s("li",[e._v("After adding the host, select the LUN Auto check box and then click Export.")])]),e._v(" "),s("h2",{attrs:{id:"hpe-nimble-iscsi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hpe-nimble-iscsi"}},[e._v("#")]),e._v(" HPE Nimble iSCSI")]),e._v(" "),s("h3",{attrs:{id:"integrate-hpe-nimble-storage-with-vsphere-hosts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#integrate-hpe-nimble-storage-with-vsphere-hosts"}},[e._v("#")]),e._v(" Integrate HPE Nimble Storage with vSphere hosts")]),e._v(" "),s("ol",[s("li",[e._v("Create initiator groups in the HPE Nimble Storage management console.")]),e._v(" "),s("li",[e._v("Create a volume for the ESXi hosts.")])]),e._v(" "),s("h4",{attrs:{id:"create-initiator-groups-in-the-hpe-nimble-storage-management-console"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-initiator-groups-in-the-hpe-nimble-storage-management-console"}},[e._v("#")]),e._v(" Create initiator groups in the HPE Nimble Storage management console")]),e._v(" "),s("p",[e._v("The initiator group allows connecting volumes directly to the IQNs of the iSCSI adapters. From the HPE Nimble Storage management console, initiator groups should be created with the IQNs of each of the ESXi hosts. Initiator groups can be created by following the steps outlined as follows:")]),e._v(" "),s("ol",[s("li",[e._v("Login  to the HPE Nimble Storage management console.")]),e._v(" "),s("li",[e._v("Navigate to Manage -> Data Access. "),s("strong",[e._v("Figure 12")]),e._v(" shows data access option within the HPE Nimble Storage management console.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(471),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 12.")]),e._v(" Data access option within the HPE Nimble Storage management console")]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[e._v("On the Create Initiator Group page, enter the details for the following parameters.")]),e._v(" "),s("p",[e._v("a. Name: < Name of the initiator group >")]),e._v(" "),s("p",[e._v("b. Subnets: From the drop-down menu, select Use selected subnets and add the selected data subnets.")]),e._v(" "),s("p",[e._v("c. Initiators: Add the name and IQNs of all the initiators (vSphere hosts), and click Create. "),s("strong",[e._v("Figure 13")]),e._v(" shows creation of an initiator group within the HPE Nimble Storage management console.")])])]),e._v(" "),s("p",[s("img",{attrs:{src:a(472),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 13.")]),e._v(" Creation of an initiator group within the HPE Nimble Storage management console")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("IQNs can be found in the Server Profile of the ESXi hosts in HPE OneView. If hosts are already added into the cluster of vCenter, IQNs can be found at Host > Configuration > Storage Adapter > Highlight your iSCSI Software Adapter > Details.")])]),e._v(" "),s("h5",{attrs:{id:"create-a-volume-for-the-esxi-hosts-in-hpe-nimble-storage-management-console"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-volume-for-the-esxi-hosts-in-hpe-nimble-storage-management-console"}},[e._v("#")]),e._v(" Create a volume for the ESXi hosts in HPE Nimble Storage management console")]),e._v(" "),s("p",[e._v("After the initiator group is created, perform the following to provision a new volume to store the management virtual machines. A minimum volume size of 3TB is recommended to host the management nodes.")]),e._v(" "),s("ol",[s("li",[e._v("From the HPE Nimble Storage management console, navigate to MANAGE -> DATA STORAGE. "),s("strong",[e._v("Figure 14")]),e._v(" shows the Data storage option within the HPE Nimble Storage management console.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(473),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 14.")]),e._v(" Data storage option within the HPE Nimble Storage management console")]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v('Click "+" icon to create a new volume. '),s("strong",[e._v("Figure 15")]),e._v(" shows creation of volume within the HPE Nimble Storage management console.")])]),e._v(" "),s("p",[s("img",{attrs:{src:a(474),alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("Figure 15.")]),e._v(" Creation of volume within the HPE Nimble Storage management console")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[e._v("Provide the values to the following parameters for creating a volume. Sample values for the parameters are listed as follows.")]),e._v(" "),s("p",[e._v("a. Name: < Name for the Volume >")]),e._v(" "),s("p",[e._v("b. Location: < Desired location of the Volume >")]),e._v(" "),s("p",[e._v("c. Performance policy: < Assign a performance policy for the volume>")]),e._v(" "),s("p",[e._v("d. Size: As per the need of user environment ( 3 TB recommended)")]),e._v(" "),s("p",[e._v("e. Protection policy: Assign a protection policy as required")]),e._v(" "),s("p",[e._v("f. Access: Assign the initiator group for the vSphere hosts created earlier")]),e._v(" "),s("p",[e._v("g. CHAP Account: Assign the CHAP account and select the Allow Multiple Initiator access box.")])])]),e._v(" "),s("p",[s("img",{attrs:{src:a(475),alt:""}})]),e._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[e._v("Click "),s("strong",[e._v("Create")]),e._v(" to complete the volume creation.")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("If you utilize virtual worker nodes, it is recommended to create another volume with a size based on the installation environment. 1TB is the minimum recommended size.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);