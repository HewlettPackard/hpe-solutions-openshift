(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{310:function(e,t,a){e.exports=a.p+"assets/img/figure22.2cd2f198.png"},454:function(e,t,a){e.exports=a.p+"assets/img/figure95.d3f7de83.png"},455:function(e,t,a){e.exports=a.p+"assets/img/figure96.bf0308b6.png"},456:function(e,t,a){e.exports=a.p+"assets/img/figure14.0b0e0d7d.png"},457:function(e,t,a){e.exports=a.p+"assets/img/figure15.3406502d.png"},458:function(e,t,a){e.exports=a.p+"assets/img/figure16.f1b27963.png"},459:function(e,t,a){e.exports=a.p+"assets/img/figure17.bbbf3e86.png"},460:function(e,t,a){e.exports=a.p+"assets/img/figure18.454cc20d.png"},461:function(e,t,a){e.exports=a.p+"assets/img/figure19.38e44941.png"},462:function(e,t,a){e.exports=a.p+"assets/img/figure20.31c93c34.png"},463:function(e,t,a){e.exports=a.p+"assets/img/figure21.7e5abf6b.png"},484:function(e,t,a){"use strict";a.r(t);var r=a(42),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"server-profiles"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#server-profiles"}},[e._v("#")]),e._v(" Server profiles")]),e._v(" "),r("p",[e._v("Server profiles are used to configure the personality of the compute resources. A server profile allows a set of configuration parameters, including firmware recipe, network and SAN connectivity, BIOS tuning, boot order configuration, local storage configuration, and more to be templatized. These templates are the key to delivering the “infrastructure as code” capabilities of the HPE Synergy platform. For the purpose of this solution, a template is created which can be leveraged for OpenShift master nodes and OpenShift worker nodes.")]),e._v(" "),r("p",[e._v("This section consists of Ansible playbooks developed to automate the tasks such as uploading firmware baseline iso package to OneView, creating server profile template and server profiles in HPE OneView and the scripts to create a virtual machine in VMware vCenter server.")]),e._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[e._v("Prerequisites")]),e._v(" "),r("ul",[r("li",[e._v("Ansible engine with Ansible 2.9.x and Python 3.6.x")]),e._v(" "),r("li",[e._v("Python module for HPE OneView: hpOneView is the Python SDK for the OneView API that allows you to manage OneView functionalities. Download the python repository at "),r("a",{attrs:{href:"https://github.com/HewlettPackard/oneview-python",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/oneview-python"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("li",[e._v("Ansible module for HPE OneView: OneView-ansible is the Ansible Module for HPE OneView which utilizes the python SDK to enable infrastructure as a code. Download the repository at "),r("a",{attrs:{href:"https://github.com/HewlettPackard/oneview-ansible/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/HewlettPackard/oneview-ansible/"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("li",[e._v("Python SDK for VMware vSphere: PyVmomi is the Python SDK for the VMware vSphere API that allows you to manage ESXi and vCenter.")])])]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),r("p",[e._v("To run the automation scripts described in this section, it is mandatory to configure the Installer Machine with non-root user access and other prerequisites mentioned in the Installer machine section.")])]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),r("p",[e._v('Some pre and post "server profile template and server profile" creation requirements, that need to be executed manually are as follows:')]),e._v(" "),r("ul",[r("li",[e._v("Before using the profile automation, the user needs to look out if there are any hardware errors or warnings on the compute that will be used for deploying server profile template and server profile. If there are errors or warnings on compute node, the user needs to resolve them or clear them before using the automation scripts.")]),e._v(" "),r("li",[e._v("Before running automation, reset iLO for the corresponding compute, so that any communication issues between OneView and iLO can be resolved.")]),e._v(" "),r("li",[e._v("After applying the profile, if there are local storage or Interconnect errors, then the user needs to perform the steps as stated in error resolution.")])])]),e._v(" "),r("h3",{attrs:{id:"software-requirements"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#software-requirements"}},[e._v("#")]),e._v(" Software requirements")]),e._v(" "),r("table",[r("thead",[r("tr",[r("th",[e._v("Software")]),e._v(" "),r("th",[e._v("Version")])])]),e._v(" "),r("tbody",[r("tr",[r("td",[e._v("HPE OneView")]),e._v(" "),r("td",[e._v("5")])]),e._v(" "),r("tr",[r("td",[e._v("Red Hat Enterprise Linux Server")]),e._v(" "),r("td",[e._v("7.6")])]),e._v(" "),r("tr",[r("td",[e._v("VMware ESXi")]),e._v(" "),r("td",[e._v("6.7")])]),e._v(" "),r("tr",[r("td",[e._v("VMware vCenter Server Appliance")]),e._v(" "),r("td",[e._v("6.7")])]),e._v(" "),r("tr",[r("td",[e._v("Red Hat CoreOS")]),e._v(" "),r("td",[e._v("4.4")])])])]),e._v(" "),r("h3",{attrs:{id:"upload-firmware-bundle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#upload-firmware-bundle"}},[e._v("#")]),e._v(" Upload firmware bundle")]),e._v(" "),r("p",[e._v("This role consists of Ansible playbooks developed to automate the task of uploading the firmware bundle or firmware baseline for Compute Module of HPE Synergy to HPE OneView.")]),e._v(" "),r("h4",{attrs:{id:"input-files"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#input-files"}},[e._v("#")]),e._v(" Input files")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("It is mandatory to update all the input files (*inputs.yml, hosts, secret.yml, fw_version_inputs.yml) with appropriate values before running any of the playbooks available in this repository.")])]),e._v(" "),r("li",[r("p",[e._v("Input file name: hosts")]),e._v(" "),r("ul",[r("li",[e._v("This file is an inventory of host details.")]),e._v(" "),r("li",[e._v('Variables from "hosts" that are required by playbooks under "infrastructure" directory are listed as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# [server_profile_template]\n# [server_profile]\n")])])]),r("ul",[r("li",[e._v("Input file name: "),r("em",[e._v("inputs.yml")]),e._v(" "),r("ul",[r("li",[e._v('Variables from "'),r("em",[e._v("inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# enclosure_group: <Enclosure group name as per OneView> \n# deployment_network_name: <Deployment network name as per OneView>\n# server_profile_template_name: <Custom name for Server Profile Template>\n# fw_bundle_path: <Firmware Bundle file path>\n# fw_bundle_file_name: <Firmware file name with extension>\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Input file name: "),r("em",[e._v("secret.yml")])]),e._v(" "),r("ul",[r("li",[e._v("This is an Ansible vault file.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("secret.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# oneview_ip: x.x.x.x \n# oneview_username: username\n# oneview_password: password\n# oneview_api_version: 1200\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Input file name: "),r("em",[e._v("fw_version_inputs.yml")])]),e._v(" "),r("ul",[r("li",[e._v("This file contains the version information of the firmware that should be updated on the server hardware.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("fw_version_inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# innovationengine: < INNOVATION_ENGINE_VERSION >\n# systemrombios: < SYSTEM_ROM_VERSION >\n# serverplatformservices: < SERVER_PLATFORM_SERVICES >\n# powermanagementcontroller: < POWER_MANAGEMENT_CONTROLLER >\n# ilo5: < iLO_5_VERSION >\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Execute the following commands on the installer VM to upload the firmware bundle to HPE OneView.")])])]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# cd $BASE_DIR/infrastructure")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ansible-playbook -i hosts playbooks/upload_firmware_bundle.yml --ask-vault-pass")]),e._v("\n")])])]),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),r("p",[e._v("BASE_DIR is defined and set in "),r("a",{attrs:{href:"./Preparing-execution-environment#installer-machine"}},[e._v("Installer machine")]),e._v(" section.")])]),e._v(" "),r("p",[e._v("Expected output on installer machine after successful upload of firmware bundle to OneView.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(454),alt:""}})]),e._v(" "),r("p",[e._v("Expected output after Firmware Baseline id uploaded to OneView.")]),e._v(" "),r("p",[r("img",{attrs:{src:a(455),alt:""}})]),e._v(" "),r("h3",{attrs:{id:"create-server-profile-template"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-server-profile-template"}},[e._v("#")]),e._v(" Create server profile template")]),e._v(" "),r("p",[e._v("This section consists of ansible playbooks developed to automate the task of creating and deploying the Server Profile Template along with attaching the firmware baseline (firmware bundle for updating the firmwares on HPE Synergy compute module) with the profile template in HPE OneView and also updating the BIOS and iLO settings.")]),e._v(" "),r("h4",{attrs:{id:"input-files-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#input-files-2"}},[e._v("#")]),e._v(" Input files")]),e._v(" "),r("p",[e._v("It is mandatory to update all the input files (inputs.yml, hosts, secret.yml, fw_version_inputs.yml) with appropriate values before running any of the playbooks available in this repository.")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("Input file name: hosts")]),e._v(" "),r("ul",[r("li",[e._v("This file is an inventory of host details.")]),e._v(" "),r("li",[e._v('Variables from "hosts" that are required by playbooks under "infrastructure" directory are as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# [server_profile_template]\n# [server_profile]\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Input file name: "),r("em",[e._v("inputs.yml")])]),e._v(" "),r("ul",[r("li",[e._v('Variables from "'),r("em",[e._v("inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')]),e._v(" "),r("li",[e._v('Details about each of the variable is explained in the comments section of "'),r("em",[e._v("input.yml")]),e._v('".')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# os_is_coreos: <true_or_false>\n# enclosure_group: <Enclosure group name as per OneView> \n# deployment_network_name: <Deployment network name as per OneView>\n# server_profile_template_name: <Custom name for SPT>\n# fw_bundle_path: <Firmware Bundle file path>\n# fw_bundle_file_name: <Firmware file name with extension>\n# manageBios: <true_or_false>\n# bioscomplianceControl: <Checked_or_Unchecked>\n# manageilo: <true_or_false>\n# ilocomplianceControl: <Checked_or_Unchecked>\n# managefw: <true_or_false>\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Input file name: "),r("em",[e._v("secret.yml")])]),e._v(" "),r("ul",[r("li",[e._v("This is an ansible vault file.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("secret.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows. These variables are for OneView access, iLO new user account details and privileges, and BIOS security settings.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# oneview_ip: x.x.x.x \n# oneview_username: username\n# oneview_password: password\n# oneview_api_version: 1200\n# ilo_username: <ilo_new_user>\n# ilo_displayname: <ilo_new_user_display_name>\n# ilo_password: <ilo_new_user_password>\n# ilo_user_userConfigPriv: <boolean_true_or_false>\n# ilo_user_iLOConfigPriv: <boolean_true_or_false>\n# ilo_user_loginPriv: <boolean_true_or_false>\n# ilo_user_remoteConsolePriv: <boolean_true_or_false>\n# ilo_user_virtualMediaPriv: <boolean_true_or_false>\n# ilo_user_virtualPowerAndResetPriv: <boolean_true_or_false>\n# ilo_user_hostBIOSConfigPriv: <boolean_true_or_false>\n# ilo_user_hostNICConfigPriv: <boolean_true_or_false>\n# ilo_user_hostStorageConfigPriv: <boolean_true_or_false>\n# bios_ProcAes: <Enabled_or_Disabled>\n# bios_AssetTagProtection: <Unloacked_or_Locked>\n# bios_SecStartBackupImage: <Enabled_or_Disabled>\n# bios_AdvancedMemProtection: <value>\n# bios_F11BootMenu: <Enabled_or_Disabled>\n# bios_Workload Profile: <workload_profile>\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Input file name: "),r("em",[e._v("fw_version_inputs.yml")])]),e._v(" "),r("ul",[r("li",[e._v("This file contains the version information of the firmware that should be updated on the server hardware.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("fw_version_inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# innovationengine: < INNOVATION_ENGINE_VERSION >\n# systemrombios: < SYSTEM_ROM_VERSION >\n# serverplatformservices: < SERVER_PLATFORM_SERVICES >\n# powermanagementcontroller: < POWER_MANAGEMENT_CONTROLLER >\n# ilo5: < iLO_5_VERSION >\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Execute the following commands on the installer VM to create the Server Profile Template in OneView.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# cd $BASE_DIR/infrastructure\n# ansible-playbook -i hosts playbooks/deploy_server_profile_template.yml --ask-vault-pass\n")])])])]),e._v(" "),r("li",[r("p",[e._v('Expected output on successful creation of Server Profile Template using "'),r("em",[e._v("deploy_server_profile_template.yml")]),e._v('" playbook.')])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(456),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v("In case template is already available, then the expected output on successful updation of Server Profile Template with the Server Profile Facts is specified in the "),r("em",[e._v("server_profile_template_file.yml")]),e._v(".")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(457),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v('Expected output on successful creation or updation of Server Profile Template in OneView using "'),r("em",[e._v("deploy_server_profile_template.yml")]),e._v('" playbook.')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(458),alt:""}})]),e._v(" "),r("h3",{attrs:{id:"create-server-profile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-server-profile"}},[e._v("#")]),e._v(" Create server profile")]),e._v(" "),r("p",[e._v("This section consists of Ansible playbooks developed to automate the task of creating and deploying the Server Profile on the Server Hardware in HPE OneView. It also automates the task of applying the firmware updates, iLO and BIOS settings on the Server hardware. Lastly, it automates the task of validating the firmware updates, iLO, and BIOS settings available on server hardware are matching with firmware details available in the firmware baseline or firmware bundle and iLO and BIOS settings specified by user are matching with iLO and BIOS settings on the server hardware.")]),e._v(" "),r("h3",{attrs:{id:"prerequisites"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),r("p",[e._v('SELINUX: To create server profile using the automation, user should set the value of "SELINUX" to disabled by performing the following steps.')]),e._v(" "),r("ol",[r("li",[e._v('Switch to root user account on the Ansible Installer Machine using command "su root" # su root')]),e._v(" "),r("li",[e._v("Enter the root password to login as root user.")]),e._v(" "),r("li",[e._v("Open the selinux configuration file using the following command:"),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# vi /etc/selinux/config\n")])])])]),e._v(" "),r("li",[e._v('Change the variable "SELINUX" to "disabled" in the "/etc/selinux/config" file as shown : SELINUX=disabled.')]),e._v(" "),r("li",[e._v("Save and exit the config file.")]),e._v(" "),r("li",[e._v('Reboot the system and login as root user and check the status of "SELINUX" using the following command.'),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# getenforce\n")])])])]),e._v(" "),r("li",[e._v('Expected output from "getenforce" command is "Disabled." After setting the "SELINUX" to disabled and rebooting the Ansible Installer Machine, user should exit from "root" account and login as "non root" user and activate the python3 virtual environment as listed.')])]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("  "),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# cd BASE_DIR/installer")]),e._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# source ocp_venv/bin/activate")]),e._v("\n")])])]),r("h4",{attrs:{id:"input-files-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#input-files-3"}},[e._v("#")]),e._v(" Input files")]),e._v(" "),r("p",[e._v("It is mandatory to update all the input files (*inputs.yml, hosts, secret.yml, fw_version_inputs.yml) with appropriate values before running any of the playbooks available in this repository.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v('- Input file name: hosts\n  - This file is an inventory of host details.\n  - Variables from "hosts" that are required by playbooks under "infrastructure" directory are listed as follows.\n  ```   \n  # [server_profile_template]\n  # [server_profile]\n ```\n')])])]),r("ul",[r("li",[e._v("Input file name: "),r("em",[e._v("inputs.yml")]),e._v(" "),r("ul",[r("li",[e._v('Variables from "'),r("em",[e._v("inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# enclosure_group: <Enclosure group name as per OneView> \n# deployment_network_name: <Deployment network name as per OneView>\n# server_profile_template_name: <Custom name for SPT>\n# fw_bundle_path: <Firmware Bundle file path>\n# fw_bundle_file_name: <Firmware file name with extension>\n")])])])]),e._v(" "),r("li",[e._v("Input file name: "),r("em",[e._v("secret.yml")]),e._v(" "),r("ul",[r("li",[e._v("This is an Ansible vault file.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("secret.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows. These variables are for OneView access, iLO new user account details and privileges, and BIOS security settings.')])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# oneview_ip: x.x.x.x \n# oneview_username: username\n# oneview_password: password\n# oneview_api_version: 1200\n# ilo_username: <ilo_new_user>\n# ilo_displayname: <ilo_new_user_display_name>\n# ilo_password: <ilo_new_user_password>\n# ilo_user_userConfigPriv: <boolean_true_or_false>\n# ilo_user_iLOConfigPriv: <boolean_true_or_false>\n# ilo_user_loginPriv: <boolean_true_or_false>\n# ilo_user_remoteConsolePriv: <boolean_true_or_false>\n# ilo_user_virtualMediaPriv: <boolean_true_or_false>\n# ilo_user_virtualPowerAndResetPriv: <boolean_true_or_false>\n# ilo_user_hostBIOSConfigPriv: <boolean_true_or_false>\n# ilo_user_hostNICConfigPriv: <boolean_true_or_false>\n# ilo_user_hostStorageConfigPriv: <boolean_true_or_false>\n# bios_ProcAes: <Enabled_or_Disabled>\n# bios_AssetTagProtection: <Unloacked_or_Locked>\n# bios_SecStartBackupImage: <Enabled_or_Disabled>\n# bios_AdvancedMemProtection: <value>\n# bios_F11BootMenu: <Enabled_or_Disabled>\n# bios_Workload Profile: <workload_profile>\n")])])])]),e._v(" "),r("li",[e._v("Input file name: "),r("em",[e._v("fw_version_inputs.yml")]),e._v(" "),r("ul",[r("li",[e._v("This file contains the version information of the firmware that should be updated on the server hardware.")]),e._v(" "),r("li",[e._v('Variables from "'),r("em",[e._v("fw_version_inputs.yml")]),e._v('" that are required by playbooks under "infrastructure" directory are listed as follows.'),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# innovationengine: < INNOVATION_ENGINE_VERSION >\n# systemrombios: < SYSTEM_ROM_VERSION >\n# serverplatformservices: < SERVER_PLATFORM_SERVICES >\n# powermanagementcontroller: < POWER_MANAGEMENT_CONTROLLER >\n# ilo5: < iLO_5_VERSION >\n")])])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code")])])]),e._v(" "),r("li",[e._v("Execute the following commands on the installer VM to upload the firmware bundle to HPE OneView."),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# cd $BASE_DIR/infrastructure")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ansible-playbook -i hosts playbooks/upload_firmware_bundle.yml --ask-vault-pass")]),e._v("\n")])])])])]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),r("ul",[r("li",[e._v('Firmware update and validation tasks will be executed if user has selected "managefw" variable as "true" in "inputs.yml" file while creating the "server profile template".')]),e._v(" "),r("li",[e._v('iLO settings update and validation tasks will be executed if user has selected "manageilo" variable as "true" in "inputs.yml" file while creating the "server profile template".')]),e._v(" "),r("li",[e._v('BIOS settings update and validation tasks will be executed if user has selected "manageBios" variable as "true" in "inputs.yml" file while creating the "server profile template".')])])]),e._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),r("p",[e._v("BASE_DIR is defined and set in "),r("a",{attrs:{href:"./Preparing-execution-environment#installer-machine"}},[e._v("Installer machine")]),e._v(" section.")])]),e._v(" "),r("ul",[r("li",[e._v("Expected output on successful creation of Server Profile and updation of firmware based on firmware baseline specified by the user.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(459),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v('Expected output after successful firmware validation based on firmware baseline specified by the user in "'),r("em",[e._v("fw_versions.yml")]),e._v('".')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(460),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v('Expected output in "firmware" section of OneView server profile is as follows.')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(461),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v('Expected output after successful BIOS security settings validation based on security setting specified in "secret.yml".')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(462),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v('Expected output after successful iLO settings validation based on iLO setting specified in "secret.yml".')])]),e._v(" "),r("p",[r("img",{attrs:{src:a(463),alt:""}})]),e._v(" "),r("ul",[r("li",[e._v("Expected output in OneView on successful creation of Server Profile and updation of firmware, BIOS and iLO settings.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(310),alt:""}})])])}),[],!1,null,null,null);t.default=s.exports}}]);