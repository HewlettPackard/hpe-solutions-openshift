<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bootstrap node</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.3c72cb3e.css" as="style"><link rel="preload" href="/assets/js/app.6c1bb9d7.js" as="script"><link rel="preload" href="/assets/js/2.41475481.js" as="script"><link rel="preload" href="/assets/js/28.39a8466c.js" as="script"><link rel="prefetch" href="/assets/js/10.60e6f26c.js"><link rel="prefetch" href="/assets/js/11.e2568a46.js"><link rel="prefetch" href="/assets/js/12.e8a20512.js"><link rel="prefetch" href="/assets/js/13.24fe0aaa.js"><link rel="prefetch" href="/assets/js/14.a6af149a.js"><link rel="prefetch" href="/assets/js/15.561f307f.js"><link rel="prefetch" href="/assets/js/16.1b58705c.js"><link rel="prefetch" href="/assets/js/17.d99cf671.js"><link rel="prefetch" href="/assets/js/18.7d38c742.js"><link rel="prefetch" href="/assets/js/19.aaf54330.js"><link rel="prefetch" href="/assets/js/20.f13070be.js"><link rel="prefetch" href="/assets/js/21.9653edeb.js"><link rel="prefetch" href="/assets/js/22.1485b3f6.js"><link rel="prefetch" href="/assets/js/23.1db2bb05.js"><link rel="prefetch" href="/assets/js/24.98a40dda.js"><link rel="prefetch" href="/assets/js/25.fed3b70c.js"><link rel="prefetch" href="/assets/js/26.9fa44e0a.js"><link rel="prefetch" href="/assets/js/27.3b728ad7.js"><link rel="prefetch" href="/assets/js/29.56669789.js"><link rel="prefetch" href="/assets/js/3.356a20e7.js"><link rel="prefetch" href="/assets/js/30.36cb63bf.js"><link rel="prefetch" href="/assets/js/31.1b814f7d.js"><link rel="prefetch" href="/assets/js/32.5cc2658a.js"><link rel="prefetch" href="/assets/js/33.9b22325c.js"><link rel="prefetch" href="/assets/js/4.fadf857d.js"><link rel="prefetch" href="/assets/js/5.a355315e.js"><link rel="prefetch" href="/assets/js/6.b9418f75.js"><link rel="prefetch" href="/assets/js/7.b5fd1524.js"><link rel="prefetch" href="/assets/js/8.a6a83d33.js"><link rel="prefetch" href="/assets/js/9.22c6a3f6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3c72cb3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bootstrap-node"><a href="#bootstrap-node" class="header-anchor">#</a> Bootstrap node</h1> <p>A temporary bootstrap node is required for OpenShift cluster creation. This section assumes that a VMware vSphere host is present within the deployment environment and is associated with a VMware vCenter server. The host should be configured with appropriate storage and networking configuration.</p> <h3 id="playbooks-for-creating-the-bootstrap-node"><a href="#playbooks-for-creating-the-bootstrap-node" class="header-anchor">#</a> Playbooks for creating the bootstrap node</h3> <ol><li><p><strong>inputs.yml</strong>: This file contains input variables to create the bootstrap VM. Some of the variables pertaining to the VM configuration are provided with default values as per the Red Hat guidelines. It is expected that the installation user updates the values to suit their installation environment.</p> <ul><li><p><strong>datacenter_name</strong>: Name of the VMware data center.</p></li> <li><p><strong>cluster_name</strong>: Name of the VMware cluster.</p></li> <li><p><strong>datastore_name</strong>: Name of the VMware datastore.</p></li> <li><p><strong>network_name</strong>: Name of the network associated with the vSphere host.</p></li> <li><p><strong>bootstrap_disk</strong>: Disk size for the bootstrap node.</p></li> <li><p><strong>bootstrap_cpu</strong>: Number of vCPUs for the bootstrap node.</p></li> <li><p><strong>bootstrap_name</strong>: Custom name of the bootstrap node.</p></li></ul></li> <li><p><strong>secret.yml</strong>: This is an Ansible vault file that contains sensitive information such as the VMware vCenter server IP address and credentials.</p></li> <li><p><strong>playbooks/deploy_vm.yml</strong>: This playbook is used to create the bootstrap VM.</p></li> <li><p><strong>roles/deploy_vm.yml</strong>: This is the Ansible role file that is required to create the bootstrap VM. Each role is associated with a set of tasks to accomplish the expected output and they are present in the tasks directory within the role.</p></li></ol> <p>Follow these steps to create the bootstrap node:</p> <ol><li><p>Login to the installer VM.</p></li> <li><p>Use the following command to change the directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> /opt/hpe/solutions/ocp/hpe-solutions-openshift/DL/scalable/infrastructure
</code></pre></div></li> <li><p>Update the secret.yml to provide the details of the VMware vCenter server using the following command. A sample input is provided and it is expected that the installation user updates the configuration to suit the deployment environment.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-vault edit secret.yml
</code></pre></div><div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># vcenter hostname/ip address and credentials</span>
<span class="token key atrule">vcenter_hostname</span><span class="token punctuation">:</span> &lt;vcenter hostname<span class="token punctuation">&gt;</span>;
<span class="token key atrule">vcenter_username</span><span class="token punctuation">:</span> &lt;vcenter username<span class="token punctuation">&gt;</span>;
<span class="token key atrule">vcenter_password</span><span class="token punctuation">:</span> &lt;vcenter password<span class="token punctuation">&gt;</span>;
</code></pre></div></li> <li><p>Update the <em>input.yml</em> file with the data center, cluster, and datastore information that will be used within the VMware vCenter server. This file provides default configuration information for the bootstrap node, if required. The configuration can be updated to suit the environment needs.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># Variables for creating the bootstrap VM, as per the vSphere host configuration within the vCenter</span>
<span class="token key atrule">datacenter_name</span><span class="token punctuation">:</span> &lt;name of data center within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">cluster_name</span><span class="token punctuation">:</span> &lt;name of cluster within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">datastore_name</span><span class="token punctuation">:</span> &lt;name of datastore within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">network_name</span><span class="token punctuation">:</span> &lt;name of the network within vcenter<span class="token punctuation">&gt;</span>;

<span class="token comment"># Default values for creating the bootstrap VM</span>
<span class="token key atrule">bootstrap_disk</span><span class="token punctuation">:</span> <span class="token number">150</span>
<span class="token key atrule">bootstrap_cpu</span><span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token key atrule">bootstrap_memory</span><span class="token punctuation">:</span> <span class="token number">16400</span>
<span class="token key atrule">bootstrap_name</span><span class="token punctuation">:</span> Bootstrap
</code></pre></div></li> <li><p>After the <em>input.yml</em> and <em>secret.yml</em> files are updated with appropriate values, execute the playbook with the following command to create the bootstrap VM.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook –i hosts playbooks/deploy_vm.yml –ask-vault-pass
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>It is essential that all the nodes within the deployment environment are synchronized for time using an NTP server. Failure to do so will result in an installation failure due to mismatche in certificates or other files with time dependencies.</p></div></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6c1bb9d7.js" defer></script><script src="/assets/js/2.41475481.js" defer></script><script src="/assets/js/28.39a8466c.js" defer></script>
  </body>
</html>
