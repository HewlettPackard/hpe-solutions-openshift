<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>User-provisioned DNS requirements</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.3c72cb3e.css" as="style"><link rel="preload" href="/assets/js/app.6c1bb9d7.js" as="script"><link rel="preload" href="/assets/js/2.41475481.js" as="script"><link rel="preload" href="/assets/js/19.aaf54330.js" as="script"><link rel="prefetch" href="/assets/js/10.60e6f26c.js"><link rel="prefetch" href="/assets/js/11.e2568a46.js"><link rel="prefetch" href="/assets/js/12.e8a20512.js"><link rel="prefetch" href="/assets/js/13.24fe0aaa.js"><link rel="prefetch" href="/assets/js/14.a6af149a.js"><link rel="prefetch" href="/assets/js/15.561f307f.js"><link rel="prefetch" href="/assets/js/16.1b58705c.js"><link rel="prefetch" href="/assets/js/17.d99cf671.js"><link rel="prefetch" href="/assets/js/18.7d38c742.js"><link rel="prefetch" href="/assets/js/20.f13070be.js"><link rel="prefetch" href="/assets/js/21.9653edeb.js"><link rel="prefetch" href="/assets/js/22.1485b3f6.js"><link rel="prefetch" href="/assets/js/23.1db2bb05.js"><link rel="prefetch" href="/assets/js/24.98a40dda.js"><link rel="prefetch" href="/assets/js/25.fed3b70c.js"><link rel="prefetch" href="/assets/js/26.9fa44e0a.js"><link rel="prefetch" href="/assets/js/27.3b728ad7.js"><link rel="prefetch" href="/assets/js/28.39a8466c.js"><link rel="prefetch" href="/assets/js/29.56669789.js"><link rel="prefetch" href="/assets/js/3.356a20e7.js"><link rel="prefetch" href="/assets/js/30.36cb63bf.js"><link rel="prefetch" href="/assets/js/31.1b814f7d.js"><link rel="prefetch" href="/assets/js/32.5cc2658a.js"><link rel="prefetch" href="/assets/js/33.9b22325c.js"><link rel="prefetch" href="/assets/js/4.fadf857d.js"><link rel="prefetch" href="/assets/js/5.a355315e.js"><link rel="prefetch" href="/assets/js/6.b9418f75.js"><link rel="prefetch" href="/assets/js/7.b5fd1524.js"><link rel="prefetch" href="/assets/js/8.a6a83d33.js"><link rel="prefetch" href="/assets/js/9.22c6a3f6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3c72cb3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="user-provisioned-dns-requirements"><a href="#user-provisioned-dns-requirements" class="header-anchor">#</a> User-provisioned DNS requirements</h1> <p>This section covers the host entries that need to be made in the base domain to enable installation of Red Hat OpenShift Container Platform 4.4.</p> <p>Red Hat OpenShift Container Platform 4.4 uses three types of DNS records (A, CNAME, and SRV). The host names and their types are described in Table 7.</p> <p><strong>Table 7.</strong> DNS entries for Red Hat OpenShift Container Platform</p> <table><thead><tr><th>Hosts</th> <th>DNS Record Types</th></tr></thead> <tbody><tr><td>master_nodes</td> <td>A</td></tr> <tr><td>worker_nodes</td> <td>A</td></tr> <tr><td>bootstrap_nodes</td> <td>A</td></tr> <tr><td>installer VM</td> <td>A</td></tr> <tr><td>*, api, api-int, haproxy</td> <td>A</td></tr> <tr><td>Etcd</td> <td>CNAME, SRV</td></tr></tbody></table> <p>To add the appropriate records, follow these steps:</p> <ol><li><p>'A' type resource record [ Host (A) ]. An A record specifies an IPv4 address. Example entries are shown in Table 8. Ensure that these entries are created for all the nodes in the installation environment.</p> <p><strong>Table 8.</strong> 'A' type DNS entry</p> <table><thead><tr><th>Host (A)</th> <th>IP Address</th> <th>Host name</th></tr></thead> <tbody><tr><td>master_nodes</td> <td>master_ip</td> <td>master_name.cluster_name.baseDomain</td></tr> <tr><td>worker_nodes</td> <td>worker_ip</td> <td>worker_name.cluster_name.baseDomain</td></tr> <tr><td>bootstrap_nodes</td> <td>bootstrap_ip</td> <td>bootstrap_name.cluster_name.baseDomain</td></tr> <tr><td>installer VM</td> <td>installer_ip</td> <td>installer_name.cluster_name.baseDomain</td></tr> <tr><td>*</td> <td>haproxy_ip</td> <td>*.apps.cluster_name.baseDomain</td></tr> <tr><td>Api</td> <td>haproxy_ip</td> <td>api.cluster_name.baseDomain</td></tr> <tr><td>api-int</td> <td>haproxy_ip</td> <td>api-int.cluster_name.baseDomain</td></tr> <tr><td>haproxy</td> <td>haproxy_ip</td> <td>haproxy_name.cluster_name.baseDomain</td></tr></tbody></table></li> <li><p>Create a CNAME resource record [ Alias (CNAME) ] in DNS. Example entries are shown in Table 9. Ensure that these entries are created for all of the master nodes.</p> <p><strong>Table 9.</strong> DNS entries for Red Hat OpenShift Container Platform</p> <table><thead><tr><th>Host (CNAME)</th> <th>Target host name</th></tr></thead> <tbody><tr><td>etcd-0</td> <td>*master01_name.cluster_name.baseDomain</td></tr> <tr><td>etcd-1</td> <td>*master02_name.cluster_name.baseDomain</td></tr> <tr><td>etcd-2</td> <td>*master03_name.cluster_name.baseDomain</td></tr></tbody></table></li></ol> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Replace the italicized components in the examples above with the actual values that align to the installation environment.</p></div> <ol start="3"><li><p>For each master node, Red Hat OpenShift Container Platform also requires a Service Location (SRV) DNS record for the etcd server on that machine with priority 0, weight 10, and port 2380. The SRV record is used to identify computers that host specific services.</p> <p><img src="/assets/img/figure22.2cd2f198.png" alt=""></p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6c1bb9d7.js" defer></script><script src="/assets/js/2.41475481.js" defer></script><script src="/assets/js/19.aaf54330.js" defer></script>
  </body>
</html>
