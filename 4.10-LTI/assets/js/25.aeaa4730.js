(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{321:function(s,n,t){"use strict";t.r(n);var a=t(13),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"installing-and-configuring-master-child-bind-dns-on-head-nodes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#installing-and-configuring-master-child-bind-dns-on-head-nodes"}},[s._v("#")]),s._v(" Installing and configuring master/child Bind DNS on head nodes")]),s._v(" "),n("p",[s._v("Domain Name System (DNS) is a distributed database system that associates hostnames with their respective IP addresses. Berkeley Internet Name Domain (BIND) comprises a set of DNS-related programs. It is also known as the service named in Red Hat Enterprise Linux. The /etc/named.conf is the main configuration file in the BIND configuration. This section focuses on installing, configuring, and managing BIND on the DNS server for all head nodes to create master and child configuration.")]),s._v(" "),n("p",[s._v("Prerequisites:")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("All hosts must be running RHEL 8.6 OS.")])]),s._v(" "),n("li",[n("p",[s._v("Red Hat subscription must be active.")])]),s._v(" "),n("li",[n("p",[s._v("DNS server must be configured with the following settings:")])])]),s._v(" "),n("p",[n("strong",[s._v("TABLE")]),s._v(" "),n("strong",[s._v("9")]),s._v(" DNS server settings")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("DNS server settings")]),s._v(" "),n("th",[s._v("Description")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("isv.local")]),s._v(" "),n("td",[s._v("Zone (Domain name)")])]),s._v(" "),n("tr",[n("td",[s._v("172.28.230.11")]),s._v(" "),n("td",[s._v("IP address of master DNS node")])]),s._v(" "),n("tr",[n("td",[s._v("172.28.230.12")]),s._v(" "),n("td",[s._v("IP address of the 1st child DNS node")])]),s._v(" "),n("tr",[n("td",[s._v("172.28.230.13")]),s._v(" "),n("td",[s._v("IP address of the 2nd child DNS node")])])])]),s._v(" "),n("p",[s._v("Installing and configuring Bind DNS service on master nodes")]),s._v(" "),n("p",[s._v("To install and configure Bind DNS service on master nodes:")]),s._v(" "),n("ol",[n("li",[s._v("Install Bind DNS service on the master node with the following command:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ yum "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" bind-utils "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n")])])]),n("ol",[n("li",[n("p",[s._v("Configure BIND DNS on the master node.")])]),s._v(" "),n("li",[n("p",[s._v("Edit /etc/named.conf configuration file.")])])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("Options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\nlisten-on port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n\nllsten-on-v6 port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ::1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndirectory  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndump-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/cache_dump.db"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nstatistics-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named_stats.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmemstatistics-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named_mem_stats.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nsecroots-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named.secroots"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nrecursing-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named.recursing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nallow-query  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.0")]),s._v(".0.0/24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nallow-transfer "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172")]),s._v("-28.230.12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nrecursion no"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndnssec-enable "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndnssec-validation "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmanaged-keys-directory "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/dynamic "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\npid:-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/run/named/named.pid"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nsession-keyfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/run/named./session.key"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('" /etc/crypto-policies/back.-ends/blind.config"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nlogging "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\nchannel default_debug "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data/named.run"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nseverity dynamic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),s._v(" IN "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" hint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"named.ca"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"isv.local"')]),s._v(" IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" master"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"forward,isv"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nallow-update "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"230.28.172.in-addr.arpa"')]),s._v(" IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" master"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reverse. isv"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nallow-update "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/named.rfc1912.zones"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/named.root.key"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("ol",[n("li",[n("p",[s._v("Create zone files.")])]),s._v(" "),n("li",[n("p",[s._v("After setting the files in the named.conf configuration file, create the zone files in the /var/named/ director directory and place all the records that you would wish to add such as A/AAAA, MX, PTR, and so on.")])])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/named/forward.isv\n\n"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TTL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v("\n\n@     IN SOA kvm1.isv.local. root.isv.local."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2011071001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" serial\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" refresh\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1800")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" retry\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("604800")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" expire\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" minimum\n\n@      IN     NS      kvm1.isv.local.\n\n@      IN     NS      kvm2.isv.local.\n\n@      IN     NS      kvm3.isv.local.\n\n@      IN      A       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11\n\n@      IN      A       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.12\n\n@      IN      A       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13\n\nboot.ocp.isv.local.           IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.21\n\nmaster0.ocp.isv.local.     IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\nmaster1.ocp.isv.local.     IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.23\n\nmaster2.ocp.isv.local.     IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.24\n\nhaproxy.ocp.isv.local.     IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25\n\napi.int.ocp.isv.local.        IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25\n\napi.ocp.isv.local.             IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25\n\nworkerl.ocp.isv.local.     IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.26\n\nworker2.ocp.isv.local.    IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.27\n\nworker3.ocp.isv.local.    IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.28\n\n* .apps.ocp.isv.local.      IN     A     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25\n")])])]),n("ol",[n("li",[s._v("Create the corresponding reverse records for the same domain that were defined in the named.conf configuration file.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm1 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/named/reverse.isv\n\n"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TTL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v("\n\n@ IN SOA kvm1.isv.local.root.isv.local"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2011071001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" serial\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" refresh\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1800")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" retry\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("604800")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" expire\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("86400")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" minimum\n\n@    IN    NS     kvml.isv.local.\n\n@    IN    NS     kvm2.isv.local.\n\n@    IN    NS     kvm3.isv.local.\n\n@    IN    PTR    isv.local.\n\n@    IN    A      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11\n\n4P   IN    A      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.12\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("   IN    A      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("   IN    PTR    kvm1.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("   IN    PTR    kvm2.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("   IN    PTR    kvm3.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("   IN    PTR    boot.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("   IN    PTR    master0.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("   IN    PTR    master1.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("   IN    PTR    master2.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("   IN    PTR    haproxy.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("   IN    PTR    api.int.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("   IN    PTR    api.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("   IN    PTR    worker1.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("   IN    PTR    worker2.ocp.isv.local.\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("   IN    PTR    worker3.ocp.isv.local.\n")])])]),n("ol",[n("li",[n("p",[s._v("Modify DNS settings on the master server.")])]),s._v(" "),n("li",[n("p",[s._v("Set the new DNS server as the default name server.")])]),s._v(" "),n("li",[n("p",[s._v("Edit /etc/resolv.conf configuration file and add the following lines:")])])]),s._v(" "),n("p",[n("strong",[s._v("NOTE")])]),s._v(" "),n("p",[s._v("Ensure that the IP address is replaced to match your environment.")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm1~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ cat/etc/resolv.conf\n\nsearch isv.local\n\nnameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11\n")])])]),n("ol",[n("li",[s._v("Configure firewall to allow DNS service.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd--add-service"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dns--permanent\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd--reload\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" named-checkconf\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start named\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" named\n")])])]),n("p",[s._v("The master BIND DNS server configuration is complete.")]),s._v(" "),n("p",[s._v("Installing Bind DNS service on child nodes")]),s._v(" "),n("p",[s._v("To install Bind DNS service on child nodes:")]),s._v(" "),n("ol",[n("li",[s._v("On the both the child nodes with IP addresses as 172.28.230.12 and 172.28.230.13, install bind and bind-utils:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ yum "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" bind-utils "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n")])])]),n("ol",[n("li",[s._v("Configure the child nodes and edit /etc/named.conf configuration file.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\nlisten-on port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nlisten-on-v6 port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ::1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndirectory "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('" /var/named"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndump-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/cache_dump.db"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nstatistics-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named_stats.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmemstatistics-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named_mem_stats.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nsecroots-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/data/named.secroots"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nrecursing-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"var/named/data/named.recursing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nallow-query "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.0")]),s._v(".0.0/24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nrecursion "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndnssec-enable "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndnssec-validation "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmanaged-keys-directory "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/named/dynamic"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\npid-file "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('" /run/named/named.pid"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nsession-keyfile "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/run/named/session.key"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/crypto-policies/back-ends/bind_config"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nlogging "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\nchannel default_debug "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data/named.run"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nseverity dynamic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),s._v(" IN "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" hint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"named.ca"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"isv.local"')]),s._v(" IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" slave"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"slaves/forward,isv"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmaster "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nzone "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"230.28.172.in-addr.arpa"')]),s._v(" IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" slave"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"slaves/reverse. isv"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmaster "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/named.rfc1912.zones"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/named.root.key"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("ol",[n("li",[n("p",[s._v("Modify DNS settings on the child server.")])]),s._v(" "),n("li",[n("p",[s._v("Set the new DNS servers (both master and childs) as the default name servers.")])]),s._v(" "),n("li",[n("p",[s._v("Edit /etc/resolv.conf configuration file and add the following lines:")])])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root.kvm2~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("$ cat/etc/resolv.conf\n\nsearch isv.local\n\nnameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11\n\nnameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.12\n\nnameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13\n")])])]),n("p",[n("strong",[s._v("NOTE")])]),s._v(" "),n("p",[s._v("Ensure that the IP addresses are replaced to match your environment.")]),s._v(" "),n("ol",[n("li",[s._v("Check the configurations and then start and enable BIND:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" named-checkconf\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start named\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" named\n")])])]),n("ol",[n("li",[s._v("Verify that the /var/named/slaves directory includes the zone files that were transferred from the master node.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm2~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /var/named/slaves/\n\n-rw-r-r-1 named named "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("900")]),s._v(" Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" 09:11 forward.isv\n\n-rw-r-r-1 named named "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1168")]),s._v(" Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" 09:12 reverse.isv\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("kvm3~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ls")]),s._v("-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /var/named/slaves/\n\n-rw-r-r-1 named named "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("900")]),s._v(" Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" 09:11 forward.isv\n\n-rw-r-r-1 named named "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1168")]),s._v(" Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" 09:12 reverse.isv\n")])])]),n("p",[s._v("Testing master/childDNS configuration")]),s._v(" "),n("p",[s._v("To test the DNS resolution from the master/child DNS servers:")]),s._v(" "),n("ol",[n("li",[s._v("On the master DNS server, run the following command:")])]),s._v(" "),n("ul",[n("li",[s._v("Master DNS node:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm1~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" +short master0.ocp.isv.local\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm1~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dig")]),s._v(" +short "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\nmaster0.ocp.isv.local.\n")])])]),n("ol",[n("li",[s._v("On both the child DNS servers, run the following commands:")])]),s._v(" "),n("ul",[n("li",[s._v("1st Child DNS node:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm2~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" +short master0.ocp.isv.local\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm2~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#$dig +short -x 172.28.230.22")]),s._v("\n\nmaster0.ocp.isv.local.\n")])])]),n("ul",[n("li",[s._v("2nd Child DNS node:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm3~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" +short master0.ocp.isv.local\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm3~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dig")]),s._v(" +short "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.22\n\nmaster0.ocp.isv.local.\n")])])]),n("p",[n("strong",[s._v("Configuring load balancer on head nodes")])]),s._v(" "),n("p",[s._v("The RHOCP 4.10 uses an external load balancer to communicate from outside the cluster with services running inside the cluster. This section assumes that there is a load balancer available within our deployment environment and is available for use. Our deployment environment is developed using HAProxy, an open-source solution with one virtual machine for load balancing functionality.")]),s._v(" "),n("p",[s._v("In a production environment, Hewlett Packard Enterprise recommends the use of enterprise load balancing such as F5 Networks Big-IP and its associated products.")]),s._v(" "),n("p",[s._v("To configure load balancer on all head nodes:")]),s._v(" "),n("ol",[n("li",[s._v("Install HAProxy and keepalived service on all head nodes.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" haproxy\n\n$ systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" haproxy\n\n$ systemctl start haproxy\n")])])]),n("ol",[n("li",[s._v("Edit /etc/haproxy/haproxy.conf configuration file on all head nodes.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("frontend openshift-api-server\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:6443\n\n    default_backend openshift-api-server\n\n    mode tcp\n\n    option tcplog\n\nbackend openshift-api-server\n\n    balance "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("\n\n    mode tcp\n\nserver ocpboot1 boot.ocp.isv.local:6443 check\n\n        server ocpmaster1 master0.ocp.isv.local:6443 check\n\n        server ocpmaster2 master1.ocp.isv.local:6443 check\n\n        server ocpmaster3 master2.ocp.isv.local:6443 check\n\nfrontend machine-config-server68\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:22623\n\n    default_backend machine-config-server\n\n    mode tcp\n\n    option tcplog\n\nbackend machine-config-server\n\n    balance "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("\n\n    mode tcp\n\nserver ocpboot1 boot.ocp.isv.local:22623 check\n\n        server ocpmaster1 master0.ocp.isv.local:22623 check\n\n        server ocpmaster2 master1.ocp.isv.local:22623 check\n\n        server ocpmaster3 master2.ocp.isv.local:22623 check\n\nfrontend ingress-http\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:80\n\n    default_backend ingress-http\n\n    mode tcp\n\n    option tcplog\n\nbackend ingress-http\n\n    balance "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("\n\n    mode tcp\n\n        server ocpworker1 worker1.ocp.isv.local:80 check\n\n        server ocpworker2 worker2.ocp.isv.local:80 check\n\n        server ocpworker3 worker3.ocp.isv.local:80 check\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if creating a cluster with only master nodes to begin with and later adding the worker nodes, master nodes should be added in this section instead of worker nodes. Once all the worker nodes are added into the cluster, this configuration needs to be updated with the worker nodes.")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster01 master0.ocp.isv.local:80 check")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster02 master1.ocp.isv.local:80 check")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster03 master2.ocp.isv.local:80 check")]),s._v("\n\nfrontend ingress-https\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:443\n\n    default_backend ingress-https\n\n    mode tcp\n\n    option tcplog\n\nbackend ingress-https\n\n    balance "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("\n\n    mode tcp\n\n        server ocpworker1 worker1.ocp.isv.local:443 check\n\n        server ocpworker2 worker2.ocp.isv.local:443 check\n\n        server ocpworker3 worker3.ocp.isv.local:443 check\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if creating a cluster with only master nodes to begin with and later adding the worker nodes, master nodes should be added in this section instead of worker nodes. Once all the worker nodes are added into the cluster, this configuration needs to be updated with the worker nodes.")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster01 master0.ocp.isv.local:443 check")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster02 master1.ocp.isv.local:443 check")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server ocpmaster03 master2.ocp.isv.local:443 check")]),s._v("\n")])])]),n("p",[n("strong",[s._v("NOTE")])]),s._v(" "),n("p",[s._v("The load balancer configuration should contain values that are aligned to the installation environment.")]),s._v(" "),n("p",[s._v("Installing Keepalived service for HAProxy servers")]),s._v(" "),n("p",[s._v("The Keepalived service provides highly available capabilities on the load balancer for HAProxy server configuration.")]),s._v(" "),n("p",[s._v("To install the Keepalived service on all three head nodes:")]),s._v(" "),n("ol",[n("li",[s._v("Install Keepalived and psmisc service.")])]),s._v(" "),n("p",[n("strong",[s._v("NOTE")])]),s._v(" "),n("p",[s._v("The psmisc service provides killall to check the HAProxy for VRRP.")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" keepalived psmisc\n")])])]),n("ol",[n("li",[s._v("Determine the interface that can be used with the services. For example, the highlighted interface is used with the services on our load balancer for HAProxy servers.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm3 slaves"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": lo: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n\n    inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" lo\n\n       valid_lft forever preferred_lft forever\n\n    inet6 ::1/128 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("\n\n       valid_lft forever preferred_lft forever\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": ens2: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq master bond0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": ens3: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq master bond0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff permaddr "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:40:f6:d8\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": bridge0: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n    inet6 fe80::8034:bdc:f7d0:b444/64 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" noprefixroute\n\n       valid_lft forever preferred_lft forever\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": bond0: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,MASTER,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue master bridge0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": bridge0.230: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n    inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13/24 brd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.255 scope global noprefixroute bridge0.230\n")])])]),n("p",[n("strong",[s._v("NOTE")])]),s._v(" "),n("p",[s._v("This interface could be a dedicated interface or a shared interface. It needs to belong on the same broadcast domain as the VIP.")]),s._v(" "),n("ol",[n("li",[s._v("Allow all connections from the interface for traffic use. Use the following IP addresses as interfaces for HAProxy:")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ iptables "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" INPUT "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.11 "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" ACCEPT\n\n$ iptables "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" INPUT "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.12 "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" ACCEPT\n\n$ iptables "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v(" INPUT "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13 "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" ACCEPT\n")])])]),n("ol",[n("li",[n("p",[s._v("Allocate an IP address from the existing HAproxy network for the floating IP address of the load balancers.")])]),s._v(" "),n("li",[n("p",[s._v("Update the existing cluster DNS name to the newly assigned IP address.")])]),s._v(" "),n("li",[n("p",[s._v("Generate a random external password for Keepalived AUTH_PASS.")])])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ uuidgen\n\nf30fedc5-2b19-414f-b67e-f05742a82e78\n")])])]),n("p",[s._v("Configuring Keepalived service for each node")]),s._v(" "),n("p",[s._v("To configure Keepalived service for each node:")]),s._v(" "),n("ol",[n("li",[s._v("Edit /etc/keepalived/keepalived.conf configuration file on all three nodes for active/active VIP.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm3 slaves"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi /etc/keepalived/keepalived.conf")]),s._v("\n\nrouter_id ovp_vrrp\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nvrrp_script haproxy_check "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n script "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"killall -0 haproxy"')]),s._v("\n\n interval "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n weight "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nvrrp_instance OCP_EXT "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n interface bridge0.230\n\nvirtual_router_id "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("\n\npriority "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n\n state MASTER\n\n virtual_ipaddress "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25 dev bridge0.230"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n track_script "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n haproxy_check\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n authentication "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n auth_type PASS\n\n auth_pass 1cee4b6e-2cdc-48bf-83b2-01a96d1593e4\n\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("The keepalived configuration file consists of the following parts:")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("state MASTER:")]),s._v(" It is the primary HAproxy server.")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("priority line:")]),s._v(" It determines the priority of the server configuration. If a master server must be elected, the server with the highest priority is selected.")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("virtual_ipaddress:")]),s._v(" It denotes the IP address to be used for floating VIP and the local device to bind to 10.0.15.30 and enp1s0 interface.")])])]),s._v(" "),n("ol",[n("li",[s._v("Start and enable the services on all head nodes.")])]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" keepalived"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" systemctl start keepalived\n")])])]),n("p",[s._v("Testing HAProxy with Keepalived service")]),s._v(" "),n("p",[s._v("After successful deployment of Keepalived service on the head nodes, the HAProxy nodes route traffic via HAProxy when the VRRP VIP is available.")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@kvm3 slaves"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" $ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": lo: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n\n    inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" lo\n\n       valid_lft forever preferred_lft forever\n\n    inet6 ::1/128 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("\n\n       valid_lft forever preferred_lft forever\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": ens2: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq master bond0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": ens3: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq master bond0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff permaddr "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:40:f6:d8\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": bridge0: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n    inet6 fe80::8034:bdc:f7d0:b444/64 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" noprefixroute\n\n       valid_lft forever preferred_lft forever\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": bond0: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,MASTER,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue master bridge0 state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": bridge0.230: "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc noqueue state UP group default qlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n\n    link/ether "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff\n\n    inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.13/24 brd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.255 scope global noprefixroute bridge0.230\n\n       valid_lft forever preferred_lft forever\n\n    inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.28")]),s._v(".230.25/32 scope global bridge0.230\n\n       valid_lft forever preferred_lft forever\n\n    inet6 fe80::c48b:8f0f:9902:b9a1/64 scope "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" noprefixroute\n\n       valid_lft forever preferred_lft forever\n")])])])])}),[],!1,null,null,null);n.default=e.exports}}]);