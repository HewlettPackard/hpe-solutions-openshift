(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{321:function(t,s,n){"use strict";n.r(s);var a=n(13),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"installing-and-configuring-master-slave-bind-dns-on-head-nodes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-and-configuring-master-slave-bind-dns-on-head-nodes"}},[t._v("#")]),t._v(" Installing and configuring master/slave Bind DNS on head nodes")]),t._v(" "),s("p",[t._v("Domain Name System (DNS) is a distributed database system that associates hostnames with their respective IP addresses. Berkeley Internet Name Domain (BIND) comprises a set of DNS-related programs. It is also known as the service named in Red Hat Enterprise Linux. The /etc/named.conf is the main configuration file in the BIND configuration. This section focuses on installing, configuring, and managing BIND on the DNS server for all head nodes to create master and slave configuration.")]),t._v(" "),s("p",[t._v("Prerequisites:")]),t._v(" "),s("ul",[s("li",[t._v("All hosts must be running RHEL 8.5 OS.")]),t._v(" "),s("li",[t._v("Red Hat subscription must be active.")]),t._v(" "),s("li",[t._v("DNS server must be configured with the following settings:")])]),t._v(" "),s("p",[s("strong",[t._v("TABLE 9.")]),t._v(" DNS server settings")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("DNS server settings")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("isv.local")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Zone (Domain name)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("172.28.230.11")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("IP address of master DNS node")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("172.28.230.12")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("IP address of the 1st slave DNS node")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("172.28.230.13")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("IP address of the 2nd slave DNS node")])])])]),t._v(" "),s("p",[t._v("Installing and configuring Bind DNS service on master nodes")]),t._v(" "),s("p",[t._v("To install and configure Bind DNS service on master nodes:")]),t._v(" "),s("ol",[s("li",[t._v("Install Bind DNS service on the master node with the following command:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum -y install bind bind-utils vim ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Configure BIND DNS on the master node.")]),t._v(" "),s("li",[t._v("Edit /etc/named.conf configuration file.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("Options "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nlisten-on port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(":"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" \n\nllsten-on-v6 port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ::1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndirectory  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndump-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/cache\\_dump.db"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nstatistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named \\_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmemstatistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named\\_mem\\_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nsecroots-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named.secroots"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nrecursing-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named.recursing"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nallow-query  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.0")]),t._v(".0.0/24"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nallow-transfer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172")]),t._v("-28.230.12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nrecursion no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndnssec-enable "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndnssec-validation "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmanaged-keys-directory "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/dynamic "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\npid:-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/run/named/named.pid"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nsession-keyfile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/run/named./session.key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ninclude"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" /etc/crypto-policies/back.-ends/blind.config"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n\n\nlogging "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nchannel default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_debug "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data/named.run"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nseverity dynamic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" hint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"named.ca"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isv.local"')]),t._v(" IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"forward,isv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nallow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"230.28.172.in-addr.arpa"')]),t._v(" IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reverse. isv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nallow-update "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ninclude "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/named.rfc1912.zones"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ninclude "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/named.root.key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("Create zone files.")]),t._v(" "),s("li",[t._v("After setting the files in the named.conf configuration file, create the zone files in the /var/named/ director directory and place all the records that you would wish to add such as A/AAAA, MX, PTR, and so on.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /var/named/forward.isv ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TTL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v(" \n\n@     IN SOA kvm1.isv.local. root.isv.local."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2011071001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" serial \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" refresh \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" retry \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("604800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" expire \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" minimum \n\n@      IN     NS      kvm1.isv.local. \n\n@      IN     NS      kvm2.isv.local. \n\n@      IN     NS      kvm3.isv.local. \n\n@      IN      A       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11 \n\n@      IN      A       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.12 \n\n@      IN      A       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13 \n\n\n\nboot.ocp.isv.local.           IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.21 \n\nmaster0.ocp.isv.local.     IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.22 \n\nmaster1.ocp.isv.local.     IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.23 \n\nmaster2.ocp.isv.local.     IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.24 \n\nhaproxy.ocp.isv.local.     IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25 \n\napi.int.ocp.isv.local.        IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25 \n\napi.ocp.isv.local.             IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25 \n\nworkerl.ocp.isv.local.     IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.26 \n\nworker2.ocp.isv.local.    IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.27 \n\nworker3.ocp.isv.local.    IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.28 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("* .apps.ocp.isv.local.      IN     A     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25 \n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Create the corresponding reverse records for the same domain that were defined in the named.conf configuration file.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm1 ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /var/named/reverse.isv ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TTL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v(" \n\n@ IN SOA kvm1.isv.local.root.isv.local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2011071001")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" serial \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" refresh \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" retry \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("604800")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" expire \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("86400")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" minimum \n\n@    IN    NS     kvml.isv.local. \n\n@    IN    NS     kvm2.isv.local. \n\n@    IN    NS     kvm3.isv.local. \n\n@    IN    PTR    isv.local. \n\n@    IN    A      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11 \n\n4P   IN    A      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.12 \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("   IN    A      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13 \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("   IN    PTR    kvm1.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("   IN    PTR    kvm2.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("   IN    PTR    kvm3.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v("   IN    PTR    boot.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("   IN    PTR    master0.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("   IN    PTR    master1.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("   IN    PTR    master2.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("   IN    PTR    haproxy.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("   IN    PTR    api.int.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("   IN    PTR    api.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v("   IN    PTR    worker1.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v("   IN    PTR    worker2.ocp.isv.local. \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("   IN    PTR    worker3.ocp.isv.local. \n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("Modify DNS settings on the master server.")]),t._v(" "),s("li",[t._v("Set the new DNS server as the default name server.")]),t._v(" "),s("li",[t._v("Edit /etc/resolv.conf configuration file and add the following lines:")])]),t._v(" "),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("Ensure that the IP address is replaced to match your environment.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm1~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat/etc/resolv.conf. ")]),t._v("\n\nsearch isv.local \n\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11 \n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("Configure firewall to allow DNS service.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo firewall-cmd--add-service=dns--permanent ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo firewall-cmd--reload ")]),t._v("\n\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo named-checkconf ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo systemctl start named ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo systemctl enable named ")]),t._v("\n")])])]),s("p",[t._v("The master BIND DNS server configuration is complete.")]),t._v(" "),s("p",[t._v("Installing Bind DNS service on slave nodes")]),t._v(" "),s("p",[t._v("To install Bind DNS service on slave nodes:")]),t._v(" "),s("ol",[s("li",[t._v("On the both the slave nodes with IP addresses as 172.28.230.12 and 172.28.230.13, install bind and bind-utils:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum -y install bind bind-utils vim ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Configure the slave nodes and edit /etc/named.conf configuration file.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("options "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nlisten-on port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nlisten-on-v6 port "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ::1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndirectory "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" /var/named"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndump-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/cache\\_dump.db"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nstatistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named\\_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmemstatistics-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named\\_mem\\_stats.txt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nsecroots-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/data/named.secroots"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nrecursing-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"var/named/data/named.recursing"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nallow-query "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.0")]),t._v(".0.0/24"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nrecursion "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndnssec-enable "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ndnssec-validation "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmanaged-keys-directory "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/named/dynamic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\npid-file "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" /run/named/named.pid"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nsession-keyfile "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/run/named/session.key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n\n\ninclude "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/crypto-policies/back-ends/bind\\_config"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nlogging "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nchannel default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_debug "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data/named.run"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nseverity dynamic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" IN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" hint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"named.ca"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isv.local"')]),t._v(" IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" slave"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"slaves/forward,isv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmaster "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nzone "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"230.28.172.in-addr.arpa"')]),t._v(" IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" slave"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"slaves/reverse. isv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\nmaster "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ninclude "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/named.rfc1912.zones"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\ninclude "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/named.root.key"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("Modify DNS settings on the slave server.")]),t._v(" "),s("li",[t._v("Set the new DNS servers (both master and slaves) as the default name servers.")]),t._v(" "),s("li",[t._v("Edit /etc/resolv.conf configuration file and add the following lines:")])]),t._v(" "),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("Ensure that the IP addresses are replaced to match your environment.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root.kvm2~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat/etc/resolv.conf ")]),t._v("\n\nsearch isv.local \n\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.11 \n\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.12 \n\nnameserver "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13 \n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("Check the configurations and then start and enable BIND:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo named-checkconf ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo systemctl start named ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo systemctl enable named ")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("Verify that the /var/named/slaves directory includes the zone files that were transferred from the master node.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm2~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ls -| /var/named/slaves/ ")]),t._v("\n\n-rw-r-r-1 named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("900")]),t._v(" Jun "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" 09:11 forward.isv \n\n-rw-r-r-1 named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1168")]),t._v(" Jun "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" 09:12 reverse.isv \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("kvm3~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ls-| /var/named/slaves/ ")]),t._v("\n\n-rw-r-r-1 named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("900")]),t._v(" Jun "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" 09:11 forward.isv \n\n-rw-r-r-1 named named "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1168")]),t._v(" Jun "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" 09:12 reverse.isv \n")])])]),s("p",[t._v("Testing master/slave DNS configuration")]),t._v(" "),s("p",[t._v("To test the DNS resolution from the master/slave DNS servers:")]),t._v(" "),s("ol",[s("li",[t._v("On the master DNS server, run the following command:")])]),t._v(" "),s("ul",[s("li",[t._v("Master DNS node:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm1~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short master0.ocp.isv.local ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.22 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm1~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short -x 172.28.230.22 ")]),t._v("\n\nmaster0.ocp.isv.local. \n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("On both the slave DNS servers, run the following commands:")])]),t._v(" "),s("ul",[s("li",[t._v("1st Slave DNS node:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm2~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short master0.ocp.isv.local ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.22 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm2~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short -x 172.28.230.22 ")]),t._v("\n\nmaster0.ocp.isv.local. \n")])])]),s("ul",[s("li",[t._v("2nd Slave DNS node:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm3~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short master0.ocp.isv.local ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.22 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm3~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dig +short -x 172.28.230.22 ")]),t._v("\n\nmaster0.ocp.isv.local. \n")])])]),s("p",[s("strong",[t._v("Configuring load balancer on head nodes")])]),t._v(" "),s("p",[t._v("The RHOCP 4.10 uses an external load balancer to communicate from outside the cluster with services running inside the cluster. This section assumes that there is a load balancer available within our deployment environment and is available for use. Our deployment environment is developed using HAProxy, an open-source solution with one virtual machine for load balancing functionality.")]),t._v(" "),s("p",[t._v("In a production environment, Hewlett Packard Enterprise recommends the use of enterprise load balancing such as F5 Networks Big-IP and its associated products.")]),t._v(" "),s("p",[t._v("To configure load balancer on all head nodes:")]),t._v(" "),s("ol",[s("li",[t._v("Install haproxy and keepalived service on all head nodes.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum install haproxy ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl enable haproxy ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl start haproxy ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Edit /etc/haproxy/haproxy.conf configuration file on all head nodes.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("frontend openshift-api-server \n\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("bind")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*:6443 \n\n    default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_backend openshift-api-server \n\n    mode tcp \n\n    option tcplog \n\nbackend openshift-api-server \n\n    balance "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" \n\n    mode tcp \n\nserver ocpboot1 boot.ocp.isv.local:6443 check \n\n        server ocpmaster1 master0.ocp.isv.local:6443 check \n\n        server ocpmaster2 master1.ocp.isv.local:6443 check \n\n        server ocpmaster3 master2.ocp.isv.local:6443 check  \n\nfrontend machine-config-server68 \n\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("bind")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*:22623 \n\n    default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_backend machine-config-server \n\n    mode tcp \n\n    option tcplog \n\nbackend machine-config-server \n\n    balance "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" \n\n    mode tcp \n\nserver ocpboot1 boot.ocp.isv.local:22623 check \n\n        server ocpmaster1 master0.ocp.isv.local:22623 check \n\n        server ocpmaster2 master1.ocp.isv.local:22623 check \n\n        server ocpmaster3 master2.ocp.isv.local:22623 check \n\nfrontend ingress-http \n\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("bind")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*:80 \n\n    default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_backend ingress-http \n\n    mode tcp \n\n    option tcplog \n\nbackend ingress-http \n\n    balance "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" \n\n    mode tcp \n\n        server ocpworker1 worker1.ocp.isv.local:80 check \n\n        server ocpworker2 worker2.ocp.isv.local:80 check \n\n        server ocpworker3 worker3.ocp.isv.local:80 check \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("# "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" creating a cluster with only master nodes to begin with and later adding the worker nodes, master nodes should be added "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" this section instead of worker nodes. Once all the worker nodes are added into the cluster, this configuration needs to be updated with the worker nodes.  \n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster01 master0.ocp.isv.local:80 check  ")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster02 master1.ocp.isv.local:80 check  ")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster03 master2.ocp.isv.local:80 check ")]),t._v("\n\nfrontend ingress-https \n\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("bind")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*:443 \n\n    default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_backend ingress-https \n\n    mode tcp \n    option tcplog \n\nbackend ingress-https \n\n    balance "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" \n\n    mode tcp \n\n        server ocpworker1 worker1.ocp.isv.local:443 check \n\n       server ocpworker2 worker2.ocp.isv.local:443 check \n        server ocpworker3 worker3.ocp.isv.local:443 check \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("# "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" creating a cluster with only master nodes to begin with and later adding the worker nodes, master nodes should be added "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" this section instead of worker nodes. Once all the worker nodes are added into the cluster, this configuration needs to be updated with the worker nodes.  \n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster01 master0.ocp.isv.local:443 check  ")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster02 master1.ocp.isv.local:443 check  ")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server ocpmaster03 master2.ocp.isv.local:443 check ")]),t._v("\n")])])]),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("The load balancer configuration should contain values that are aligned to the installation environment.")]),t._v(" "),s("p",[t._v("Installing Keepalived service for HAProxy servers")]),t._v(" "),s("p",[t._v("The Keepalived service provides highly available capabilities on the load balancer for HAProxy server configuration.")]),t._v(" "),s("p",[t._v("To install the Keepalived service on all three head nodes:")]),t._v(" "),s("ol",[s("li",[t._v("Install Keepalived and psmisc service.")])]),t._v(" "),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("The psmisc service provides killall to check the HAProxy for VRRP.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum install -y keepalived psmisc ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Determine the interface that can be used with the services. For example, the highlighted interface is used with the services on our load balancer for HAProxy servers.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm3 slaves"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ip a ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(": lo: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("LOOPBACK,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65536")]),t._v(" qdisc noqueue state UNKNOWN group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 \n\n    inet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1/8 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" lo \n\n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n    inet6 ::1/128 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" \n\n     valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(": ens2: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc mq master bond0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(": ens3: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc mq master bond0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff permaddr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:40:f6:d8 \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(": bridge0: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\nlink/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\ninet6 fe80::8034:bdc:f7d0:b444/64 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v(" noprefixroute \n\nvalid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(": bond0: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,MASTER,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue master bridge0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\nlink/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(": bridge0.230: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\nlink/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\ninet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13/24 brd "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.255 scope global noprefixroute bridge0.230 \n")])])]),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("This interface could be a dedicated interface or a shared interface. It needs to belong on the same broadcast domain as the VIP.")]),t._v(" "),s("ol",[s("li",[t._v("Allow all connections from the interface for traffic use. Use the following IP addresses as interfaces for HAProxy:")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# iptables -A INPUT -s 172.28.230.11 -j ACCEPT ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# iptables -A INPUT -s 172.28.230.12 -j ACCEPT ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# iptables -A INPUT -s 172.28.230.13 -j ACCEPT ")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Allocate an IP address from the existing HAproxy network for the floating IP address of the load balancers.")]),t._v(" "),s("li",[t._v("Update the existing cluster DNS name to the newly assigned IP address.")]),t._v(" "),s("li",[t._v("Generate a random external password for Keepalived AUTH_PASS.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uuidgen ")]),t._v("\n\nf30fedc5-2b19-414f-b67e-f05742a82e78 \n")])])]),s("p",[t._v("Configuring Keepalived service for each node")]),t._v(" "),s("p",[t._v("To configure Keepalived service for each node:")]),t._v(" "),s("ol",[s("li",[t._v("Edit /etc/keepalived/keepalived.conf configuration file on all three nodes for active/active VIP.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm3 slaves"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vi /etc/keepalived/keepalived.conf ")]),t._v("\n\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_id ovp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_vrrp \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\nvrrp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_script haproxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_check "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nscript "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"killall -0 haproxy"')]),t._v(" \n\ninterval "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" \n\nweight "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\nvrrp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_instance OCP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_EXT "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\ninterface bridge0.230 \n\nvirtual"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_id "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("51")]),t._v(" \n\npriority "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" \n\nstate MASTER \n\nvirtual"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_ipaddress "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25 dev bridge0.230"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\ntrack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_script "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nhaproxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_check  \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\nauthentication "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\nauth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_type PASS \n\nauth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_pass 1cee4b6e-2cdc-48bf-83b2-01a96d1593e4 \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\n")])])]),s("p",[t._v("The keepalived configuration file consists of the following parts:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("state MASTER:")]),t._v(" It is the primary HAproxy server.")]),t._v(" "),s("li",[s("strong",[t._v("priority line:")]),t._v(" It determines the priority of the server configuration. If a master server must be elected, the server with the highest priority is selected.")]),t._v(" "),s("li",[s("strong",[t._v("virtual_ipaddress:")]),t._v(" It denotes the IP address to be used for floating VIP and the local device to bind to 10.0.15.30 and enp1s0 interface.")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Start and enable the services on all head nodes.")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl enable keepalived; systemctl start keepalived ")]),t._v("\n")])])]),s("p",[t._v("Testing HAProxy with Keepalived service")]),t._v(" "),s("p",[t._v("After successful deployment of Keepalived service on the head nodes, the HAProxy nodes route traffic via HAProxy when the VRRP VIP is available.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@kvm3 slaves"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ip a ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(": lo: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("LOOPBACK,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65536")]),t._v(" qdisc noqueue state UNKNOWN group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 \n\n    inet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1/8 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" lo \n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n    inet6 ::1/128 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" \n\n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(": ens2: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc mq master bond0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(": ens3: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,SLAVE,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc mq master bond0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff permaddr "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:40:f6:d8 \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(": bridge0: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n    inet6 fe80::8034:bdc:f7d0:b444/64 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v(" noprefixroute \n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(": bond0: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,MASTER,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue master bridge0 state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(": bridge0.230: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BROADCAST,MULTICAST,UP,LOWER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_UP"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mtu "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v(" qdisc noqueue state UP group default qlen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" \n\n    link/ether "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("88")]),t._v(":e9:a4:41:55:b8 brd ff:ff:ff:ff:ff:ff \n\n    inet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.13/24 brd "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.255 scope global noprefixroute bridge0.230 \n\n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n    inet "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.28")]),t._v(".230.25/32 scope global bridge0.230 \n\n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n\n    inet6 fe80::c48b:8f0f:9902:b9a1/64 scope "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v(" noprefixroute \n\n       valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever preferred"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("_lft forever \n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);