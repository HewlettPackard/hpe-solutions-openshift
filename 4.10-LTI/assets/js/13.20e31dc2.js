(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{290:function(t,e,i){t.exports=i.p+"assets/img/f3.c4d46611.png"},312:function(t,e,i){"use strict";i.r(e);var a=i(13),l=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"physical-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#physical-components"}},[t._v("#")]),t._v(" Physical components")]),t._v(" "),e("p",[t._v("This section includes the hardware, software, and service components for the NGS-optimized solution for RHOCP.")]),t._v(" "),e("p",[e("strong",[t._v("Hardware")])]),t._v(" "),e("p",[t._v("The following table includes the hardware requirements for this solution:")]),t._v(" "),e("p",[e("strong",[t._v("TABLE 2.")]),t._v(" Hardware components required for NGS-optimized solution for RH OCP")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Component")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Qty")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HPE Proliant DL365 Gen10 Plus Servers")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Provides compute capacity for head nodes")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HPE Proliant DL365 Gen10 Plus Servers")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenShift worker nodes /bootstrap with RHEL8.5")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HPE Alletra 6070")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("External iSCSI storage  for Persistent Volumes")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HPE Aruba 8325 switch")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A network switch for datacenter network")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HPE Aruba 6300M switch")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("A network switch for iLO Management network")])])])]),t._v(" "),e("p",[e("strong",[t._v("Software")])]),t._v(" "),e("p",[t._v("The following software versions must be installed on your system before deploying the NGS-optimized solution for RHOCP:")]),t._v(" "),e("p",[e("strong",[t._v("NOTE")])]),t._v(" "),e("p",[t._v("The installation user must ensure that they have downloaded or have access to these software components. Ensure that the appropriate subscriptions and licensing are in place to use within the planned time frame.")]),t._v(" "),e("p",[e("strong",[t._v("TABLE 3.")]),t._v(" Software requirements for NGS-optimized solution for RH OCP")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Component")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Version")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Red Hat Enterprise Linux CoreOS (RHCOS)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4.10")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Aruba 6300")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("10.08.1021")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Aruba 8325")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("10.08.1021")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Red Hat OpenShift Container Platform (RHOCP)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4.10")])])])]),t._v(" "),e("p",[t._v("The following software must be available on the installer machine:")]),t._v(" "),e("p",[e("strong",[t._v("TABLE 4.")]),t._v(" Software requirements for the installer machine")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Component")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Version")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Ansible")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2.9")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Python")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("3.6")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Java")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1.8")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Bind DNS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("9.11.36")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("squid proxy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HA Proxy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1.8.27")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Chrony")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4.1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Matchbox")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0.9")])])])]),t._v(" "),e("p",[e("strong",[t._v("Services")])]),t._v(" "),e("p",[t._v("This document is built with assumptions about services and network ports available within the implementation environment. This section discusses those assumptions.")]),t._v(" "),e("p",[t._v("The following table includes a list of services required for the NGS-optimized solution for RHOCP and provides a brief description of their function:")]),t._v(" "),e("p",[e("strong",[t._v("TABLE 5.")]),t._v(" Services used for the NGS-optimized solution for RH OCP")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Service")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Description/Notes")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("BindDNS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("p",[t._v("Provides name resolution on management and data center networks. ")]),e("p",[t._v("Domain Name Services must be in place for the management and data center networks. Ensure that both forward and reverse lookups are working for all hosts. ")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("HAPROXY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HAProxy is a free, very fast and reliable reverse-proxy offering high availability, load balancing, and proxying for TCP and HTTP-based applications.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("NTP")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("p",[t._v("Ensures consistent time across the solution stack. ")]),e("p",[t._v("A Network Time Protocol (NTP) server should be available for time synchronization to host within the solution environment. ")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("iPXE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("p",[t._v("Enables booting of operating systems. ")]),e("p",[t._v("Since all the nodes in this solution are booted using iPXE server, it is necessary to have a properly configured iPXE server. ")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("KVM")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Kernel-based Virtual Machine (KVM) is an "),e("s",[t._v("open source")]),t._v("open-source virtualization technology. Specifically, KVM a hypervisor that allows a host machine to run multiple, virtual environments called guests or Virtual Machines (VMs)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Squid Proxy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Squid is a web proxy server application that gives organizations proxy and cache services for the Web supporting HTTP, HTTPS, FTP, and more")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Keepalived")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Keepalived is used for IP failover between two servers. Its facilities for load balancing and high-availability to Linux-based infrastructures. It worked on VRRP (Virtual Router Redundancy Protocol) protocol.")])])])]),t._v(" "),e("p",[t._v("DHCP")]),t._v(" "),e("p",[t._v("DHCP should be present and able to provide IP address leases on the iPXE server, management, and data center networks.")]),t._v(" "),e("p",[t._v("Network port")]),t._v(" "),e("p",[t._v("The port information listed in Table 6 allows cluster components to communicate with each other.")]),t._v(" "),e("p",[t._v("To retrieve this information from bootstrap, master, and worker nodes, run the following command:")]),t._v(" "),e("p",[t._v("> netstat –tupln")]),t._v(" "),e("p",[t._v("The following table shows a list of network ports used by the services under RHOCP 4.10.")]),t._v(" "),e("p",[e("strong",[t._v("TABLE 6.")]),t._v(" Network ports used by RHOCP 4.10 services")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Protocol")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Port Number/Range")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Service Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Other details")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TCP")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("80")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HTTP Traffic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The machines that run the Ingress router pods, compute, or worker by default.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("443")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HTTPS traffic")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2379-2380")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("etcd server, peer and metrics ports")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("6443")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Kubernetes API")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The Bootstrap machine and masters.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("9000-9999")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Host level services, including the node exporter on ports 9100-9101 and the Cluster Version Operator on port 9099.")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("10249-10259")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The default ports that Kubernetes reserves.")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("10256")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("openshift-sdn")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("22623")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Machine Config Server")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("The Bootstrap machine and masters.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("UDP")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4789")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("VXLAN and GENEVE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("6081")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("VXLAN and GENEVE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("9000-9999")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Host level services, including the node exporter on ports 9100-9101")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("30000-32767")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Kubernetes NodePort")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TCP")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("3128")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Squid Proxy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Squid is a caching and forwarding web proxy")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("TCP/UDP")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("53")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Bind DNS")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("BIND can be used to run a caching DNS server or an authoritative name server, and provides features like load balancing, notify, dynamic update, split DNS, DNSSEC, IPv6, and more.")])])])]),t._v(" "),e("p",[t._v("For more information on the network port requirements for RHOCP 4.10, see the "),e("a",{attrs:{href:"https://docs.openshift.com/container-platform/4.10/installing/installing_bare_metal/installing-bare-metal.html#installation-network-user-infra_installing-bare-metal",target:"_blank",rel:"noopener noreferrer"}},[t._v("Networking requirements for user-provisioned infrastructure"),e("OutboundLink")],1),t._v(" section in the "),e("em",[t._v("OpenShift Container Platform 4.10 documentation")]),t._v(".")]),t._v(" "),e("p",[e("strong",[t._v("Networking components")])]),t._v(" "),e("p",[t._v("The following figure illustrates the cabling configuration of the three ProLiant AMD and Intel servers, Aruba 8325 and Aruba 6300 switches, and Intelligent Resilient Fabric (IRF) for the NGS-optimized solution for RHOCP. These cables carry frame management, inter-frame, and interconnect traffic between frames.")]),t._v(" "),e("p",[e("img",{attrs:{src:i(290),alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("FIGURE 3.")]),t._v(" NGS-optimized solution for RHOCP 4.10 – Network configuration")]),t._v(" "),e("p",[t._v("The NGS-optimized solution for RHOCP network configuration includes the following components:")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("Foundation Services External Networks:")]),t._v(" It is customer defined and provides networks for RHOCP deployment.")]),t._v(" "),e("li",[e("strong",[t._v("Workload Private Networks:")]),t._v(" It includes networks (with or without customer direct accessibility) provisioned on-demand for deployed workloads and for Bare Metal servers.")]),t._v(" "),e("li",[e("strong",[t._v("ISCSI A and B Networks:")]),t._v(" It includes dedicated networks optimized for lossless compute to storage communication.")]),t._v(" "),e("li",[e("strong",[t._v("OOBM Network:")]),t._v(" It provides iLO for servers and Block Storage Management and connects to the OOBM management switch.")])])])}),[],!1,null,null,null);e.default=l.exports}}]);