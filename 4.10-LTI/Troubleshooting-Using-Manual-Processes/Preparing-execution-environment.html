<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Preparing the execution environment for RHOCP worker3 node | OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/css/0.styles.7ae315c3.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/app.61e21a34.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/2.7c26c33b.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/26.054715b8.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/10.f1cb13d3.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/11.061e6989.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/12.54ffd556.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/13.7c6fc43e.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/14.97f3e6e4.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/15.7ce43e40.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/16.74c5a1bf.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/17.15c44ee1.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/18.115435b0.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/19.5fb9ed89.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/20.4f2e4386.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/21.3f7893d5.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/22.b1d77f77.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/23.5f40a554.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/24.a1a16178.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/25.d761f7ba.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/3.734eb302.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/4.0962f450.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/5.e7dabacf.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/6.57b774f0.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/7.7351e6ab.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/8.23609685.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/9.110ca306.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/4.10-LTI/assets/css/0.styles.7ae315c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/4.10-LTI/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.10 on DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Troubleshooing by Using Manual Processes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Preparing-execution-environment.html" aria-current="page" class="active sidebar-link">Preparing the execution environment for RHOCP worker3 node</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Deploying-OS-on-Head-Nodes.html" class="sidebar-link">Deploying RHOCP cluster manually</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Installing-and-Configuring-Bind-DNS.html" class="sidebar-link">Installing and configuring master/child Bind DNS on head nodes</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Configuring-Squid-Proxy.html" class="sidebar-link">Deploying Squid proxy on head nodes</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/OCP-Cluster-Deployment.html" class="sidebar-link">Generating Kubernetes manifests and ignition files</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="preparing-the-execution-environment-for-rhocp-worker3-node"><a href="#preparing-the-execution-environment-for-rhocp-worker3-node" class="header-anchor">#</a> Preparing the execution environment for RHOCP worker3 node</h1> <p>Prerequisites:</p> <ul><li>RHEL 8.6 must be <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_8_installation/index" target="_blank" rel="noopener noreferrer">installed and registered<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on your host machine</li> <li>Configure <strong>BOND  &gt; VLAN  &gt; Bridge</strong></li></ul> <p><strong>Setting up RHEL 8.6 installer machine</strong></p> <p>This section assumes the following considerations for our deployment environment:</p> <ul><li>A server running Red Hat Enterprise Linux (RHEL) 8.6 exists within the deployment environment and is accessible to the installation user to be used as an installer machine. This server must have internet connectivity.</li> <li>A virtual machine is used to act as an installer machine and the same host is utilized for creating the RHEL 7 installer machine and deploying the RHOCP cluster. We are using one of the worker3 machines as an installer machine to deploy the solution manually.</li></ul> <p>Prerequisites:</p> <p>RHEL 8.6 installer machine must have the following configurations:</p> <ol><li><p>The installer machine must have at least 500 GB disk space (especially in the &quot;/&quot; partition), 4 CPU cores, and 16 GB RAM.</p></li> <li><p>RHEL 8.6 installer machine must be subscribed with valid Red Hat credentials. To register the installer machine for the Red Hat subscription, run the following command:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> subscription-manager register <span class="token parameter variable">--username</span><span class="token operator">=</span><span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token parameter variable">--password</span><span class="token operator">=</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> --auto-attach
</code></pre></div><ol><li>SSH key pair must be available on the installer machine. If the SSH key pair is not available, generate a new SSH key pair with the following command:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ssh-keygen
</code></pre></div><p>To set up the installer machine:</p> <ol><li>Create and activate Python3 virtual environment for deploying this solution with the following commands:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ python3 <span class="token parameter variable">-m</span> venv <span class="token operator">&lt;</span>virtual_environment_name<span class="token operator">&gt;</span>
$ <span class="token builtin class-name">source</span> <span class="token operator">&lt;</span>virtual_environment_name<span class="token operator">&gt;</span>/bin/activate
</code></pre></div><ol><li><p>Download the hpe-solutions-openshift/DL-LTI-Openshift/</p></li> <li><p>repositories from the Ansible Engine using the following commands:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> /opt

$ <span class="token builtin class-name">cd</span> /opt/

$ yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">git</span>
$ <span class="token function">git</span> clone https://github.hpe.com/Solutions/ISV-OpenShift.git
</code></pre></div><ol><li>Set up the installer machine to configure the nginx, development tools, and other python packages. Navigate to the /opt/ hpe-solutions-openshift/DL-LTI-Openshift/ directory and run the following command:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sh</span> setup.sh
</code></pre></div><ol><li>Download and copy RHEL 8.6 and RHEL 7.9 DVD ISO to /usr/share/nginx/html/ directory to create nginx service.</li></ol> <p><strong>NOTE</strong></p> <p>For server type ProLiant DL365 Gen10 Plus, Bonding_Interface1 is eno5 and Bonding_Interface2 is eno6. For server type ProLiant DL365 Gen10 Plus , Bonding_Interface1 is ens2 and Bonding_Interface2 is ens3.</p> <p>The output generates the input.yaml file and the hosts file in the same location.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/4.10-LTI/Additional-Features-and-Functionality/Securing-OpenShift-Container-Platform-using-Sysdig.html" class="prev">
        Securing Red Hat OpenShift Container Platform using Sysdig Secure and
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Deploying-OS-on-Head-Nodes.html">
        Deploying RHOCP cluster manually
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/4.10-LTI/assets/js/app.61e21a34.js" defer></script><script src="/hpe-solutions-openshift/4.10-LTI/assets/js/2.7c26c33b.js" defer></script><script src="/hpe-solutions-openshift/4.10-LTI/assets/js/26.054715b8.js" defer></script>
  </body>
</html>
