<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploying RHOCP cluster manually | OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/css/0.styles.7ae315c3.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/app.61e21a34.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/2.7c26c33b.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-LTI/assets/js/24.a1a16178.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/10.f1cb13d3.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/11.061e6989.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/12.54ffd556.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/13.7c6fc43e.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/14.97f3e6e4.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/15.7ce43e40.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/16.74c5a1bf.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/17.15c44ee1.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/18.115435b0.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/19.5fb9ed89.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/20.4f2e4386.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/21.3f7893d5.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/22.b1d77f77.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/23.5f40a554.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/25.d761f7ba.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/26.054715b8.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/3.734eb302.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/4.0962f450.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/5.e7dabacf.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/6.57b774f0.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/7.7351e6ab.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/8.23609685.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-LTI/assets/js/9.110ca306.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/4.10-LTI/assets/css/0.styles.7ae315c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/4.10-LTI/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.10 on DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Troubleshooing by Using Manual Processes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment for RHOCP worker3 node</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Deploying-OS-on-Head-Nodes.html" aria-current="page" class="active sidebar-link">Deploying RHOCP cluster manually</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Installing-and-Configuring-Bind-DNS.html" class="sidebar-link">Installing and configuring master/child Bind DNS on head nodes</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Configuring-Squid-Proxy.html" class="sidebar-link">Deploying Squid proxy on head nodes</a></li><li><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/OCP-Cluster-Deployment.html" class="sidebar-link">Generating Kubernetes manifests and ignition files</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deploying-rhocp-cluster-manually"><a href="#deploying-rhocp-cluster-manually" class="header-anchor">#</a> Deploying RHOCP cluster manually</h1> <p>Deploying RHEL 8.6 OS on the head nodes</p> <p>To deploy RHEL 8.6 OS on the head nodes:</p> <ul><li>Login to iLO for head nodes server and mount RHEL 8.6 OS that needs to be deployed and configured.</li></ul> <p>Copying SSH key</p> <p>Once the OS is installed on the head nodes, copy the ssh key from the installer machine to the head nodes.</p> <ul><li>To copy the ssh key,  run the following command on the head node:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ssh-copy-id root@<span class="token operator">&lt;</span>head-node-ip<span class="token operator">&gt;</span>
</code></pre></div><p>Setting up head nodes</p> <p>Complete the following steps to register the head nodes to a Red Hat subscription and download and install KVM Virtualization packages.</p> <ol><li>Run the following command on the head node:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ yum <span class="token function">install</span> –y virt-manager virt-install virt-viewer  libvirt  cockpit-machines
</code></pre></div><ol><li>When all the packages are installed, start and enable all the services.</li></ol> <p><strong>Setting up NTP server on head nodes</strong></p> <p>The NTP server is set up to enable time synchronization on all the head nodes.</p> <p>Prerequisites:</p> <ul><li>Ensure that the Chrony suite is installed by default on Red Hat Enterprise Linux.</li></ul> <p>To set up NTP server on head nodes manually:</p> <ol><li>Verify that the Chrony suite is installed on Red Hat Enterprise Linux. If it is not installed, run the following command as root:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ yum <span class="token function">install</span> chrony
</code></pre></div><ol><li>Enable Chrony to start after boot.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ systemctl <span class="token builtin class-name">enable</span> chronyd
</code></pre></div><ol><li><p>Set Chrony to act as an NTP server for a local network.</p></li> <li><p>Edit /etc/chrony.conf configuration file and add the following line:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ allow <span class="token number">192.168</span>.1.0/24
</code></pre></div><ol><li><p>Restart Chrony NTP daemon to apply the changes:</p></li> <li><p>Verify the NTP server configuration using manual time sync from any host located on the allowed network. Any NTP client should be able to sync with the new Chrony NTP server.</p></li></ol> <p>For our deployment environment, the ntpdate command is used to sync with our Chrony NTP server located at 192.168.1.150 IP address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ntpdate <span class="token number">192.168</span>.1.150
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Preparing-execution-environment.html" class="prev">
        Preparing the execution environment for RHOCP worker3 node
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/4.10-LTI/Troubleshooting-Using-Manual-Processes/Installing-and-Configuring-Bind-DNS.html">
        Installing and configuring master/child Bind DNS on head nodes
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/4.10-LTI/assets/js/app.61e21a34.js" defer></script><script src="/hpe-solutions-openshift/4.10-LTI/assets/js/2.7c26c33b.js" defer></script><script src="/hpe-solutions-openshift/4.10-LTI/assets/js/24.a1a16178.js" defer></script>
  </body>
</html>
