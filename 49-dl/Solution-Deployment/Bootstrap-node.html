<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bootstrap node | OpenShift Container Platform 4.9 on HPE DL380 and DL360 Gen10 Servers</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/css/0.styles.b9906ffc.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/app.3ab76ca9.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/2.692be357.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/26.61c365e8.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/10.d80efe23.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/11.34937674.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/12.cb2fa787.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/13.de116ec1.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/14.61bf774b.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/15.4c949536.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/16.e90f0158.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/17.1d47a547.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/18.23a9e026.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/19.a8595bd6.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/20.4e8d28b5.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/21.ee6fa1e2.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/22.d72bcd0d.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/23.b06cbde8.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/24.d16dfbc6.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/25.865e626b.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/27.b22ca90b.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/28.3a70d9c4.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/29.c47171c1.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/3.aac6da1f.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/30.437b3702.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/31.efe2a4fb.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/32.1ad54211.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/33.35dc4767.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/34.feb50123.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/35.851c39b1.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/4.08272df7.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/5.018be1c0.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/6.3bf3aab7.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/7.e24d64b3.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/8.2d9d3197.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/9.e5eeb283.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/49-dl/assets/css/0.styles.b9906ffc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/49-dl/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.9 on HPE DL380 and DL360 Gen10 Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/49-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/49-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.9 on DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Solution-deployment-flow.html" class="sidebar-link">Solution Deployment Flow</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Operating-system-deployment.html" class="sidebar-link">Operating system deployment</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/User-provisioned-DNS-requirements.html" class="sidebar-link">User-provisioned DNS requirements</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Load-Balancer.html" class="sidebar-link">Load Balancer</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Bootstrap-node.html" aria-current="page" class="active sidebar-link">Bootstrap node</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Physical-node-configuration.html" class="sidebar-link">Physical node configuration</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Virtual-node-configuration.html" class="sidebar-link">Virtual node configuration</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/OCP-Cluster-deployment.html" class="sidebar-link">Red Hat OpenShift Container Platform Cluster deployment</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/OCP-worker-nodes.html" class="sidebar-link">Red Hat OCP worker nodes</a></li><li><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Deploying-OCP-on-VMware-vSphere.html" class="sidebar-link">Deploying OpenShift Container Platform 4.9 on VMware vSphere</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bootstrap-node"><a href="#bootstrap-node" class="header-anchor">#</a> Bootstrap node</h1> <p>A temporary bootstrap node is required for OpenShift cluster creation. This section assumes that a VMware vSphere host is present within the deployment environment and is associated with a VMware vCenter server. The host should be configured with appropriate storage and networking configuration.</p> <h4 id="playbooks-for-creating-the-bootstrap-node"><a href="#playbooks-for-creating-the-bootstrap-node" class="header-anchor">#</a> Playbooks for creating the bootstrap node</h4> <ol><li>inputs.yml: This file contains input variables to create the bootstrap VM. Some of the variables pertaining to the VM configuration are provided with default values as per the Red Hat guidelines. It is expected that the installation user updates the values to suit their installation environment.</li></ol> <ul><li><strong>datacenter_name</strong>: Name of the VMware data center.</li> <li><strong>cluster_name</strong>: Name of the VMware cluster.</li> <li><strong>datastore_name</strong>: Name of the VMware datastore.</li> <li><strong>network_name</strong>: Name of the network associated with the vSphere host.</li> <li><strong>bootstrap_disk</strong>: Disk size for the bootstrap node.</li> <li><strong>bootstrap_cpu</strong>: Number of vCPUs for the bootstrap node.</li> <li><strong>bootstrap_name</strong>: Custom name of the bootstrap node.</li> <li><strong>secret.yml</strong>: This is an Ansible vault file that contains sensitive information such as the VMware vCenter server IP address and credentials.</li> <li><strong>playbooks/deploy_vm.yml</strong>: This playbook is used to create the bootstrap VM.</li> <li><strong>roles/deploy_vm.yml</strong>: This is the Ansible role file that is required to create the bootstrap VM. Each role is associated with a set of tasks to accomplish the expected output and they are present in the tasks directory within the role.</li></ul> <p>Follow these steps to create the bootstrap node:</p> <ol><li>Login to the installer VM.</li> <li>Use the following command to change the directory.</li></ol> <p>cd /opt/hpe/solutions/ocp/hpe-solutions-openshift/DL/scalable/infrastructure</p> <ol start="3"><li>Update the secret.yml to provide the details of the VMware vCenter server using the following command. A sample input is provided and it is expected that the installation user updates the configuration to suit the deployment environment.</li></ol> <p><code></code>ansible-vault edit secret.yml</p> <p># vcenter hostname/ip address and credentials
vcenter_hostname: vcenter hostname</p> <p>vcenter_username: vcenter username</p> <p>vcenter_password: vcenter password</p> <ol start="4"><li>Update the <em>input.yml</em> file with the data center, cluster, and datastore information that will be used within the VMware vCenter server. This file provides default configuration information for the bootstrap node, if required. The configuration can be updated to suit the environment needs.</li></ol> <p># Variables for creating the bootstrap VM, as per the vSphere host configuration within the vCenter
datacenter_name: name of data center within vcenter</p> <p>cluster_name: name of cluster within vcenter</p> <p>datastore_name: name of datastore within vcenter</p> <p>network_name: name of the network within vcenter</p> <p># Default values for creating the bootstrap VM
bootstrap_disk: 150</p> <p>bootstrap_cpu: 4</p> <p>bootstrap_memory: 16400</p> <p>bootstrap_name: Bootstrap</p> <ol start="5"><li>After the <em>input.yml</em> and <em>secret.yml</em> files are updated with appropriate values, execute the playbook with the following command to create the bootstrap VM.</li></ol> <p>ansible-playbook –i hosts playbooks/deploy_vm.yml –ask-vault-pass</p> <p><strong>NOTE</strong></p> <p>It is essential that all the nodes within the deployment environment are synchronized for time using an NTP server. Failure to do so will result in an installation failure due to mismatches in certificates or other files with time dependencies.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Load-Balancer.html" class="prev">
        Load Balancer
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Physical-node-configuration.html">
        Physical node configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/49-dl/assets/js/app.3ab76ca9.js" defer></script><script src="/hpe-solutions-openshift/49-dl/assets/js/2.692be357.js" defer></script><script src="/hpe-solutions-openshift/49-dl/assets/js/26.61c365e8.js" defer></script>
  </body>
</html>
