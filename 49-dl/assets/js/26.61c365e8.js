(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{529:function(e,t,o){"use strict";o.r(t);var a=o(54),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"bootstrap-node"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-node"}},[e._v("#")]),e._v(" Bootstrap node")]),e._v(" "),o("p",[e._v("A temporary bootstrap node is required for OpenShift cluster creation. This section assumes that a VMware vSphere host is present within the deployment environment and is associated with a VMware vCenter server. The host should be configured with appropriate storage and networking configuration.")]),e._v(" "),o("h4",{attrs:{id:"playbooks-for-creating-the-bootstrap-node"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#playbooks-for-creating-the-bootstrap-node"}},[e._v("#")]),e._v(" Playbooks for creating the bootstrap node")]),e._v(" "),o("ol",[o("li",[e._v("inputs.yml: This file contains input variables to create the bootstrap VM. Some of the variables pertaining to the VM configuration are provided with default values as per the Red Hat guidelines. It is expected that the installation user updates the values to suit their installation environment.")])]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("datacenter_name")]),e._v(": Name of the VMware data center.")]),e._v(" "),o("li",[o("strong",[e._v("cluster_name")]),e._v(": Name of the VMware cluster.")]),e._v(" "),o("li",[o("strong",[e._v("datastore_name")]),e._v(": Name of the VMware datastore.")]),e._v(" "),o("li",[o("strong",[e._v("network_name")]),e._v(": Name of the network associated with the vSphere host.")]),e._v(" "),o("li",[o("strong",[e._v("bootstrap_disk")]),e._v(": Disk size for the bootstrap node.")]),e._v(" "),o("li",[o("strong",[e._v("bootstrap_cpu")]),e._v(": Number of vCPUs for the bootstrap node.")]),e._v(" "),o("li",[o("strong",[e._v("bootstrap_name")]),e._v(": Custom name of the bootstrap node.")]),e._v(" "),o("li",[o("strong",[e._v("secret.yml")]),e._v(": This is an Ansible vault file that contains sensitive information such as the VMware vCenter server IP address and credentials.")]),e._v(" "),o("li",[o("strong",[e._v("playbooks/deploy_vm.yml")]),e._v(": This playbook is used to create the bootstrap VM.")]),e._v(" "),o("li",[o("strong",[e._v("roles/deploy_vm.yml")]),e._v(": This is the Ansible role file that is required to create the bootstrap VM. Each role is associated with a set of tasks to accomplish the expected output and they are present in the tasks directory within the role.")])]),e._v(" "),o("p",[e._v("Follow these steps to create the bootstrap node:")]),e._v(" "),o("ol",[o("li",[e._v("Login to the installer VM.")]),e._v(" "),o("li",[e._v("Use the following command to change the directory.")])]),e._v(" "),o("p",[e._v("cd /opt/hpe/solutions/ocp/hpe-solutions-openshift/DL/scalable/infrastructure")]),e._v(" "),o("ol",{attrs:{start:"3"}},[o("li",[e._v("Update the secret.yml to provide the details of the VMware vCenter server using the following command. A sample input is provided and it is expected that the installation user updates the configuration to suit the deployment environment.")])]),e._v(" "),o("p",[o("code"),e._v("ansible-vault edit secret.yml")]),e._v(" "),o("p",[e._v("# vcenter hostname/ip address and credentials\nvcenter_hostname: vcenter hostname")]),e._v(" "),o("p",[e._v("vcenter_username: vcenter username")]),e._v(" "),o("p",[e._v("vcenter_password: vcenter password")]),e._v(" "),o("ol",{attrs:{start:"4"}},[o("li",[e._v("Update the "),o("em",[e._v("input.yml")]),e._v(" file with the data center, cluster, and datastore information that will be used within the VMware vCenter server. This file provides default configuration information for the bootstrap node, if required. The configuration can be updated to suit the environment needs.")])]),e._v(" "),o("p",[e._v("# Variables for creating the bootstrap VM, as per the vSphere host configuration within the vCenter\ndatacenter_name: name of data center within vcenter")]),e._v(" "),o("p",[e._v("cluster_name: name of cluster within vcenter")]),e._v(" "),o("p",[e._v("datastore_name: name of datastore within vcenter")]),e._v(" "),o("p",[e._v("network_name: name of the network within vcenter")]),e._v(" "),o("p",[e._v("# Default values for creating the bootstrap VM\nbootstrap_disk: 150")]),e._v(" "),o("p",[e._v("bootstrap_cpu: 4")]),e._v(" "),o("p",[e._v("bootstrap_memory: 16400")]),e._v(" "),o("p",[e._v("bootstrap_name: Bootstrap")]),e._v(" "),o("ol",{attrs:{start:"5"}},[o("li",[e._v("After the "),o("em",[e._v("input.yml")]),e._v(" and "),o("em",[e._v("secret.yml")]),e._v(" files are updated with appropriate values, execute the playbook with the following command to create the bootstrap VM.")])]),e._v(" "),o("p",[e._v("ansible-playbook –i hosts playbooks/deploy_vm.yml –ask-vault-pass")]),e._v(" "),o("p",[o("strong",[e._v("NOTE")])]),e._v(" "),o("p",[e._v("It is essential that all the nodes within the deployment environment are synchronized for time using an NTP server. Failure to do so will result in an installation failure due to mismatches in certificates or other files with time dependencies.")])])}),[],!1,null,null,null);t.default=r.exports}}]);