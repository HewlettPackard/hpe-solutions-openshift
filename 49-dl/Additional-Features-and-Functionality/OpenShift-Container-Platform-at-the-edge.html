<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenShift Container Platform at the edge | OpenShift Container Platform 4.9 on HPE DL380 and DL360 Gen10 Servers</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/css/0.styles.6189784e.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/app.bf15c036.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/2.1d456c38.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/49-dl/assets/js/17.eaa9ebcc.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/10.ffcca7b3.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/11.c0889e0c.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/12.9d71c6ca.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/13.5bd532d3.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/14.72f78272.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/15.04d42c1e.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/16.2ac4cd53.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/18.f787b173.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/19.53ff5300.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/20.8dfb5f36.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/21.6d98cada.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/22.9452b933.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/23.d38486cb.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/24.4031491c.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/25.0b7110e2.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/26.f6ff7cb9.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/27.673f44ad.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/28.74f882ee.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/29.4fb377f6.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/3.872c901e.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/30.22bb1d64.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/31.6e8b2634.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/32.18b375a9.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/33.37b3dbf5.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/34.bd23bc46.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/35.032c89be.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/36.82290211.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/37.0c420ac3.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/4.680b6d9a.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/5.342b2b02.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/6.595aa434.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/7.9c5a516b.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/8.3f211f43.js"><link rel="prefetch" href="/hpe-solutions-openshift/49-dl/assets/js/9.0f8ebc5f.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/49-dl/assets/css/0.styles.6189784e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/49-dl/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.9 on HPE DL380 and DL360 Gen10 Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/49-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/49-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.9 on DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Additional Features and Functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Storage.html" class="sidebar-link">Storage</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/IPI-Installation.html" class="sidebar-link">IPI deployment of OCP on Bare Metal</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/air-gap-installation.html" class="sidebar-link">Red Hat OpenShift Container Platform installation in the restricted network environment</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/OpenShift-operators.html" class="sidebar-link">OpenShift operators</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Advanced-Cluster-Management.html" class="sidebar-link">Red Hat Advanced Cluster Management for Kubernetes</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Install-and-Configure-Velero.html" class="sidebar-link">Install and Configure Velero</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Ceph-Storage-Setup-External-mode.html" class="sidebar-link">Red Hat Ceph Storage 4 Setup in External mode with ODF Integration</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/OpenShift-Virtualization.html" class="sidebar-link">OpenShift Virtualization</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/OpenShift-Container-Platform-at-the-edge.html" aria-current="page" class="active sidebar-link">OpenShift Container Platform at the edge</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Securing-OpenShift-Container-Platform-using-Sysdig.html" class="sidebar-link">Securing Red Hat OpenShift Container Platform using Sysdig Secure and Sysdig Monitor</a></li><li><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/HPECP-Cluster-Integration-with-Nimble.html" class="sidebar-link">HPECP Cluster Integration with Nimble</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="openshift-container-platform-at-the-edge"><a href="#openshift-container-platform-at-the-edge" class="header-anchor">#</a> OpenShift Container Platform at the edge</h1> <p>Edge computing enables businesses become more proactive and dynamic by deploying applications and IT processing power closer to the devices and sensors that create or consume data, enabling them to gather, analyze and turn large data flows into actionable insights, faster. To make edge computing successful, consistency of application development and IT resource management is essential, especially when operating potentially hundreds to thousands of locations and/or clusters.</p> <ul><li>Many edge sites are smaller in physical size when compared to their larger core or regional data center counterparts, and trying to install hardware in a space that was not designed for it needs to be carefully planned out.</li> <li>Heat, weather, radio-electrical emissions, lack of peripheral security, and the potential of having a limited supply of reliable power and cooling for equipment must also be addressed.</li> <li>Network connectivity at remote locations that can vary greatly and often be slow or unreliable.</li> <li>Minimal to no IT staff on-site to managed the IT solution.</li></ul> <p>Red Hat OpenShift lets IT function operate consistently and innovate continuously regardless of where the applications reside today or where to place them tomorrow. It extends the capabilities of Kubernetes in smaller footprint options including 3-node cluster, remote worker node topology or a combination of both.</p> <h1 id="remote-worker-nodes-at-the-network-edge"><a href="#remote-worker-nodes-at-the-network-edge" class="header-anchor">#</a> Remote worker nodes at the network edge</h1> <p>A typical cluster with remote worker nodes combines on premise master and worker nodes with worker nodes in other locations that connect to the cluster. There are multiple use cases across different industries, such as telecommunications, retail, manufacturing, and government, for using a deployment pattern with remote worker nodes.</p> <p><img src="/hpe-solutions-openshift/49-dl/assets/img/figure118.a967e308.png" alt=""></p> <h1 id="limitation-remote-worker-nodes-at-the-network-edge"><a href="#limitation-remote-worker-nodes-at-the-network-edge" class="header-anchor">#</a> Limitation Remote worker nodes at the network edge</h1> <p>Remote worker nodes can introduce higher latency, intermittent loss of network connectivity, and other issues. Among the challenges in a cluster with remote worker node are:</p> <ul><li>Network separation: The OpenShift Container Platform control plane and the remote worker nodes must be able communicate with each other. Because of the distance between the control plane and the remote worker nodes, network issues could prevent this communication.</li> <li>Power outage: Because the control plane and remote worker nodes are in separate locations, a power outage at the remote location or at any point between the two can negatively impact your cluster.</li> <li>Latency spikes or temporary reduction in throughput: As with any network, any changes in network conditions between your cluster and the remote worker nodes can negatively impact your cluster</li></ul> <p><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.9/html/nodes/remote-worker-nodes-on-the-network-edge" target="_blank" rel="noopener noreferrer">https://access.redhat.com/documentation/en-us/openshift_container_platform/4.9/html/nodes/remote-worker-nodes-on-the-network-edge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="three-node-edge-cluster-at-the-network-edge"><a href="#three-node-edge-cluster-at-the-network-edge" class="header-anchor">#</a> Three Node Edge Cluster at the Network Edge</h1> <p>This solution involves building the smallest possible cluster delivering a local control plane, local storage, and compute to meet the requirements of demanding edge workloads while ensuring continuity &amp; deliver true high availability.</p> <ul><li>Continue to fully operate, regardless of WAN connection state.</li> <li>Pack this into the smallest footprint possible.</li> <li>Be cost effective at scale.</li></ul> <p><img src="/hpe-solutions-openshift/49-dl/assets/img/figure119.e3be7b1f.png" alt=""></p> <p><strong>Deploying 3 Node OCP Cluster</strong></p> <ol><li>Create install-config.yaml file by setting worker nodes to “0” as mentioned below.</li></ol> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1

<span class="token key atrule">baseDomain</span><span class="token punctuation">:</span> name of the base domain<span class="token important">&amp;gt;</span>

<span class="token key atrule">compute</span><span class="token punctuation">:</span>

<span class="token punctuation">-</span> <span class="token key atrule">hyperthreading</span><span class="token punctuation">:</span> Enabled

<span class="token key atrule">name</span><span class="token punctuation">:</span> worker

<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">0</span>

<span class="token key atrule">controlPlane</span><span class="token punctuation">:</span>

<span class="token key atrule">hyperthreading</span><span class="token punctuation">:</span> Enabled

<span class="token key atrule">name</span><span class="token punctuation">:</span> master

<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>

<span class="token key atrule">metadata</span><span class="token punctuation">:</span>

<span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token important">&amp;lt;name</span> of the cluster<span class="token punctuation">,</span> same as the new domain under the base domain created<span class="token important">&amp;gt;</span>

<span class="token key atrule">networking</span><span class="token punctuation">:</span>

<span class="token key atrule">clusterNetworks</span><span class="token punctuation">:</span>

<span class="token punctuation">-</span> <span class="token key atrule">cidr</span><span class="token punctuation">:</span> 12.128.0.0/14

<span class="token key atrule">hostPrefix</span><span class="token punctuation">:</span> <span class="token number">23</span>

<span class="token key atrule">networkType</span><span class="token punctuation">:</span> OpenShiftSDN

<span class="token key atrule">serviceNetwork</span><span class="token punctuation">:</span>

<span class="token punctuation">-</span> 172.30.0.0/16

<span class="token key atrule">platform</span><span class="token punctuation">:</span>

<span class="token key atrule">none</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token key atrule">pullSecret</span><span class="token punctuation">:</span> ‘pull secret provided as per the Red Hat account’

<span class="token key atrule">sshKey</span><span class="token punctuation">:</span> ‘ ssh key of the installer VM ’
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Refer to the “<a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Preparing-execution-environment.html#installer-machine">Setting up installer vm</a>” section to setup a installer vm.</p></div> <ol><li>Execute the following command on the installer VM to create the manifest files and the ignition files required to install Red Hat OpenShift</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> <span class="token variable">$BASE_DIR</span>/installer

$ ansible-playbook playbooks/create_manifest_ignitions.yml

$ <span class="token function">sudo</span> <span class="token function">chmod</span> +r installer/igninitions/*.ign
</code></pre></div><p>The ignition files are generated on the installer VM within the folder /opt/hpe/solutions/ocp/hpe-solutions-openshift/DL/scalable/installer/ignitions.</p> <ol><li>Follow the ipxe approach to deploy 3 node cluster by setting worker node ip addres and mac address empty in “secret.yaml” file</li></ol> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Please refer to the “<a href="/hpe-solutions-openshift/49-dl/Solution-Deployment/Operating-system-deployment.html#Red-Hat-CoreOS-deployment-using-iPXE-server">Deploying OCP using ipxe method</a>” section to deploy ocp cluster. Make sure workers mac addresses and ip addresses are set to empty before proceeding with installation.</p></div> <ol><li>Once the cluster is up and running, user can go ahead deploy the sample application as mentioned in section “<a href="#_Validating_OpenShift_Container">deploying wordpress</a>”.</li></ol> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Additional worker node can be added by setting master schdulable to “false” in scheduler file. Scheduler file can be edited using following command. “oc edit scheduler”</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/OpenShift-Virtualization.html" class="prev">
        OpenShift Virtualization
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/49-dl/Additional-Features-and-Functionality/Securing-OpenShift-Container-Platform-using-Sysdig.html">
        Securing Red Hat OpenShift Container Platform using Sysdig Secure and Sysdig Monitor
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/49-dl/assets/js/app.bf15c036.js" defer></script><script src="/hpe-solutions-openshift/49-dl/assets/js/2.1d456c38.js" defer></script><script src="/hpe-solutions-openshift/49-dl/assets/js/17.eaa9ebcc.js" defer></script>
  </body>
</html>
