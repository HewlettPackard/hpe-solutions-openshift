<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenShift Operators | RED HAT OPENSHIFT CONTAINER PLATFORM 4 ON HPE SYNERGY</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/hpe-solutions-openshift/assets/css/0.styles.03110986.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/assets/js/app.adad66b3.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/assets/js/2.ac0f675e.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/assets/js/7.8d533ade.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/10.bbe6a8b1.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/11.c231a443.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/12.381ec328.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/13.bc9c4fc5.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/14.6c2a59eb.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/15.10105a64.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/16.de305cb4.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/17.c566bc9d.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/18.1a3abf91.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/19.e7a9cad7.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/20.826352b1.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/21.e9b44a36.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/3.f3b6057a.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/4.d098f71d.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/5.c9b2efa3.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/6.e3886d8a.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/8.97285f82.js"><link rel="prefetch" href="/hpe-solutions-openshift/assets/js/9.cd9b026d.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/assets/css/0.styles.03110986.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/" class="home-link router-link-active"><!----> <span class="site-name">RED HAT OPENSHIFT CONTAINER PLATFORM 4 ON HPE SYNERGY</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/hpe-solutions-openshift/" class="sidebar-link">Introduction</a></li><li><a href="/hpe-solutions-openshift/Solution overview/Solution overview.html" class="sidebar-link">Solution overview</a></li><li><a href="/hpe-solutions-openshift/Solution components/Solution components.html" class="sidebar-link">Solution components</a></li><li><a href="/hpe-solutions-openshift/Preparing the execution environment/Preparing the execution environment.html" class="sidebar-link">Preparing the execution environment</a></li><li><a href="/hpe-solutions-openshift/Physical environment configuration/Physical environment configuration.html" class="sidebar-link">Physical environment configuration</a></li><li><a href="/hpe-solutions-openshift/Physical node configuration/Physical node configuration.html" class="sidebar-link">Physical node configuration</a></li><li><a href="/hpe-solutions-openshift/Virtual nodes configuration/Virtual nodes configuration.html" class="sidebar-link">Virtual nodes configuration</a></li><li><a href="/hpe-solutions-openshift/Red Hat OpenShift Container Platform deployment/Red Hat OpenShift Container Platform deployment.html" class="sidebar-link">Red Hat OpenShift Container Platform deployment</a></li><li><a href="/hpe-solutions-openshift/Red Hat Local Storage Operator/Red Hat Local Storage Operator.html" class="sidebar-link">Red Hat Local Storage Operator</a></li><li><a href="/hpe-solutions-openshift/Securing RedHat OpenShift Container Platform using Sysdig Secure and Sysdig Monitor/Securing RedHat OpenShift Container Platform using Sysdig Secure and Sysdig Monitor.html" class="sidebar-link">Securing RedHat OpenShift Container Platform using Sysdig Secure and Sysdig Monitor</a></li><li><a href="/hpe-solutions-openshift/Physical worker node labeling in OpenShift/Physical worker node labeling in OpenShift.html" class="sidebar-link">Physical worker node labeling in OpenShift</a></li><li><a href="/hpe-solutions-openshift/OpenShift Operators/OpenShift Operators.html" class="active sidebar-link">OpenShift Operators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/OpenShift Operators/OpenShift Operators.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/OpenShift Operators/OpenShift Operators.html#scripts-for-configuring-the-operators" class="sidebar-link">Scripts for configuring the operators</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/OpenShift Operators/OpenShift Operators.html#installing-the-operators-on-the-openshift-container-platform-cluster" class="sidebar-link">Installing the operators on the OpenShift Container Platform cluster</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/OpenShift Operators/OpenShift Operators.html#validation-of-the-operator-installation" class="sidebar-link">Validation of the Operator Installation</a></li></ul></li><li><a href="/hpe-solutions-openshift/Validating OpenShift Container Platform deployment/Validating OpenShift Container Platform deployment.html" class="sidebar-link">Validating OpenShift Container Platform deployment</a></li><li><a href="/hpe-solutions-openshift/Resources and additional links/Resources and additional links.html" class="sidebar-link">Resources and additional links</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="openshift-operators"><a href="#openshift-operators" class="header-anchor">#</a> OpenShift Operators</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Operators are pieces of software that ease the operational complexity of running other pieces of software. They act like an extension of the software vendor’s engineering team, watching over a Kubernetes environment (such as OpenShift Container Platform) and using the current state to make decisions in real time. Any container implementation requires certain operators that need to be enabled for use by the end user. This requirement is satisfied by using a combination of Python and Shell scripts and their execution for automating the installation of these operators.</p> <p>HPE has deployed the following operators in an automated fashion:</p> <ul><li><p>Kiali Operator</p></li> <li><p>Jaeger Operator</p></li> <li><p>Red Hat OpenShift Service Mesh</p></li> <li><p>Prometheus Operator</p></li> <li><p>Grafana Operator</p></li> <li><p>Elasticsearch Operator</p></li> <li><p>Logstash Operator</p></li> <li><p>Kibana Operator</p></li></ul> <h2 id="scripts-for-configuring-the-operators"><a href="#scripts-for-configuring-the-operators" class="header-anchor">#</a> Scripts for configuring the operators</h2> <p>This section provides details on the scripts developed to automate the installation of operators on the OpenShift Container Platform cluster. The scripts to install operators can be found in the installer VM at /<em>etc/ansible/hpe-solutions-openshift/synergy/scalable/platform/operator_install</em>.</p> <ul><li><p><strong>operator_install.py</strong> - main python script which installs the required operators.</p></li> <li><p><strong>elasticsearch.sh</strong> - shell script to install the elasticsearch operator.</p></li> <li><p><strong>kibana.sh</strong> - shell script to install the kibana operator.</p></li> <li><p><strong>logstash.sh</strong> - shell script to install the logstash operator.</p></li> <li><p><strong>userinput.json</strong> - input json file filled by the installation user.</p></li> <li><p><strong>pingtest.py</strong> - script used within operator_install.py to ping IP's along with a port number.</p></li> <li><p><strong>enableyumrepos.sh</strong> – shell script to enable yum installation of the required packages.</p></li></ul> <h2 id="installing-the-operators-on-the-openshift-container-platform-cluster"><a href="#installing-the-operators-on-the-openshift-container-platform-cluster" class="header-anchor">#</a> Installing the operators on the OpenShift Container Platform cluster</h2> <ol><li><p>Login to the installer VM.</p></li> <li><p>Execute the following command to install Java.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> yum <span class="token function">install</span> java
</code></pre></div></li> <li><p>Execute the following command to install Python requests module.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> pip <span class="token function">install</span> requests
</code></pre></div></li> <li><p>Update the <em>userinput.json</em> file found at <em>/etc/ansible/hpe-solutions-openshift/synergy/scalable/platform/operator_install</em> with the following setup configuration details:</p> <ul><li><p>OpenShift Container Platform cluster username and password</p></li> <li><p>OpenShift Server (api.domain.base_domain) and port number (OpenShift Container Platform runs on port 6443 by default)</p></li> <li><p>OpenShift Installer VM IP address</p></li> <li><p>OpenShift Project Name</p></li> <li><p>OpenShift OC client tool path (leave it empty if a path has been set)</p></li></ul> <p><strong>NOTE</strong></p> <p>The operator list, channel details, operator source and install plans can be used if the user wants to install additional operators. For the default installation of the required operators, the user should not modify these fields.</p></li> <li><p>Execute the following command to install the operators discussed in the [Introduction] of this document.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> /etc/ansible/hpe-solutions-openshift/synergy/scalable/platform/operator_install

<span class="token operator">&gt;</span> python –W ignore operator_install.py –i userinput.json
</code></pre></div><p><strong>Figure 15</strong> shows the output after the script to create the operators is executed.</p> <p><img src="/hpe-solutions-openshift/assets/img/figure15.bce44796.png" alt=" Operator installation script output"></p> <p><strong>Figure 15</strong> Operator installation script output</p></li></ol> <h2 id="validation-of-the-operator-installation"><a href="#validation-of-the-operator-installation" class="header-anchor">#</a> Validation of the Operator Installation</h2> <p>The required operators will be created after the execution of the script and they will be reflected in the OpenShift console. This section outlines the steps to verify the operators created through script and are reflected in the GUI:</p> <ol><li><p>Login to the <strong>OpenShift Console</strong> as the user with administrative privileges.</p></li> <li><p>Navigate to <strong>Operators</strong> -&gt; <strong>Installed</strong> <strong>Operators</strong> -&gt; select your project name.</p></li> <li><p>The operators will be displayed in the screen as shown in Figure 16.</p></li></ol> <p><img src="/hpe-solutions-openshift/assets/img/figure16.df82514a.png" alt="Installed Operators within OpenShift console"></p> <p><strong>Figure</strong> <strong>16</strong> Installed Operators within OpenShift console</p> <p><strong>NOTE</strong></p> <p>The kibana dashboard can be accessed by visiting the installer VM IP address and the port number 5601 for instance, <a href="http://Installer_IP:5601" target="_blank" rel="noopener noreferrer">http://Installer_IP:5601<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/Physical worker node labeling in OpenShift/Physical worker node labeling in OpenShift.html" class="prev">
        Physical worker node labeling in OpenShift
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/Validating OpenShift Container Platform deployment/Validating OpenShift Container Platform deployment.html">
        Validating OpenShift Container Platform deployment
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/assets/js/app.adad66b3.js" defer></script><script src="/hpe-solutions-openshift/assets/js/2.ac0f675e.js" defer></script><script src="/hpe-solutions-openshift/assets/js/7.8d533ade.js" defer></script>
  </body>
</html>
