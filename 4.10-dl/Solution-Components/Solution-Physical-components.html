<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/4.10-dl/assets/css/0.styles.63fe4194.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/4.10-dl/assets/js/app.43fa2a55.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-dl/assets/js/2.7c26c33b.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.10-dl/assets/js/13.4a65d88c.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/10.b9aac181.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/11.a7f10f64.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/12.4dd9c041.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/14.1b08a7b6.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/15.3be4f557.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/16.facc29a4.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/17.15c44ee1.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/18.3d6fb69e.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/19.d16c903c.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/20.4544e639.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/21.9a9675fd.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/22.46a5feef.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/23.d041e9f4.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/24.fa53fb17.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/25.cbeca136.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/26.5e1d3fef.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/3.5566d2ae.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/4.3351a424.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/5.e7dabacf.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/6.57b774f0.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/7.7351e6ab.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/8.d609138f.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.10-dl/assets/js/9.13665d79.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/4.10-dl/assets/css/0.styles.63fe4194.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/4.10-dl/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.10 on HPE DL365 Gen10 Plus Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/4.10-dl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.10 on DL Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Components</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/4.10-dl/Solution-Components/Solution-Physical-components.html" aria-current="page" class="active sidebar-link">/Solution-Components/Solution-Physical-components.html</a></li><li><a href="/hpe-solutions-openshift/4.10-dl/Solution-Components/Storage-components.html" class="sidebar-link">/Solution-Components/Storage-components.html</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooing by Using Manual Processes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><strong>Physical components</strong></p> <p>This section includes the hardware, software, and service components for the NGS-optimized solution for RH OCP.</p> <p><strong>Hardware</strong></p> <p>The following table includes the hardware requirements for this solution:</p> <p><strong>TABLE 2.</strong> Hardware components required for NGS-optimized solution for RH OCP</p> <table><thead><tr><th style="text-align:left;">Component</th> <th style="text-align:center;">Qty</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">HPE ProLiant Cloud Modules for Head Nodes</td> <td style="text-align:center;">3</td> <td style="text-align:left;">RHEL 8.5 KVM-based Head Nodes</td></tr> <tr><td style="text-align:left;">HPE ProLiant Cloud Modules for Compute</td> <td style="text-align:center;">3</td> <td style="text-align:left;">RHEL 8.5 Red Hat OpenShift worker nodes/compute</td></tr> <tr><td style="text-align:left;">HPE ProLiant Cloud Modules for Storage Block Performance Module</td> <td style="text-align:center;">1</td> <td style="text-align:left;">External iSCSl storage (only for External storage mode)</td></tr> <tr><td style="text-align:left;">HPE Aruba 8325 switch</td> <td style="text-align:center;">2</td> <td style="text-align:left;">A network switch for datacenter network</td></tr> <tr><td style="text-align:left;">HPE Aruba 6300M switch</td> <td style="text-align:center;">2</td> <td style="text-align:left;">A network switch for iLO Management network</td></tr></tbody></table> <p><strong>Software</strong></p> <p>The following software versions must be installed on your system before deploying the NGS-optimized solution for RH OCP:</p> <p><strong>NOTE</strong></p> <p>The installation user must ensure that they have downloaded or have access to these software components. Ensure that the appropriate subscriptions and licensing are in place to use within the planned time frame.</p> <p><strong>TABLE 3.</strong> Software requirements for NGS-optimized solution for RH OCP</p> <table><thead><tr><th style="text-align:left;">Component</th> <th style="text-align:left;">Version</th></tr></thead> <tbody><tr><td style="text-align:left;">Red Hat Enterprise Linux CoreOS (RHCOS)</td> <td style="text-align:left;">4.10</td></tr> <tr><td style="text-align:left;">Aruba 6300</td> <td style="text-align:left;">10.08.1021</td></tr> <tr><td style="text-align:left;">Aruba 8325</td> <td style="text-align:left;">10.08.1021</td></tr> <tr><td style="text-align:left;">Red Hat OpenShift Container Platform (RH OCP)</td> <td style="text-align:left;">4.x</td></tr></tbody></table> <p>The following software must be available on the installer machine:</p> <p><strong>TABLE 4.</strong> Software requirements for the installer machine</p> <table><thead><tr><th style="text-align:left;">Component</th> <th style="text-align:left;">Version</th></tr></thead> <tbody><tr><td style="text-align:left;">Ansible</td> <td style="text-align:left;">2.9</td></tr> <tr><td style="text-align:left;">Python</td> <td style="text-align:left;">3.6</td></tr> <tr><td style="text-align:left;">Java</td> <td style="text-align:left;">1.8</td></tr> <tr><td style="text-align:left;">Bind DNS</td> <td style="text-align:left;">9.11.36</td></tr> <tr><td style="text-align:left;">squid proxy</td> <td style="text-align:left;">4.15</td></tr> <tr><td style="text-align:left;">HA Proxy</td> <td style="text-align:left;">1.8.27</td></tr> <tr><td style="text-align:left;">Chrony</td> <td style="text-align:left;">4.1</td></tr> <tr><td style="text-align:left;">Matchbox</td> <td style="text-align:left;">0.9</td></tr></tbody></table> <p><strong>Services</strong></p> <p>This document is built with assumptions about services and network ports available within the implementation environment. This section discusses those assumptions.</p> <p>The following table includes a list of services required for the NGS-optimized solution for RH OCP and provides a brief description of their function:</p> <p><strong>TABLE 5.</strong> Services used for the NGS-optimized solution for RH OCP</p> <table><thead><tr><th style="text-align:left;">Service</th> <th style="text-align:left;">Description/Notes</th></tr></thead> <tbody><tr><td style="text-align:left;">BindDNS</td> <td style="text-align:left;"><p>Provides name resolution on management and data center networks. </p><p>Domain Name Services must be in place for the management and data center networks. Ensure that both forward and reverse lookups are working for all hosts. </p></td></tr> <tr><td style="text-align:left;">HAPROXY</td> <td style="text-align:left;">HAProxy is a free, very fast and reliable reverse-proxy offering high availability, load balancing, and proxying for TCP and HTTP-based applications.</td></tr> <tr><td style="text-align:left;">NTP</td> <td style="text-align:left;"><p>Ensures consistent time across the solution stack. </p><p>A Network Time Protocol (NTP) server should be available for time synchronization to host within the solution environment. </p></td></tr> <tr><td style="text-align:left;">iPXE</td> <td style="text-align:left;"><p>Enables booting of operating systems. </p><p>Since all the nodes in this solution are booted using iPXE server, it is necessary to have a properly configured iPXE server. </p></td></tr> <tr><td style="text-align:left;">KVM</td> <td style="text-align:left;">Kernel-based Virtual Machine (KVM) is an <s>open source</s>open-source virtualization technology. Specifically, KVM a hypervisor that allows a host machine to run multiple, virtual environments called guests or Virtual Machines (VMs)</td></tr> <tr><td style="text-align:left;">Squid Proxy</td> <td style="text-align:left;">Squid is a web proxy server application that gives organizations proxy and cache services for the Web supporting HTTP, HTTPS, FTP, and more</td></tr> <tr><td style="text-align:left;">Keepalived</td> <td style="text-align:left;">Keepalived is used for IP failover between two servers. Its facilities for load balancing and high-availability to Linux-based infrastructures. It worked on VRRP (Virtual Router Redundancy Protocol) protocol.</td></tr></tbody></table> <p>DHCP</p> <p>DHCP should be present and able to provide IP address leases on the iPXE server, management, and data center networks.</p> <p>Network port</p> <p>The port information listed in Table 6 allows cluster components to communicate with each other.</p> <p>To retrieve this information from bootstrap, master, and worker nodes, run the following command:</p> <p>&gt; netstat –tupln</p> <p>The following table shows a list of network ports used by the services under RH OCP 4.10.</p> <p><strong>TABLE 6.</strong> Network ports used by RH OCP 4.10 services</p> <table><thead><tr><th style="text-align:left;">Protocol</th> <th style="text-align:left;">Port Number/Range</th> <th style="text-align:left;">Service Type</th> <th style="text-align:left;">Other details</th></tr></thead> <tbody><tr><td style="text-align:left;">TCP</td> <td style="text-align:left;">80</td> <td style="text-align:left;">HTTP Traffic</td> <td style="text-align:left;">The machines that run the Ingress router pods, compute, or worker by default.</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">443</td> <td style="text-align:left;">HTTPS traffic</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">2379-2380</td> <td style="text-align:left;">etcd server, peer and metrics ports</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">6443</td> <td style="text-align:left;">Kubernetes API</td> <td style="text-align:left;">The Bootstrap machine and masters.</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">9000-9999</td> <td style="text-align:left;">Host level services, including the node exporter on ports 9100-9101 and the Cluster Version Operator on port 9099.</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">10249-10259</td> <td style="text-align:left;">The default ports that Kubernetes reserves.</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">10256</td> <td style="text-align:left;">openshift-sdn</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">22623</td> <td style="text-align:left;">Machine Config Server</td> <td style="text-align:left;">The Bootstrap machine and masters.</td></tr> <tr><td style="text-align:left;">UDP</td> <td style="text-align:left;">4789</td> <td style="text-align:left;">VXLAN and GENEVE</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">6081</td> <td style="text-align:left;">VXLAN and GENEVE</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">9000-9999</td> <td style="text-align:left;">Host level services, including the node exporter on ports 9100-9101</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">30000-32767</td> <td style="text-align:left;">Kubernetes NodePort</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">TCP</td> <td style="text-align:left;">3128</td> <td style="text-align:left;">Squid Proxy</td> <td style="text-align:left;">Squid is a caching and forwarding web proxy</td></tr> <tr><td style="text-align:left;">TCP/UDP</td> <td style="text-align:left;">53</td> <td style="text-align:left;">Bind DNS</td> <td style="text-align:left;">BIND can be used to run a caching DNS server or an authoritative name server, and provides features like load balancing, notify, dynamic update, split DNS, DNSSEC, IPv6, and more.</td></tr></tbody></table> <p>For more information on the network port requirements for RH OCP 4.10, see the <a href="https://docs.openshift.com/container-platform/4.10/installing/installing_bare_metal/installing-bare-metal.html#installation-network-user-infra_installing-bare-metal" target="_blank" rel="noopener noreferrer">Networking requirements for user-provisioned infrastructure<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.10 documentation</em>.</p> <p><strong>Networking components</strong></p> <p>The following figure illustrates the cabling configuration of the three ProLiant AMD and Intel servers, Aruba 8325 and Aruba 6300 switches, and Intelligent Resilient Fabric (IRF) for the NGS-optimized solution for RH OCP. These cables carry frame management, inter-frame, and interconnect traffic between frames.</p> <p><img src="/hpe-solutions-openshift/4.10-dl/assets/img/f3.c4d46611.png" alt=""></p> <p><strong>FIGURE 3.</strong> NGS-optimized solution for RH OCP 4.10 – Network configuration</p> <p>The NGS-optimized solution for RH OCP network configuration includes the following components:</p> <ol><li><strong>Foundation Services External Networks:</strong> It is customer defined and provides networks for RH OCP deployment.</li> <li><strong>Workload Private Networks:</strong> It includes networks (with or without customer direct accessibility) provisioned on-demand for deployed workloads and for Bare Metal servers.</li> <li><strong>ISCSI A and B Networks:</strong> It includes dedicated networks optimized for lossless compute to storage communication.</li> <li><strong>OOBM Network:</strong> It provides iLO for servers and Block Storage Management and connects to the OOBM management switch.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/4.10-dl/Solution-Overview/Solution-Overview.html" class="prev">
        /Solution-Overview/Solution-Overview.html
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/4.10-dl/Solution-Components/Storage-components.html">
        /Solution-Components/Storage-components.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/4.10-dl/assets/js/app.43fa2a55.js" defer></script><script src="/hpe-solutions-openshift/4.10-dl/assets/js/2.7c26c33b.js" defer></script><script src="/hpe-solutions-openshift/4.10-dl/assets/js/13.4a65d88c.js" defer></script>
  </body>
</html>
