(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{258:function(e,t,r){e.exports=r.p+"assets/img/figure6.87b2610b.png"},259:function(e,t,r){e.exports=r.p+"assets/img/figure7.2926a866.png"},260:function(e,t,r){e.exports=r.p+"assets/img/figure8.3c0564d1.png"},279:function(e,t,r){"use strict";r.r(t);var n=r(28),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"physical-environment-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#physical-environment-configuration"}},[e._v("#")]),e._v(" Physical environment configuration")]),e._v(" "),n("h2",{attrs:{id:"cabling-the-hpe-synergy-12000-frame-and-hpe-virtual-connect-40gb-se-f8-modules-for-hpe-synergy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cabling-the-hpe-synergy-12000-frame-and-hpe-virtual-connect-40gb-se-f8-modules-for-hpe-synergy"}},[e._v("#")]),e._v(" Cabling the HPE Synergy 12000 Frame and HPE Virtual Connect 40Gb SE F8 Modules for HPE Synergy")]),e._v(" "),n("p",[e._v("This section shows the physical cabling between frames, Virtual Connect modules and solution switching. It is intended to provide an understanding of how the infrastructure was interconnected during testing and to serve as a guide on which the installation user can base their configuration.")]),e._v(" "),n("p",[e._v("Figure 6 shows the cabling of the HPE Synergy Interconnects, HPE Synergy Frame Management, and Intelligent Resilient Fabric (IRF) connections. These connections handle east-west network communication as well as management traffic within the solution.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(258),alt:"Inter-frame cabling"}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 6.")]),e._v(" Cabling of the management and inter-frame communication links within the solution")]),e._v(" "),n("p",[e._v("Figure 7 shows the cabling of HPE Synergy Frames to the network switches. The specific networks contained within the Bridge-Aggregation Groups (BAGG) are described in detail later in this document. At the lowest level, there are four (4) 40GbE connections dedicated to carry redundant, production network traffic to the first layer switch where it is further distributed.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(259),alt:"Cabling of the interconnects to switching"}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 7.")]),e._v(" Cabling of the HPE Synergy Interconnects to the HPE FlexFabric 5945 switches")]),e._v(" "),n("p",[e._v("Table 10 explains the cabling of the Virtual Connect interconnect modules to the HPE FlexFabric 5945 switching.")]),e._v(" "),n("p",[n("strong",[e._v("Table 10.")]),e._v(" Networks used in this solution.")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Uplink Set")]),e._v(" "),n("th",[e._v("Synergy Source")]),e._v(" "),n("th",[e._v("Switch Destination")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Network")]),e._v(" "),n("td",[e._v("Enclosure 1 Port Q3")]),e._v(" "),n("td",[e._v("FortyGigE1/1/1")])]),e._v(" "),n("tr",[n("td",[e._v("Enclosure 1 Port Q4")]),e._v(" "),n("td",[e._v("FortyGigE2/1/1")]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[e._v("Enclosure 2 Port Q3")]),e._v(" "),n("td",[e._v("FortyGigE1/1/2")]),e._v(" "),n("td")]),e._v(" "),n("tr",[n("td",[e._v("Enclosure 2 Port Q4")]),e._v(" "),n("td",[e._v("FortyGigE2/1/2")]),e._v(" "),n("td")])])]),e._v(" "),n("h2",{attrs:{id:"configuring-the-solution-switching"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-solution-switching"}},[e._v("#")]),e._v(" Configuring the solution switching")]),e._v(" "),n("p",[e._v("The solution described in this document utilized HPE FlexFabric 5945 switches. The HPE FlexFabric 5945 switches are configured according to the configuration parameters found later in this section. Individual port configurations are described elsewhere in this section. The switches should be configured with an HPE Intelligent Resilient Framework (IRF). To understand the process of configuring IRF, refer the HPE FlexFabric 5945 Switch Series Installation Guide at "),n("a",{attrs:{href:"https://support.hpe.com/hpsc/doc/public/display?sp4ts.oid=null&docLocale=en_US&docId=emr_na-c05212026",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://support.hpe.com/hpsc/doc/public/display?sp4ts.oid=null&docLocale=en_US&docId=emr_na-c05212026"),n("OutboundLink")],1),e._v(". This guide may also be used to understand the initial installation of switching, creation of user accounts and access methods. The reminder of this section is built with the assumption that the switch has been installed, configured for IRF, hardened, and is accessible over SSH.")]),e._v(" "),n("p",[n("strong",[e._v("NOTE")])]),e._v(" "),n("p",[e._v("The installation user might choose to utilize end of row switching to reduce switch and port counts in the context of the solution. If end of row switching is the approach, then this section should be used as a guidance on how to route network traffic outside of the HPE Synergy Frames.")]),e._v(" "),n("h3",{attrs:{id:"physical-cabling"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#physical-cabling"}},[e._v("#")]),e._v(" Physical cabling")]),e._v(" "),n("p",[e._v("Table 11 represents mapping of source ports to ports on the HPE FlexFabric 5945 switches.")]),e._v(" "),n("p",[n("strong",[e._v("Table 11.")]),e._v(" HPE FlexFabric 5945 port map")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Source Port")]),e._v(" "),n("th",[e._v("Switch Port")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Virtual Connect Frame U30, Q3")]),e._v(" "),n("td",[e._v("FortyGigE1/1/1")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U30, Q4")]),e._v(" "),n("td",[e._v("FortyGigE2/1/1")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U30, Q5")]),e._v(" "),n("td",[e._v("FortyGigE1/1/5")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U30, Q6")]),e._v(" "),n("td",[e._v("FortyGigE1/1/6")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U40, Q3")]),e._v(" "),n("td",[e._v("FortyGigE1/1/2")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U40, Q4")]),e._v(" "),n("td",[e._v("FortyGigE2/1/2")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U40, Q5")]),e._v(" "),n("td",[e._v("FortyGigE2/1/5")])]),e._v(" "),n("tr",[n("td",[e._v("Virtual Connect Frame U40, Q6")]),e._v(" "),n("td",[e._v("FortyGigE2/1/6")])]),e._v(" "),n("tr",[n("td",[e._v("To Upstream Switching")]),e._v(" "),n("td",[e._v("Customer Choice")])])])]),e._v(" "),n("p",[e._v("It is recommended that the installation user logs on to the switch post-configuration and provides a description for each of these ports.")]),e._v(" "),n("h3",{attrs:{id:"network-definitions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#network-definitions"}},[e._v("#")]),e._v(" Network definitions")]),e._v(" "),n("p",[e._v("There are multiple networks defined at the switch layer in this solution:")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("Synergy Management Network")]),e._v(" - This network is specific to the requirements of HPE Synergy.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Management Network –")]),e._v(" This network facilitates the management of hardware and software interfaced by IT.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Data Center Network")]),e._v(" – This network carries traffic from the overlay network used by the pods to external consumers of pod deployed services.")])])]),e._v(" "),n("p",[e._v("Table 12 defines the VLANs configured using HPE Synergy Composer in the creation of this solution. These networks should be defined at both the first layer switch and within Composer. This solution utilizes unique VLANs for the data center and solution management segments. Actual VLANs and network count will be determined by the requirements of your production environment.")]),e._v(" "),n("p",[n("strong",[e._v("Table 12.")]),e._v(" Networks used in this solution.")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Network Function")]),e._v(" "),n("th",[e._v("VLAN Number")]),e._v(" "),n("th",[e._v("Bridge Aggregation Group")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Synergy_Management")]),e._v(" "),n("td",[e._v("193")]),e._v(" "),n("td",[e._v("111")])]),e._v(" "),n("tr",[n("td",[e._v("Solution_Management")]),e._v(" "),n("td",[e._v("1193")]),e._v(" "),n("td",[e._v("111")])]),e._v(" "),n("tr",[n("td",[e._v("Data_Center")]),e._v(" "),n("td",[e._v("2193")]),e._v(" "),n("td",[e._v("111")])])])]),e._v(" "),n("ol",[n("li",[n("p",[e._v("To add these networks to the switch, log on to the switch console over SSH and run the following commands.")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" sys\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" vlan "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("193")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1193")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("2193")]),e._v("\n")])])])]),e._v(" "),n("li",[n("p",[e._v("For each of these VLANs, perform the following steps.")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" interface vlan-interface "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("####")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" name VLAN Name per table above\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" description Add text that describes the purpose of the VLAN\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" quit\n")])])]),n("p",[n("strong",[e._v("NOTE")])]),e._v(" "),n("p",[e._v("It is strongly recommended to configure a dummy VLAN on the switches and assign unused ports to that VLAN.")]),e._v(" "),n("p",[e._v("The switches should be configured with a bridge aggregation group (BAGG) for the different links to the HPE Synergy Frame connections. To configure the BAGG and ports as described in "),n("strong",[e._v("Table 5")]),e._v(", run the following commands.")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" interface Bridge-Aggregation111\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" link-aggregation mode dynamic\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" description "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("FrameNameU3"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("0")]),e._v(">")]),e._v("-ICM\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" quit\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" interface range name "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("FrameNameU3"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("0")]),e._v(">")]),e._v("-ICM interface Bridge-Aggregation111\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" quit\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" interface range FortyGigE "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1/1 to FortyGigE "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1/2 FortyGigE "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/1/1 to FortyGigE "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/1/2\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" port link-aggregation group "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("111")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" quit\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" interface range name "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("FrameNameU3"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("0")]),e._v(">")]),e._v("-ICM\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" port link-type trunk\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" undo port trunk permit vlan "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" port trunk permit vlan "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("193")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1193")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("2193")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" quit\n")])])])]),e._v(" "),n("li",[n("p",[e._v("After the configuration of the switches is complete, save the state and apply it by typing "),n("strong",[e._v("save")]),e._v(" and follow the resulting prompts.")])])]),e._v(" "),n("h2",{attrs:{id:"hpe-synergy-480-gen10-compute-modules"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hpe-synergy-480-gen10-compute-modules"}},[e._v("#")]),e._v(" HPE Synergy 480 Gen10 Compute Modules")]),e._v(" "),n("p",[e._v("This section describes the connectivity of the HPE Synergy 480 Gen10 Compute Modules used in the creation of this solution. The HPE Synergy 480 Gen10 Compute Modules, regardless of function, were all configured identically. Table 13 describes the host configuration tested for this solution. Server configuration should be based on customer needs and the configuration used in the creation of this solution might not align with the requirements of any given production implementation.")]),e._v(" "),n("p",[n("strong",[e._v("Table 13.")]),e._v(" Host configuration.")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Component")]),e._v(" "),n("th",[e._v("Quantity")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("HPE Synergy 480/660 Gen10 Intel Xeon-Gold 6130 (2.1GHz/16-core/125W) FIO Processor Kit")]),e._v(" "),n("td",[e._v("2 per server")])]),e._v(" "),n("tr",[n("td",[e._v("HPE 8GB (1x 8GB) Single Rank x8 DDR4-2666 CAS-19-19 Registered Smart Memory Kit")]),e._v(" "),n("td",[e._v("20 per server")])]),e._v(" "),n("tr",[n("td",[e._v("HPE 16GB (1x 16GB) Single Rank x4 DDR4-2666 CAS-19-19 Registered Smart Memory Kit")]),e._v(" "),n("td",[e._v("4 per server")])]),e._v(" "),n("tr",[n("td",[e._v("HPE Synergy 3820C 10/20Gb Converged Network Adapter")]),e._v(" "),n("td",[e._v("1 per server")])]),e._v(" "),n("tr",[n("td",[e._v("HPE Smart Array P204i-c SR Gen10 12G SAS controller")]),e._v(" "),n("td",[e._v("1 per server")])]),e._v(" "),n("tr",[n("td",[e._v("HPE 1.92TB SATA 6GB Mixed Use SFF (2.5in) 3yr Warranty Digitally Signed Firmware SSD")]),e._v(" "),n("td",[e._v("2 per management host")])])])]),e._v(" "),n("h2",{attrs:{id:"hpe-synergy-composer-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hpe-synergy-composer-2"}},[e._v("#")]),e._v(" HPE Synergy Composer 2")]),e._v(" "),n("p",[e._v("At the core of the management of the HPE Synergy environment is HPE Synergy Composer 2. A pair of HPE Synergy Composers are deployed across frames to provide redundant management of the environment for both initial deployment and changes over the lifecycle of the solution. HPE Synergy Composer 2 is used to configure the environment prior to the deployment of the operating systems and applications.")]),e._v(" "),n("p",[e._v("This section walks the installation user through the process of installing and configuring the HPE Synergy Composer.")]),e._v(" "),n("h3",{attrs:{id:"configure-the-hpe-synergy-composer-via-vnc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-hpe-synergy-composer-via-vnc"}},[e._v("#")]),e._v(" Configure the HPE Synergy Composer via VNC")]),e._v(" "),n("p",[e._v("To configure HPE Synergy Composer with the user laptop, follow these steps:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Configure the laptop Ethernet port to the IP address 192.168.10.2/24*.* No gateway is required.")])]),e._v(" "),n("li",[n("p",[e._v("Use a CAT5e cable to connect the laptop computer Ethernet port to laptop port on a front panel module of HPE Synergy Composer.")])]),e._v(" "),n("li",[n("p",[e._v("Access the HPE Synergy Console using a web browser. Start a new browser session and enter "),n("a",{attrs:{href:"http://192.168.10.1:5800",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://192.168.10.1:5800"),n("OutboundLink")],1),n("em",[e._v(".")])])]),e._v(" "),n("li",[n("p",[e._v("Click "),n("strong",[e._v("Connect")]),e._v(" to start HPE OneView for Synergy from the HPE Synergy console.")])]),e._v(" "),n("li",[n("p",[e._v("Click "),n("strong",[e._v("Hardware Setup")]),e._v(" to connect with "),n("strong",[e._v("Installation Technician")]),e._v(" user privileges.")])]),e._v(" "),n("li",[n("p",[e._v("In the Appliance Network dialog box, fill in the following information")]),e._v(" "),n("p",[e._v("a.  Appliance host name: Enter "),n("strong",[e._v("a fully qualified name of the HPE Synergy Composer.")])]),e._v(" "),n("p",[e._v("b.  Address assignment: "),n("strong",[e._v("Manual")])]),e._v(" "),n("p",[e._v("c.  IP address: "),n("strong",[e._v("Enter an IP address on the management network")]),e._v(".")]),e._v(" "),n("p",[e._v("d.  Subnet mask or CIDR: "),n("strong",[e._v("Enter the subnet mask of the management network")]),e._v(".")]),e._v(" "),n("p",[e._v("e.  Gateway address: "),n("strong",[e._v("Enter the gateway for the management network")]),e._v(".")]),e._v(" "),n("p",[e._v("f.  Maintenance IP address 1: "),n("strong",[e._v("Enter a maintenance IP address on the management")]),e._v(" "),n("strong",[e._v("network")]),e._v(".")]),e._v(" "),n("p",[e._v("g.  Maintenance IP address 2: "),n("strong",[e._v("Enter a secondary maintenance IP")]),e._v(" "),n("strong",[e._v("address on the management network.")])]),e._v(" "),n("p",[e._v("h.  Preferred DNS server: "),n("strong",[e._v("Enter the DNS server.")])]),e._v(" "),n("p",[e._v("i.  IPv6 Address assignment: "),n("strong",[e._v("Unassign")])])]),e._v(" "),n("li",[n("p",[e._v("Click OK.")])]),e._v(" "),n("li",[n("p",[e._v("When the hardware discovery process is complete, all HPE Synergy hardware including the Frames, Composer modules, Frame Link modules, Interconnect modules, Compute modules, and storage modules must be discovered and claimed by HPE OneView for Synergy.")])]),e._v(" "),n("li",[n("p",[e._v("Review and correct any issues listed in the hardware setup checklist. The HPE Synergy 12000 Frame Setup and Installation Guide available at "),n("a",{attrs:{href:"http://www.hpe.com/info/synergy-docs",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.hpe.com/info/synergy-docs"),n("OutboundLink")],1),e._v(" provides troubleshooting steps for common issues during hardware setup.")])]),e._v(" "),n("li",[n("p",[e._v("Navigate to "),n("strong",[e._v("OneView")]),e._v(" -> "),n("strong",[e._v("Settings")]),e._v(" and then click "),n("strong",[e._v("Appliance")]),e._v(". Verify that the active and standby appliances show a status of "),n("strong",[e._v("Connected")]),e._v(".")])])]),e._v(" "),n("h3",{attrs:{id:"configure-appliance-credentials"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configure-appliance-credentials"}},[e._v("#")]),e._v(" Configure appliance credentials")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Log in to the HPE OneView for Synergy Web Administration Portal, review and accept the License Agreement.")])]),e._v(" "),n("li",[n("p",[e._v("On the HPE OneView Support Dialog box, verify that Authorized Service has a setting of Enabled. Click OK.")])]),e._v(" "),n("li",[n("p",[e._v("Log in as "),n("strong",[e._v("Administrator")]),e._v(" with default password "),n("strong",[e._v("admin")]),e._v(", set the new password to <<composer_administrator_password>> and click "),n("strong",[e._v("Ok")]),e._v(".")])])]),e._v(" "),n("h3",{attrs:{id:"configure-solution-firmware"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configure-solution-firmware"}},[e._v("#")]),e._v(" Configure solution firmware")]),e._v(" "),n("p",[e._v("This solution adheres to the firmware recipe specified with the HPE Converged Solutions 750 specifications which can be found at CS750 Firmware and Software Compatibility Matrix. The solution used the latest firmware recipe available as of September of 2019 including HPE OneView for Synergy 5.0:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Select the "),n("strong",[e._v("OneView menu")]),e._v(" and select "),n("strong",[e._v("Settings.")])])]),e._v(" "),n("li",[n("p",[e._v("Under Appliance, select "),n("strong",[e._v("Update Appliance")]),e._v(" and "),n("strong",[e._v("update Composer.")])])]),e._v(" "),n("li",[n("p",[e._v("Once the update process completes, validate that both composer modules are connected and there is a "),n("strong",[e._v("green")]),e._v(" "),n("strong",[e._v("checkmark.")])])])]),e._v(" "),n("h3",{attrs:{id:"solution-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#solution-configuration"}},[e._v("#")]),e._v(" Solution configuration")]),e._v(" "),n("p",[e._v("The installation user should utilize the Synergy Guided Setup to complete the following solution configuration details.")]),e._v(" "),n("h4",{attrs:{id:"create-additional-users"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-additional-users"}},[e._v("#")]),e._v(" Create additional users")]),e._v(" "),n("p",[e._v("It is recommended that you create a read-only user and an administrator account with a different username than administrator.")]),e._v(" "),n("h4",{attrs:{id:"firmware"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#firmware"}},[e._v("#")]),e._v(" Firmware")]),e._v(" "),n("p",[e._v("Upload a firmware bundle based on the HPE Converged Solutions 750 recipe. Once the bundle starts uploading, proceed to additional steps without disrupting the upload.")]),e._v(" "),n("h4",{attrs:{id:"create-an-ip-pool-on-the-management-network"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-an-ip-pool-on-the-management-network"}},[e._v("#")]),e._v(" Create an IP pool on the management network")]),e._v(" "),n("p",[e._v("Follow the guidance to create an IP pool on the management network. This IP pool will provide IP addresses to management IP’s and HPE device iLOs within the solution. Ensure that the pool is enabled prior to proceeding.")]),e._v(" "),n("h4",{attrs:{id:"configure-ethernet-networks"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configure-ethernet-networks"}},[e._v("#")]),e._v(" Configure Ethernet networks")]),e._v(" "),n("p",[e._v("As explained in the "),n("a",{attrs:{href:"#network-definitions"}},[e._v("Network definitions")]),e._v(" section of this document, the solution utilizes three (3) network segments. Refer to the Create networks section of the OneView Guided Setup wizard to define the networks shown in Table 14 at a minimum. Your VLAN values will generally differ from those described below.")]),e._v(" "),n("p",[n("strong",[e._v("Table 14.")]),e._v(" Networks defined within HPE Synergy Composer for this solution.")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Network Name")]),e._v(" "),n("th",[e._v("VLAN Number")]),e._v(" "),n("th",[e._v("Purpose")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Synergy_Management")]),e._v(" "),n("td",[e._v("193")]),e._v(" "),n("td",[e._v("Synergy management")])]),e._v(" "),n("tr",[n("td",[e._v("Management")]),e._v(" "),n("td",[e._v("Ethernet")]),e._v(" "),n("td",[e._v("1193")])]),e._v(" "),n("tr",[n("td",[e._v("Data_Center")]),e._v(" "),n("td",[e._v("Ethernet")]),e._v(" "),n("td",[e._v("2193")])])])]),e._v(" "),n("p",[e._v("The management network should be associated with the management network IP pool, which the user specified in the prior step. The installation user should create any additional required networks for the solution.")]),e._v(" "),n("h4",{attrs:{id:"create-logical-interconnect-groups"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-logical-interconnect-groups"}},[e._v("#")]),e._v(" Create Logical Interconnect Groups")]),e._v(" "),n("p",[e._v("Within Composer, use the Guided Setup to create a Logical Interconnect Group (LIG) with three (3) uplink sets defined. For this solution, the uplink sets are named Network. The uplink sets “Network” carries all other networks defined for the solution. Table 15 below defines the ports used to carry the uplink sets.")]),e._v(" "),n("p",[n("strong",[e._v("Table 15.")]),e._v(" Networks used in this solution")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Uplink Set")]),e._v(" "),n("th",[e._v("Synergy Source")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Network")]),e._v(" "),n("td",[e._v("Enclosure 1, Bay 3, Port Q3")])]),e._v(" "),n("tr",[n("td"),e._v(" "),n("td",[e._v("Enclosure 1, Bay 3, Port Q4")])]),e._v(" "),n("tr",[n("td"),e._v(" "),n("td",[e._v("Enclosure 2, Bay 6, Port Q3")])]),e._v(" "),n("tr",[n("td"),e._v(" "),n("td",[e._v("Enclosure 2, Bay 6, Port Q4")])])])]),e._v(" "),n("h4",{attrs:{id:"create-enclosure-group"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-enclosure-group"}},[e._v("#")]),e._v(" Create Enclosure Group")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("From the OneView Guided Setup, select Create "),n("strong",[e._v("enclosure group.")])])]),e._v(" "),n("li",[n("p",[e._v("Provide a "),n("strong",[e._v("name")]),e._v(" and enter the "),n("strong",[e._v("number of frames")]),e._v(".")])]),e._v(" "),n("li",[n("p",[e._v("Select "),n("strong",[e._v("Use address pool")]),e._v(" and utilize the "),n("strong",[e._v("management pool")]),e._v(" defined earlier.")])]),e._v(" "),n("li",[n("p",[e._v("Use the Logical Interconnect Group from the prior step in the creation of the Enclosure Group.")])]),e._v(" "),n("li",[n("p",[e._v("Select "),n("strong",[e._v("Create")]),e._v(" when ready.")])])]),e._v(" "),n("h4",{attrs:{id:"create-logical-enclosure"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-logical-enclosure"}},[e._v("#")]),e._v(" Create Logical Enclosure")]),e._v(" "),n("p",[e._v("Use the Guided Setup to create a logical enclosure making use of all three (3) enclosures. Select the firmware you uploaded earlier as a baseline. It can take some time for the firmware to update across the solution stack. Ensure that firmware complies with the baseline by selecting "),n("strong",[e._v("Actions")]),e._v(" and then "),n("strong",[e._v("Update")]),e._v(" "),n("strong",[e._v("Firmware")]),e._v(". Click "),n("strong",[e._v("Cancel")]),e._v(" to exit.")]),e._v(" "),n("h3",{attrs:{id:"configuring-solution-storage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configuring-solution-storage"}},[e._v("#")]),e._v(" Configuring solution storage")]),e._v(" "),n("p",[e._v("The HPE Synergy D3940 Storage Module provides SSDs consumed by the Local Storage Operator to provide the persistent volume for the container workloads. If local disks are not installed within the HPE Synergy 480 Gen10 Compute Modules, the HPE Synergy D3940 Storage will also provide disks as boot volumes. Figure 8 describes the logical storage layout used in the solution. The HPE Synergy D3940 Storage Module provides SAS volumes.")]),e._v(" "),n("p",[n("img",{attrs:{src:r(260),alt:"Logical storage layout within the solution"}})]),e._v(" "),n("p",[n("strong",[e._v("Figure 8")]),e._v(". Logical storage layout within the solution")]),e._v(" "),n("p",[e._v("Table 16 lists all volumes used within the solution and highlights what storage provides the capacity and performance of each function.")]),e._v(" "),n("p",[n("strong",[e._v("Table 16.")]),e._v(" Volumes used in this solution")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("Volume/Disk Function")]),e._v(" "),n("th",[e._v("Qty")]),e._v(" "),n("th",[e._v("Size")]),e._v(" "),n("th",[e._v("Source")]),e._v(" "),n("th",[e._v("Hosts")]),e._v(" "),n("th",[e._v("Shared/Dedicated")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Local volume")]),e._v(" "),n("td",[e._v("3")]),e._v(" "),n("td",[e._v("960GB")]),e._v(" "),n("td",[e._v("HPE Synergy D3940 storage")]),e._v(" "),n("td",[e._v("OpenShift worker nodes")]),e._v(" "),n("td",[e._v("dedicated")])]),e._v(" "),n("tr",[n("td",[e._v("Operating System (optional)")]),e._v(" "),n("td",[e._v("6")]),e._v(" "),n("td",[e._v("300GB")]),e._v(" "),n("td",[e._v("HPE Synergy D3940 storage")]),e._v(" "),n("td",[e._v("All nodes")]),e._v(" "),n("td",[e._v("dedicated")])])])]),e._v(" "),n("h2",{attrs:{id:"server-profiles"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#server-profiles"}},[e._v("#")]),e._v(" Server Profiles")]),e._v(" "),n("p",[e._v("Server profiles are used to configure the personality of the compute resources. A server profile allows a set of configuration parameters, including firmware recipe, network and SAN connectivity, BIOS tuning, boot order configuration, local storage configuration, and more to be templatized. These templates are the key to delivering the “infrastructure as code” capabilities of the HPE Synergy platform. For the purpose of this solution, a template is created which can be leveraged for OpenShift master nodes and OpenShift worker nodes.")]),e._v(" "),n("h3",{attrs:{id:"playbooks-for-creating-the-server-profile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#playbooks-for-creating-the-server-profile"}},[e._v("#")]),e._v(" Playbooks for creating the Server Profile")]),e._v(" "),n("p",[e._v("This repository contains Ansible scripts to automate the creation of server profiles in HPE OneView. The scripts are as follows:")]),e._v(" "),n("ol",[n("li",[n("p",[n("strong",[e._v("inputs.yml")]),e._v(": This file contains input variables to create the server profile template and server profile.")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("enclosure_group")]),e._v(": name of the enclosure group as present in HPE OneView.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("deployment_network_name")]),e._v(": name of the network over which the OpenShift Container Platform solution must be deployed.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("server_profile_template_name")]),e._v(": custom name of the server profile template.")])])])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("hosts")]),e._v(": This is the inventory file which will be used by the OpenShift installer VM to reference nodes for which the server profile needs to be created.")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("type")]),e._v(": type of the HPE Synergy server.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("name")]),e._v(": custom name for the server profile")])])])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("secret.yml")]),e._v(": This is an Ansible vault file that consists of sensitive information, such as HPE OneView IP address, credentials, VMware vCenter server IP address and its credentials.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("playbooks")]),e._v(": This folder consists of playbooks to create the server profile template and server profile.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("roles")]),e._v(": This folder consists of Ansible roles to create the server profile template and server profile. Each role is associated with a set of tasks to accomplish the expected output and they are present in the tasks directory within the role.")])])]),e._v(" "),n("p",[n("strong",[e._v("NOTE")])]),e._v(" "),n("p",[e._v("The parameter names are case sensitive. Ensure that parameter names and functions are accurately recorded for the installation environment. Any variation in parameter names and functions will result in the failure of automated configuration steps.")]),e._v(" "),n("p",[e._v("Update the inventory file found at "),n("em",[e._v("/etc/ansible/hpe-solutions-openshift/synergy/scalable/infrastructure")]),e._v(" directory within the installer VM to include server hardware details. An example is provided below. The installation user should update the values to suit their environment.")]),e._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("server_profile_template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v('\n\n"Frame01'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 1" type="SY 480 Gen10 1"\n\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("server_profile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v('\n\n"Frame03'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 2" type="SY 480 Gen10 1" name="Master01"\n\n"Frame02'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 3" type="SY 480 Gen10 3" name="Master02"\n\n"Frame01'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 4" type="SY 480 Gen10 2" name="Master03"\n\nif intended to use physical worker nodes'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' provide the server details in the following entries and uncomment them.\n\n"Frame01'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 2" type="SY 480 Gen10 1" name="Worker01"\n\n"Frame02'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 3" type="SY 480 Gen10 3" name="Worker02"\n\n"Frame03'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(' bay 4" type="SY 480 Gen10 2" name="Worker03"\n\n')])])]),n("p",[e._v("Update the "),n("em",[e._v("input.yml")]),e._v(" file found at */etc/ansible/hpe-solutions-openshift/synergy/scalable/infrastructure.")]),e._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[e._v("Variables for creating the SPT and SP as per the OneView configuration\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enclosure_group")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" EG\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("deployment_network_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" TwentyNet\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("server_profile_template_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" openshift_spt\n")])])]),n("p",[e._v("Update the "),n("em",[e._v("secret.yml")]),e._v(" found at */etc/ansible/hpe-solutions-openshift/synergy/scalable/infrastructure.")]),e._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[e._v("oneview and image streamer ip address and credentials.\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("oneview_ip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" x.x.x.x\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("oneview_username")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" <username"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("oneview_password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" <password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("\n")])])]),n("p",[n("strong",[e._v("WARNING")])]),e._v(" "),n("p",[e._v("Before executing the playbooks, "),n("em",[e._v("deploy_server_profile_template.yml")]),e._v(" and "),n("em",[e._v("deploy_server_profile.yml")]),e._v(". Ensure that the server hardware provided in the inventory file is powered off and does not have a server profile associated with it.")]),e._v(" "),n("p",[e._v("After the inventory and variable files are updated with the appropriate values, execute the following commands on the installer VM to create the server profile template and server profile.")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /etc/ansible/hpe-solutions-openshift/synergy/scalable/infrastructure\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-playbook -i hosts playbooks/deploy_server_profile_template.yml --ask-vault-pass\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ansible-playbook -i hosts playbooks/deploy_server_profile.yml --ask-vault-pass\n")])])]),n("h3",{attrs:{id:"hpe-synergy-storage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hpe-synergy-storage"}},[e._v("#")]),e._v(" HPE Synergy storage")]),e._v(" "),n("p",[e._v("To configure persistent volume for the OpenShift cluster, it is required to provide local storage to the worker nodes. This section describes how to add D3940 disk to the nodes.")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Login to the "),n("strong",[e._v("HPE OneView")]),e._v(" console.")])]),e._v(" "),n("li",[n("p",[e._v("Navigate to "),n("strong",[e._v("Server Profile")]),e._v(".")])]),e._v(" "),n("li",[n("p",[e._v("Select the server profile associated with the worker nodes and click "),n("strong",[e._v("Actions")]),e._v(" and select "),n("strong",[e._v("Edit")]),e._v(".")])]),e._v(" "),n("li",[n("p",[e._v("Navigate to the section "),n("strong",[e._v("Local Storage")]),e._v(" and select the "),n("strong",[e._v("SAS Storage Controller.")]),e._v(" Click "),n("strong",[e._v("Edit")]),e._v(".")])]),e._v(" "),n("li",[n("p",[e._v("Click "),n("strong",[e._v("Add Logical Drive")]),e._v(" and provide the values to the following parameters and then click "),n("strong",[e._v("OK")]),e._v(". Add a minimum of 2 logical drives.")]),e._v(" "),n("p",[e._v("a.  "),n("strong",[e._v("Name")]),e._v(": Provide a name.")]),e._v(" "),n("p",[e._v("b.  "),n("strong",[e._v("RAID Level")]),e._v(": Select the applicable RAID level.")]),e._v(" "),n("p",[e._v("c.  "),n("strong",[e._v("Drive type")]),e._v(": Select the applicable drive type.")]),e._v(" "),n("p",[e._v("d.  "),n("strong",[e._v("Erase on delete")]),e._v(": Yes")])]),e._v(" "),n("li",[n("p",[e._v("After the completion of the settings, click "),n("strong",[e._v("OK")]),e._v(" to apply the settings on the server profile.")])]),e._v(" "),n("li",[n("p",[e._v("Repeat steps 1-6 for remaining worker nodes.")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);