(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{314:function(e,t,a){"use strict";a.r(t);var s=a(13),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("strong",[e._v("Preparing the execution environment for RH OCP worker3 node")])]),e._v(" "),t("p",[e._v("Prerequisites:")]),e._v(" "),t("ul",[t("li",[e._v("Red Hat Enterprise Linux 8.5 must be "),t("a",{attrs:{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_8_installation/index",target:"_blank",rel:"noopener noreferrer"}},[e._v("installed and registered"),t("OutboundLink")],1),e._v(" on your host machine.")]),e._v(" "),t("li",[e._v("Configure "),t("strong",[e._v("BOND ® VLAN ® Bridge")]),e._v(".")])]),e._v(" "),t("p",[t("strong",[e._v("Setting up RHEL 8.5 installer machine")])]),e._v(" "),t("p",[e._v("This section assumes the following considerations for our deployment environment:")]),e._v(" "),t("ul",[t("li",[e._v("A server running Red Hat Enterprise Linux (RHEL) 8.5 exists within the deployment environment and is accessible to the installation user to be used as an installer machine. This server must have internet connectivity.")]),e._v(" "),t("li",[e._v("A virtual machine is used to act as an installer machine and the same host is utilized as an Ansible Engine host. We are using one of the worker3 machines as an installer machine to execute Ansible® Playbook.")])]),e._v(" "),t("p",[e._v("Prerequisites:")]),e._v(" "),t("p",[e._v("RHEL 8.5 installer machine must have the following configurations:")]),e._v(" "),t("ol",[t("li",[e._v('The installer machine must have at least 500 GB disk space (especially in the "/" partition), 4 CPU cores and 16 GB RAM.')]),e._v(" "),t("li",[e._v("RHEL 8.5 installer machine must be subscribed with valid Red Hat credentials. To register the installer machine for the Red Hat subscription, run the following command:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" subscription-manager register "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --auto-attach \n")])])]),t("p"),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Sync time with NTP server.")]),e._v(" "),t("li",[e._v("SSH key pair must be available on the installer machine. If the SSH key is not available, generate a new SSH key pair with the following command:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ssh-keygen \n")])])]),t("p",[e._v("To set up the installer machine:")]),e._v(" "),t("ol",[t("li",[e._v("Create and activate a Python3 virtual environment for deploying this solution with the following commands:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" python3 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" venv "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("virtual"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("_environment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("source")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("virtual"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("_environment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("/bin/activate \n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Download the ISV-OpenShift repositories using the following commands in the Ansible Engine:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /opt \n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /opt \n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v(" https://github.com/HewlettPackard/hpe-solutions-openshift.git "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" \n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Setup the installer machine to configure the nginx, development tools, and other python packages required for LTI installation. Navigate to the /opt/hpe-solutions-openshift/DL-LTI-Openshift/ directory and run the following command:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sh")]),e._v(" setup.sh \n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("Download and copy RHEL 8.5 and RHEL 7.9 DVD ISO to /usr/share/nginx/html/ directory to create nginx service.")])]),e._v(" "),t("p",[t("strong",[e._v("NOTE")])]),e._v(" "),t("p",[e._v("For server type ProLiant DL360 Gen10, Bonding_Interface1 is eno5 and Bonding_Interface2 is eno6. For server type ProLiant DL365 Gen10 Plus, Bonding_Interface1 is ens2 and Bonding_Interface2 is ens3.")]),e._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[e._v("Navigate to the /opt/ hpe-solutions-openshift/DL-LTI-Openshift/ directory to provide the input variables and run the following command:")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" python input.py \n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v("Enter the value for each field one at a time.")])]),e._v(" "),t("p",[e._v("The following example illustrates a sample input collection using input.py file:")]),e._v(" "),t("p",[e._v("Enter server serial number for the first head node server ( Example: 2M2210020X )")]),e._v(" "),t("p",[t("code"),e._v("2M205107TH")]),e._v(" "),t("p",[t("code"),e._v("Enter ILO address for the first head node server ( Example: 192.28.201.5 )")]),e._v(" "),t("p",[t("code"),e._v("172.28.201.13")]),e._v(" "),t("p",[e._v("Enter ILO username for the first head node server ( Example: admin )")]),e._v(" "),t("p",[e._v("admin")]),e._v(" "),t("p",[e._v("Enter ILO password for the first head node server ( Example: Password )")]),e._v(" "),t("p",[e._v("Password")]),e._v(" "),t("p",[t("code"),e._v("Enter Host FQDN for the first head node server ( Example: kvm1.xyz.local )")]),e._v(" "),t("p",[e._v("headnode1.isv.local")]),e._v(" "),t("p",[t("code"),e._v("etc ...............................")]),e._v(" "),t("p",[e._v("The output generates the input.yaml file and the hosts file in the same location.")])])}),[],!1,null,null,null);t.default=n.exports}}]);