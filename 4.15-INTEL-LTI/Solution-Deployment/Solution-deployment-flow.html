<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SOLUTION DEPLOYMENT WORKFLOW | OpenShift Container Platform 4.15 on HPE DL INTEL Gen11 Servers</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/css/0.styles.ffcd331b.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/app.b75b6103.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/2.4730e0ba.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/1.981e8460.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/34.89d3bfd8.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/10.fe0504e8.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/11.62cbd470.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/12.c9e862ff.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/13.657a1ce5.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/14.e9d66914.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/15.b1a9be16.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/16.c9d7617f.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/17.3259e138.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/18.7d69d950.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/19.53db1622.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/20.727625f1.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/21.ffab7a62.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/22.885c082c.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/23.014a5934.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/24.34605eef.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/25.c88d0a1c.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/26.9ac3646c.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/27.f46349fa.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/28.a5cdf7a8.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/29.22e2da67.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/3.8ca25f86.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/30.8d6d9246.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/31.497fa06f.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/32.5b8b5a64.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/33.7aaa2a12.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/35.56f53c23.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/36.937b9a05.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/37.d8287cc7.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/38.df9e3d29.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/39.c694480a.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/4.0cae26ea.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/40.2915a895.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/5.33541771.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/6.daf8ff5d.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/7.849fdb19.js"><link rel="prefetch" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/vendors~docsearch.c632dcce.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/css/0.styles.ffcd331b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/4.15-INTEL-LTI/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.15 on HPE DL INTEL Gen11 Servers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4.15 on HPE DL360 &amp; DL380 Gen11 Servers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/Solution-deployment-flow.html" aria-current="page" class="active sidebar-link">SOLUTION DEPLOYMENT WORKFLOW</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment for RHOCP worker node</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/OCP-Cluster-deployment.html" class="sidebar-link">Deploying RHOCP cluster using Ansible playbooks</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/OCP-worker-nodes.html" class="sidebar-link">Adding RHEL 8.9 worker nodes to RHOCP cluster using Ansible playbooks</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/OCP-CoreOSWorker-nodes.html" class="sidebar-link">Adding RHCOS worker nodes to RHOCP cluster using Ansible playbooks</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/OCP-CoreOSBareMetalWorker-nodes.html" class="sidebar-link">Adding BareMetal CoreOS worker nodes to RHOCP cluster using Ansible playbooks</a></li><li><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/Deploying-sample-application-using-Ephemeral-storage.html" class="sidebar-link">Deploying sample application on RHOCP 4.15 using Ephemeral storage</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenShift Virtualization</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="solution-deployment-workflow"><a href="#solution-deployment-workflow" class="header-anchor">#</a> <strong>SOLUTION DEPLOYMENT WORKFLOW</strong></h1> <p>The following figure shows the high-level workflow of the installation process:</p> <p><img src="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/img/Aspose.Words.d1fc7ddd-52aa-4c6c-b4c8-7a1fb8d3e951.009.6aaa8b17.png" alt=""></p> <p><strong>FIGURE 7.</strong> End to End Solution Deployment Workflow</p> <p>The following steps provide an overview of each step that needs to be performed for deploying the HPE ProLiant NGS-optimized solution for Red Hat OpenShift Container Platform 4.15:</p> <p>The way you interact with the installation program differs depending on your installation type.</p> <ul><li>For clusters with installer-provisioned infrastructure, you delegate the infrastructure bootstrapping and provisioning to the installation program instead of doing it yourself. The installation program creates all of the networking, machines, and operating systems that are required to support the cluster.</li> <li>If you provision and manage the infrastructure for your cluster, you must provide all of the cluster infrastructure and resources, including the bootstrap machine, networking, load balancing, storage, and individual cluster machines.</li></ul> <ol><li><strong>Set up iPXE, TFTP, and DHCP for RHCOS</strong></li></ol> <p>In this step, the iPXE server is leveraged to boot the machine. The iPXE and TFTP server is set up to boot RHCOS. The PXE boot process is the initial stage for deploying the solution and configuring DHCP is an integral part of this process. This configuration can be done using the sudo access.</p> <p>For more information on configuring the iPXE set up, see the <a href="https://github.com/HewlettPackard/hpe-solutions-openshift/blob/master/DL-LTI-Openshift/playbooks/deploy_ipxe_ocp.yml" target="_blank" rel="noopener noreferrer">Deploy iPXE guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <ol start="2"><li><strong>Configure a load balancer for RHOCP 4 nodes</strong></li></ol> <p>In the multi-node RHOCP cluster deployment, the load balancer is mandatory. For this solution, Hewlett Packard Enterprise has leveraged the required traffic for HAProxy load balancing. This configuration can be done using the sudo access. For commercial load balancer such as F5 Big-IP or any other RHOCP 4 supported load balancer, visit the manufacture website.</p> <ol start="3"><li><strong>Configure BindDNS</strong></li></ol> <p>In the User-Provisioned Infrastructure (UPI), DNS records are required for each machine. These records resolve the hostnames for all other machines in a RHOCP cluster. This component can also be configured using the sudo access for Linux-based DNS solution. It provides details on configuring the sudo to allow non-root users to execute root level commands.</p> <ol start="4"><li><strong>Configure firewall ports</strong></li></ol> <p>In the User-Provisioned Infrastructure (UPI), the network connectivity between machines allows cluster components to communicate within the RHOCP cluster. Hence, the required ports must be open between RHOCP cluster nodes. This component can also be configured using the sudo access for Linux-based firewall. For third-party firewall solutions, visit the manufacture website. It provides details on configuring the sudo to allow non-root users to execute root level commands.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal-network-customizations.html" target="_blank" rel="noopener noreferrer">Installing a user-provisioned bare metal cluster with network customizations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal-network-customizations.html#installation-network-user-infra_installing-bare-metal-network-customizations" target="_blank" rel="noopener noreferrer">Networking requirements for user-provisioned infrastructure<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> sections in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="5"><li><strong>Start RHOCP 4 User-Provisioned Infrastructure setup</strong></li></ol> <p>The User-Provisioned Infrastructure (UPI) begins with installing a bastion host. This setup uses RHEL 8.9 virtual machine as a bastion host. This bastion host is used for deployment and management of the RHOCP 4 clusters. The setup and configuration of this step can be completed using the sudo user access.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#ssh-agent-using_installing-bare-metal" target="_blank" rel="noopener noreferrer">Generating a key pair for cluster node SSH access<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="6"><li><strong>Download RHOCP 4 software version and images</strong></li></ol> <p>To download the RHOCP 4 image, see the <a href="https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.15/latest/" target="_blank" rel="noopener noreferrer">RHCOS image mirror<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> page. Check the access token for your cluster and install it on the bastion host. The bastion host is used for deploying and managing the RHOCP 4 clusters. The setup and configuration of this step can be completed using the sudo user access.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-obtaining-installer_installing-bare-metal" target="_blank" rel="noopener noreferrer">Obtaining the installation program<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="7"><li><strong>Create ignition config files</strong></li></ol> <p>This step begins with the creation of the install-config.yaml in a new folder. Use the Red Hat OpenShift installer tool to convert the YAML file to the ignition config file, which is required to install the RHOCP 4. During this process, system modification is not done on the bastion host or the provisioning server. This setup can be completed using the sudo access.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-initializing-manual_installing-bare-metal" target="_blank" rel="noopener noreferrer">Manually creating the installation configuration file<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="8"><li><strong>Upload ignition config files to the web</strong></li></ol> <p>In this step, the ignition config files are uploaded to an internal website that allows anonymous access to the iPXE boot process. Update the iPXE default file to point to the website location of the ignition file. The action required in this step can be done using the sudo user.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-user-infra-machines-pxe_installing-bare-metal" target="_blank" rel="noopener noreferrer">Installing RHCOS by using PXE or iPXE booting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>KVM is an open-source virtualization technology that converts your Linux machine into a type-1 bare-metal hypervisor and allows you to run multiple Virtual Machines (VMs) or guest VMs on Red Hat Linux.</p> <p>For more information, see the <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/getting-started-with-virtualization-in-rhel-8_configuring-and-managing-virtualization" target="_blank" rel="noopener noreferrer">Getting started with virtualization<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>Red Hat Enterprise Linux 8 documentation</em>.</p></div> <ol start="9"><li><strong>Deploy bootstrap node</strong></li></ol> <p>The bootstrap node is a temporary node that is used to bring up the RHOCP cluster. After the cluster is up, this machine can be decommissioned, and the hardware can be reused. The iPXE boot process must use bootstrapping information as a part of the iPXE boot parameter to install the RHCOS on this node.</p> <ol start="10"><li><strong>Deploy master node</strong></li></ol> <p>The master node uses the iPXE image for RHCOS after the bootstrap node. The iPXE boot process must use the master.ign information as a part of the iPXE boot parameter to install the RHCOS on this node. The root user is not active by default in RHCOS. Since the root login is not available, log in as the core user.</p> <ol start="11"><li><strong>Create the cluster</strong></li></ol> <p>The four nodes, one bootstrap and three master nodes boot up and are available at the login prompt for RHCOS. To complete the bootstrap process, log in as a sudo user on the bastion host or provision server and use the Red Hat OpenShift installer tool.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-installing-bare-metal_installing-bare-metal" target="_blank" rel="noopener noreferrer">Waiting for the bootstrap process to complete<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="12"><li><strong>Log in to the cluster</strong></li></ol> <p>After the bootstrap process has completed successfully, login to the cluster. The kubeconfig file is present in the auth directory where the ignition files are created on the bastion host. Export the cluster kubeconfig file and log in to your cluster as a default system user. The kubeconfig file contains information about the cluster that is used by the CLI to connect a client to the correct cluster and API server. This file is specific to a cluster and is created during the RHOCP installation. After logging in, approve the pending Certificate Signing Requests (CSRs) for the nodes.</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-approve-csrs_installing-bare-metal" target="_blank" rel="noopener noreferrer">Approving the certificate signing requests for your machines<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p> <ol start="13"><li><strong>Configure operators</strong></li></ol> <p>After the control plane initializes, you must immediately configure operators that are not available. It ensures their availability (for example, image-registry).</p> <p>For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/installing/installing_bare_metal/installing-bare-metal.html#installation-registry-storage-config_installing-bare-metal" target="_blank" rel="noopener noreferrer">Image registry storage configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>. To complete this step, you can also log in as a sudo user on the bastion host or provision server.</p> <ol start="14"><li><strong>Add Worker nodes</strong></li></ol> <p>In the RHOCP, you can add RHEL worker nodes to a User-Provisioned Infrastructure cluster or an installation-provisioned infrastructure cluster on the x86_64 architecture. For more information, see the <a href="https://docs.openshift.com/container-platform/4.15/machine_management/adding-rhel-compute.html" target="_blank" rel="noopener noreferrer">Adding RHEL compute machines to an OpenShift Container Platform cluster<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section in the <em>OpenShift Container Platform 4.15 documentation</em>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Components/Storage-components.html" class="prev">
        Storage components
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/4.15-INTEL-LTI/Solution-Deployment/Preparing-execution-environment.html">
        Preparing the execution environment for RHOCP worker node
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/app.b75b6103.js" defer></script><script src="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/2.4730e0ba.js" defer></script><script src="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/1.981e8460.js" defer></script><script src="/hpe-solutions-openshift/4.15-INTEL-LTI/assets/js/34.89d3bfd8.js" defer></script>
  </body>
</html>
