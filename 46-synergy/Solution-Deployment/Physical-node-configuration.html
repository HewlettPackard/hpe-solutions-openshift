<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Physical node configuration | OpenShift Container Platform 4.6 on Synergy</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/css/0.styles.bfdf2f8a.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/app.8d09024b.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/2.117ef8fd.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/34.78fab925.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/10.f2647a7a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/11.eb22f408.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/12.c2b1bda3.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/13.b2721807.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/14.fbb5bfdd.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/15.076cb55f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/16.086f907f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/17.5044d63c.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/18.0138d6da.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/19.577c768d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/20.5dab068a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/21.ea4d33a2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/22.23d6a92d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/23.329f64c2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/24.bad0d82d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/25.2a05a77a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/26.05687ea8.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/27.5f97f9ba.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/28.9f8648b2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/29.ffe26d0e.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/3.643f6564.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/30.b6d944bc.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/31.b0b75d1f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/32.4d1ff1fb.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/33.da67f8dd.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/35.5e384204.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/36.53dec668.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/37.e773d372.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/4.7110e26d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/5.8d6b47a1.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/6.b3a62cb0.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/7.a921eaba.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/8.8b92de32.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/9.7e00b22b.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/46-synergy/assets/css/0.styles.bfdf2f8a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/46-synergy/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.6 on Synergy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/46-synergy/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/46-synergy/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4 on HPE Synergy</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Solution-Deployment-Flow.html" class="sidebar-link">Solution Deployment Flow</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Server-Profiles.html" class="sidebar-link">Server Profiles</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Operating-system-deployment.html" class="sidebar-link">Operating system deployment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/User-provisioned-DNS-requirements.html" class="sidebar-link">User-provisioned DNS requirements</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Load-Balancer.html" class="sidebar-link">Load Balancer</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Bootstrap-node.html" class="sidebar-link">Bootstrap node</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html" aria-current="page" class="active sidebar-link">Physical node configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html#red-hat-openshift-master-nodes" class="sidebar-link">Red Hat OpenShift master nodes</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html#red-hat-openshift-worker-nodes" class="sidebar-link">Red Hat OpenShift worker nodes</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html#red-hat-openshift-worker-nodes-with-rhcos" class="sidebar-link">Red Hat OpenShift worker nodes with RHCOS</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html#red-hat-openshift-worker-nodes-with-rhel" class="sidebar-link">Red Hat OpenShift worker nodes with RHEL</a></li></ul></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Virtual-node-configuration.html" class="sidebar-link">Virtual node configuration</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/OCP-Cluster-deployment.html" class="sidebar-link">Red Hat OpenShift Container Platform Cluster deployment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/worker-nodes.html" class="sidebar-link">Red Hat OCP worker nodes</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Deploying-OCP-on-VMware-vSphere.html" class="sidebar-link">Deploying OpenShift Container Platform 4.6 on VMware vSphere</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="physical-node-configuration"><a href="#physical-node-configuration" class="header-anchor">#</a> Physical node configuration</h1> <p>This section describes the configuration of the bare metal compute
modules and is separated into sections that disseminate universal
configuration parameters, pointers exclusively for virtualized nodes,
and options used exclusively for bare metal nodes. The required
configuration steps are outlined. These may be in the form of UI
instruction pointers to code, or command line options. Use the CLI
options or UI instruction pointers accordingly to reach the desired end
state.</p> <h2 id="red-hat-openshift-master-nodes"><a href="#red-hat-openshift-master-nodes" class="header-anchor">#</a> Red Hat OpenShift master nodes</h2> <p>Refer to the section <a href="./Server-Profiles#server-profiles">Server Profiles</a> in this
document to create a server profile for the bare metal master nodes.</p> <p>After the server profile is successfully created and attached to a
compute module, refer to the following steps to install the operating
system on the bootstrap node and the master nodes.</p> <ol><li><p>Ensure that the location of ignition files of the corresponding
nodes is updated in the PXE configuration files.</p></li> <li><p>Ensure the MAC address of the network adapter in each server profile
is updated with the corresponding IP address in the DHCP
configuration file.</p></li> <li><p>Ensure that the load balancer server is up and running.</p></li> <li><p>From the <strong>HPE OneView</strong> interface, navigate to <strong>Server Profiles</strong>
and select the appropriate server profile for the corresponding
nodes. Select <strong>Actions</strong> &gt; <strong>Launch Console</strong>.</p></li> <li><p>While booting, select the appropriate OS label.</p></li> <li><p>Wait until the OS installation is complete.</p></li> <li><p>Verify the installation by logging on to the node from the installer
VM using the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">ssh</span> core@<span class="token operator">&lt;</span> replace_with_node_fqdn_or_ip <span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>To utilize virtual machines as the OpenShift master nodes, refer to the
sections <a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Virtual-node-configuration.html#virtual-node-configuration">Virtual nodes configuration</a> and
<a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Virtual-node-configuration.html#deploying-virtual-master-nodes">Deploying virtual master nodes</a> in
this document.</p></div></li></ol> <h2 id="red-hat-openshift-worker-nodes"><a href="#red-hat-openshift-worker-nodes" class="header-anchor">#</a> Red Hat OpenShift worker nodes</h2> <p>Worker nodes for OpenShift 4 can run either RHCOS or RHEL 7.6. This
section outlines the steps required to create worker nodes with either
OS.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>To utilize virtual nodes as OpenShift worker nodes, refer the sections
<a href="#virtual-node-configuration">Virtual nodes configuration</a> and
<a href="#deploying-virtual-worker-nodes">Deploying virtual worker nodes</a> in
this document.</p></div> <h2 id="red-hat-openshift-worker-nodes-with-rhcos"><a href="#red-hat-openshift-worker-nodes-with-rhcos" class="header-anchor">#</a> Red Hat OpenShift worker nodes with RHCOS</h2> <p>Refer the section <a href="./Server-Profiles#server-profiles">Server
Profiles</a>
in this document to create the server profile for the worker nodes
before proceeding with the subsequent section.</p> <p>After the server profile is successfully created and attached to a
compute module, refer to the following steps to install the operating
system on the worker nodes.</p> <ol><li><p>Ensure that the location of ignition files of the corresponding
nodes is updated in the PXE configuration files.</p></li> <li><p>Ensure the MAC address of the network adapter in each server profile
is updated with the corresponding IP address in the DHCP
configuration file.</p></li> <li><p>Ensure that the load balancer server is up and running.</p></li> <li><p>From the <strong>HPE OneView</strong> interface, navigate to <strong>Server Profiles</strong>
and select the appropriate server profile for the corresponding
nodes. Select <strong>Actions</strong> &gt; <strong>Launch Console</strong>.</p></li> <li><p>While booting, select the appropriate OS label.</p></li> <li><p>Wait until the OS installation is complete.</p></li> <li><p>Verify the installation by logging on to the node from the installer
VM using the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">ssh</span> core@<span class="token operator">&lt;</span> replace_with_node_fqdn_or_ip <span class="token operator">&gt;</span>
</code></pre></div></li></ol> <p>After the RHCOS worker nodes are up and running, refer the section <a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/OCP-Cluster-deployment.html#red-hat-openshift-container-platform-cluster-deployment">Red
Hat OpenShift Container Platform
deployment</a>
to create the OpenShift 4 cluster.</p> <h2 id="red-hat-openshift-worker-nodes-with-rhel"><a href="#red-hat-openshift-worker-nodes-with-rhel" class="header-anchor">#</a> Red Hat OpenShift worker nodes with RHEL</h2> <p>Refer the section <a href="./Server-Profiles#server-profiles">Server Profiles</a> in this document
to create the server profile for the worker nodes before proceeding with
the subsequent section.</p> <p>After the server profile is successfully created and attached to a
compute module, refer to the following steps to install the operating
system on the worker nodes.</p> <ol><li><p>Ensure that the location of ignition files of the corresponding
nodes is updated in the PXE configuration files.</p></li> <li><p>Ensure the MAC address of the network adapter in each server profile
is updated with the corresponding IP address in the DHCP
configuration file.</p></li> <li><p>Ensure that the load balancer server is up and running.</p></li> <li><p>From the <strong>HPE OneView</strong> interface, navigate to <strong>Server Profiles</strong>
and select the appropriate Server Profile for the corresponding
nodes. Select <strong>Actions</strong> &gt; <strong>Launch Console</strong>.</p></li> <li><p>While booting, select the appropriate OS label.</p></li> <li><p>Wait until the OS installation is complete.</p></li> <li><p>Verify the installation by logging on to the node from the installer
VM using the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">ssh</span> root@<span class="token operator">&lt;</span> replace_with_node_fqdn_or_ip <span class="token operator">&gt;</span>
</code></pre></div></li></ol> <h3 id="preparing-worker-nodes-with-rhel"><a href="#preparing-worker-nodes-with-rhel" class="header-anchor">#</a> Preparing worker nodes with RHEL</h3> <p>Once the RHEL operating system is installed on the worker nodes, perform
the following steps on that node:</p> <ol><li>Log in to the RHEL host, register and attach the host pool with Red
Hat by running the following command.<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> subscription-manager register
</code></pre></div></li> <li>Execute the following command to list the available subscriptions.<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> subscription-manager list --available --matches <span class="token string">'*OpenShift*'</span> 
</code></pre></div></li> <li>In the output for the command in step 2, find the pool ID for Red
Hat OpenShift Container Platform subscription and attach it.<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> subscription-manager attach --pool<span class="token operator">=</span><span class="token operator">&lt;</span>pool_id<span class="token operator">&gt;</span> 
</code></pre></div></li> <li>Disable all repositories and enable only the repositories required
by Red Hat OpenShift Container Platform 4.6.<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> yum-config-manager --disable * 
<span class="token operator">&gt;</span> subscription-manager repos --disable<span class="token operator">=</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">\</span>
    --enable<span class="token operator">=</span><span class="token string">&quot;rhel-7-server-rpms&quot;</span> <span class="token punctuation">\</span>
    --enable<span class="token operator">=</span><span class="token string">&quot;rhel-7-server-extras-rpms&quot;</span> <span class="token punctuation">\</span>
    --enable<span class="token operator">=</span><span class="token string">&quot;rhel-7-server-ose-4.3-rpms&quot;</span>
</code></pre></div></li></ol> <p>After the RHEL 7.6 nodes are ready, refer to the section <a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/OCP-worker-nodes.html#adding-rhel-7-6-worker-nodes">Adding RHEL
7.6 worker
nodes</a>
in this document to add them to the OpenShift 4 cluster.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Bootstrap-node.html" class="prev">
        Bootstrap node
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Virtual-node-configuration.html">
        Virtual node configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/46-synergy/assets/js/app.8d09024b.js" defer></script><script src="/hpe-solutions-openshift/46-synergy/assets/js/2.117ef8fd.js" defer></script><script src="/hpe-solutions-openshift/46-synergy/assets/js/34.78fab925.js" defer></script>
  </body>
</html>
