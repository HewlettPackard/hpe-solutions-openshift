<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bootstrap node | OpenShift Container Platform 4.4 on Synergy</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/css/0.styles.bfdf2f8a.css" as="style"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/app.8d09024b.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/2.117ef8fd.js" as="script"><link rel="preload" href="/hpe-solutions-openshift/46-synergy/assets/js/30.b6d944bc.js" as="script"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/10.f2647a7a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/11.eb22f408.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/12.c2b1bda3.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/13.b2721807.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/14.fbb5bfdd.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/15.076cb55f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/16.086f907f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/17.5044d63c.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/18.0138d6da.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/19.577c768d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/20.5dab068a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/21.ea4d33a2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/22.23d6a92d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/23.329f64c2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/24.bad0d82d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/25.2a05a77a.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/26.05687ea8.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/27.5f97f9ba.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/28.9f8648b2.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/29.ffe26d0e.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/3.643f6564.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/31.b0b75d1f.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/32.4d1ff1fb.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/33.da67f8dd.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/34.78fab925.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/35.5e384204.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/36.53dec668.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/37.e773d372.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/4.7110e26d.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/5.8d6b47a1.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/6.b3a62cb0.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/7.a921eaba.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/8.8b92de32.js"><link rel="prefetch" href="/hpe-solutions-openshift/46-synergy/assets/js/9.7e00b22b.js">
    <link rel="stylesheet" href="/hpe-solutions-openshift/46-synergy/assets/css/0.styles.bfdf2f8a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-openshift/46-synergy/" class="home-link router-link-active"><!----> <span class="site-name">OpenShift Container Platform 4.4 on Synergy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-openshift/46-synergy/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-openshift/46-synergy/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Red Hat OpenShift Container Platform 4 on HPE Synergy</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Solution-Deployment-Flow.html" class="sidebar-link">Solution Deployment Flow</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Server-Profiles.html" class="sidebar-link">Server Profiles</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Operating-system-deployment.html" class="sidebar-link">Operating system deployment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/User-provisioned-DNS-requirements.html" class="sidebar-link">User-provisioned DNS requirements</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Load-Balancer.html" class="sidebar-link">Load Balancer</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Bootstrap-node.html" aria-current="page" class="active sidebar-link">Bootstrap node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Bootstrap-node.html#playbooks-for-creating-the-bootstrap-node" class="sidebar-link">Playbooks for creating the bootstrap node</a></li></ul></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html" class="sidebar-link">Physical node configuration</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Virtual-node-configuration.html" class="sidebar-link">Virtual node configuration</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/OCP-Cluster-deployment.html" class="sidebar-link">Red Hat OpenShift Container Platform Cluster deployment</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/worker-nodes.html" class="sidebar-link">Red Hat OCP worker nodes</a></li><li><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Deploying-OCP-on-VMware-vSphere.html" class="sidebar-link">Deploying OpenShift Container Platform 4.6 on VMware vSphere</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Additional Features and Functionality</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bootstrap-node"><a href="#bootstrap-node" class="header-anchor">#</a> Bootstrap node</h1> <p>A temporary bootstrap node is required for OpenShift cluster creation.
This section assumes that a VMware vSphere host is present within the
deployment environment and is associated with a VMware vCenter server.
The host should be configured with appropriate storage and networking
configuration.</p> <h2 id="playbooks-for-creating-the-bootstrap-node"><a href="#playbooks-for-creating-the-bootstrap-node" class="header-anchor">#</a> Playbooks for creating the bootstrap node</h2> <ol><li><p><strong>inputs.yml</strong>: This file contains input variables to create the
bootstrap VM. Some of the variables pertaining to the VM configuration
are provided with default values as per the Red Hat guidelines. It is
expected that the installation user updates the values to suit their
installation environment.</p> <ul><li><p><strong>datacenter_name</strong>: Name of the VMware data center.</p></li> <li><p><strong>cluster_name</strong>: Name of the VMware cluster.</p></li> <li><p><strong>datastore_name</strong>: Name of the VMware datastore.</p></li> <li><p><strong>network_name</strong>: Name of the network associated with the vSphere
host.</p></li> <li><p><strong>bootstrap_disk</strong>: Disk size for the bootstrap node.</p></li> <li><p><strong>bootstrap_cpu</strong>: Number of vCPUs for the bootstrap node.</p></li> <li><p><strong>bootstrap_name</strong>: Custom name of the bootstrap node.</p></li></ul></li> <li><p><strong>secret.yml</strong>: This is an Ansible vault file that contains
sensitive information such as the VMware vCenter server IP address
and credentials.</p></li> <li><p><strong>playbooks/deploy_vm.yml</strong>: This playbook is used to create the
bootstrap VM.</p></li> <li><p><strong>roles/deploy_vm.yml</strong>: This is the Ansible role file that is
required to create the bootstrap VM. Each role is associated with a
set of tasks to accomplish the expected output and they are present
in the tasks directory within the role.</p></li></ol> <p>Follow these steps to create the bootstrap node:</p> <ol><li><p>Login to the installer VM.</p></li> <li><p>Use the following command to change the directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> /opt/hpe/solutions/ocp/hpe-solutions-openshift/synergy/scalable/infrastructure
</code></pre></div></li> <li><p>Update the secret.yml to provide the details of the VMware vCenter
server using the following command. A sample input is provided and
it is expected that the installation user updates the configuration
to suit the deployment environment.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-vault edit secret.yml
</code></pre></div><div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># vcenter hostname/ip address and credentials</span>
<span class="token key atrule">vcenter_hostname</span><span class="token punctuation">:</span> &lt;vcenter hostname<span class="token punctuation">&gt;</span>;
<span class="token key atrule">vcenter_username</span><span class="token punctuation">:</span> &lt;vcenter username<span class="token punctuation">&gt;</span>;
<span class="token key atrule">vcenter_password</span><span class="token punctuation">:</span> &lt;vcenter password<span class="token punctuation">&gt;</span>;
</code></pre></div></li> <li><p>Update the <em>input.yml</em> file with the data center, cluster, and
datastore information that will be used within the VMware vCenter
server. This file provides default configuration information for the
bootstrap node, if required. The configuration can be updated to
suit the environment needs.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># Variables for creating the bootstrap VM, as per the vSphere host configuration within the vCenter</span>
<span class="token key atrule">datacenter_name</span><span class="token punctuation">:</span> &lt;name of data center within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">cluster_name</span><span class="token punctuation">:</span> &lt;name of cluster within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">datastore_name</span><span class="token punctuation">:</span> &lt;name of datastore within vcenter<span class="token punctuation">&gt;</span>;
<span class="token key atrule">network_name</span><span class="token punctuation">:</span> &lt;name of the network within vcenter<span class="token punctuation">&gt;</span>;

<span class="token comment"># Default values for creating the bootstrap VM</span>
<span class="token key atrule">bootstrap_disk</span><span class="token punctuation">:</span> <span class="token number">150</span>
<span class="token key atrule">bootstrap_cpu</span><span class="token punctuation">:</span> <span class="token number">4</span>
<span class="token key atrule">bootstrap_memory</span><span class="token punctuation">:</span> <span class="token number">16400</span>
<span class="token key atrule">bootstrap_name</span><span class="token punctuation">:</span> Bootstrap
</code></pre></div></li> <li><p>After the <em>input.yml</em> and <em>secret.yml</em> files are updated with
appropriate values, execute the playbook with the following command
to create the bootstrap VM.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> ansible-playbook –i hosts playbooks/deploy_vm.yml –ask-vault-pass
</code></pre></div></li></ol> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>It is essential that all the nodes within the deployment environment are
synchronized for time using an NTP server. Failure to do so will result
in an installation failure due to mismatches in certificates or other
files with time dependencies.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Load-Balancer.html" class="prev">
        Load Balancer
      </a></span> <span class="next"><a href="/hpe-solutions-openshift/46-synergy/Solution-Deployment/Physical-node-configuration.html">
        Physical node configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-openshift/46-synergy/assets/js/app.8d09024b.js" defer></script><script src="/hpe-solutions-openshift/46-synergy/assets/js/2.117ef8fd.js" defer></script><script src="/hpe-solutions-openshift/46-synergy/assets/js/30.b6d944bc.js" defer></script>
  </body>
</html>
